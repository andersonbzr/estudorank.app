{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/adsli/EstudoRank-patched-2025-10-22/estudorank/src/lib/supabase/client.ts"],"sourcesContent":["// src/lib/supabase/client.ts\r\nimport { createClient, type SupabaseClient } from \"@supabase/supabase-js\";\r\n\r\nlet _client: SupabaseClient | null = null;\r\n\r\n/**\r\n * Cliente do Supabase para uso no browser (componentes client).\r\n * Usa storageKey custom \"sr-auth\" para evitar conflitos e manter sessão.\r\n */\r\nexport function supabaseBrowser(): SupabaseClient {\r\n  if (_client) return _client;\r\n\r\n  const url = process.env.NEXT_PUBLIC_SUPABASE_URL!;\r\n  const anon = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\r\n\r\n  if (!url || !anon) {\r\n    throw new Error(\r\n      \"Env vars ausentes: defina NEXT_PUBLIC_SUPABASE_URL e NEXT_PUBLIC_SUPABASE_ANON_KEY.\"\r\n    );\r\n  }\r\n\r\n  _client = createClient(url, anon, {\r\n    auth: {\r\n      persistSession: true,\r\n      autoRefreshToken: true,\r\n      storageKey: \"sr-auth\",\r\n    },\r\n  });\r\n\r\n  return _client;\r\n}\r\n"],"names":[],"mappings":"AAAA,6BAA6B;;;;;AAYf;AAXd;;AAEA,IAAI,UAAiC;AAM9B,SAAS;IACd,IAAI,SAAS,OAAO;IAEpB,MAAM;IACN,MAAM;IAEN;;IAMA,UAAU,IAAA,0MAAY,EAAC,KAAK,MAAM;QAChC,MAAM;YACJ,gBAAgB;YAChB,kBAAkB;YAClB,YAAY;QACd;IACF;IAEA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 35, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/adsli/EstudoRank-patched-2025-10-22/estudorank/src/components/AdminGuard.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useMemo, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { supabaseBrowser } from \"@/lib/supabase/client\";\r\n\r\nexport default function AdminGuard({ children }: { children: React.ReactNode }) {\r\n  const router = useRouter();\r\n  const supabase = useMemo(() => supabaseBrowser(), []);\r\n  const [checking, setChecking] = useState(true);\r\n\r\n  useEffect(() => {\r\n    async function check() {\r\n      const { data: userData } = await supabase.auth.getUser();\r\n      const user = userData.user;\r\n      if (!user) {\r\n        router.replace(\"/login\");\r\n        return;\r\n      }\r\n      const { data: prof, error } = await supabase\r\n        .from(\"profiles\")\r\n        .select(\"is_admin\")\r\n        .eq(\"id\", user.id)\r\n        .single();\r\n\r\n      if (error || !prof?.is_admin) {\r\n        router.replace(\"/forbidden\");\r\n        return;\r\n      }\r\n      setChecking(false);\r\n    }\r\n    check();\r\n  }, [router, supabase]);\r\n\r\n  if (checking) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"bg-[var(--surface)] p-6 rounded-2xl border border-white/10\">\r\n          Verificando permissões...\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return <>{children}</>;\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAMe,SAAS,WAAW,KAA2C;QAA3C,EAAE,QAAQ,EAAiC,GAA3C;;IACjC,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,WAAW,IAAA,wKAAO;wCAAC,IAAM,IAAA,sJAAe;uCAAI,EAAE;IACpD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IAEzC,IAAA,0KAAS;gCAAC;YACR,eAAe;gBACb,MAAM,EAAE,MAAM,QAAQ,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;gBACtD,MAAM,OAAO,SAAS,IAAI;gBAC1B,IAAI,CAAC,MAAM;oBACT,OAAO,OAAO,CAAC;oBACf;gBACF;gBACA,MAAM,EAAE,MAAM,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SACjC,IAAI,CAAC,YACL,MAAM,CAAC,YACP,EAAE,CAAC,MAAM,KAAK,EAAE,EAChB,MAAM;gBAET,IAAI,SAAS,EAAC,iBAAA,2BAAA,KAAM,QAAQ,GAAE;oBAC5B,OAAO,OAAO,CAAC;oBACf;gBACF;gBACA,YAAY;YACd;YACA;QACF;+BAAG;QAAC;QAAQ;KAAS;IAErB,IAAI,UAAU;QACZ,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;0BAA6D;;;;;;;;;;;IAKlF;IAEA,qBAAO;kBAAG;;AACZ;GAvCwB;;QACP,kJAAS;;;KADF","debugId":null}},
    {"offset": {"line": 115, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/adsli/EstudoRank-patched-2025-10-22/estudorank/src/components/shell/Sidebar.tsx"],"sourcesContent":["// src/components/shell/Sidebar.tsx\r\n\"use client\";\r\n\r\nimport React, { useCallback, useEffect, useMemo, useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { usePathname, useRouter } from \"next/navigation\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport {\r\n  LayoutDashboard, Trophy, Settings, Shield, Users, BookOpen, TerminalSquare,\r\n  Gauge, ChevronLeft, ChevronRight, LogOut, Menu, GitBranch, Database, FileClock,\r\n} from \"lucide-react\";\r\n\r\n/* ------------------ util ------------------ */\r\nfunction cx(...c: (string | false | undefined)[]) { return c.filter(Boolean).join(\" \"); }\r\nconst LS_KEY = \"sidebar:pinned\";\r\n\r\n/* ------------------ Tipagem ------------------ */\r\ntype NavItem = {\r\n  label: string;\r\n  href?: string;\r\n  icon: React.ReactNode;\r\n  hotkey?: string; // ex: \"g m\"\r\n  // children para grupos\r\n  children?: Array<Omit<NavItem, \"children\">>;\r\n};\r\n\r\ntype Props = {\r\n  onToggleCmdk?: () => void; // se tiver palette (⌘K)\r\n  onLogout?: () => void;\r\n};\r\n\r\n/* ------------------ Dados (default) ------------------ */\r\nconst MAIN: NavItem[] = [\r\n  { label: \"Meu Painel\", href: \"/\", icon: <Gauge size={18} />, hotkey: \"g m\" },\r\n  { label: \"Ranking\", href: \"/ranking\", icon: <Trophy size={18} />, hotkey: \"g r\" },\r\n  {\r\n    label: \"Configurações\",\r\n    href: \"/settings\",\r\n    icon: <Settings size={18} />,\r\n    hotkey: \"g c\",\r\n  },\r\n  {\r\n    label: \"Administração\",\r\n    icon: <Shield size={18} />,\r\n    hotkey: \"g a\",\r\n    children: [\r\n      { label: \"Cursos\", href: \"/admin/courses\", icon: <BookOpen size={16} />, hotkey: \"g a c\" },\r\n      { label: \"Usuários\", href: \"/admin/users\", icon: <Users size={16} />, hotkey: \"g a u\" },\r\n      { label: \"Logs\", href: \"/admin/logs\", icon: <FileClock size={16} />, hotkey: \"g a l\" },\r\n      { label: \"Integrações\", href: \"/admin/integrations\", icon: <GitBranch size={16} />, hotkey: \"g a i\" },\r\n      // exemplo: { label: \"Banco\", href: \"/admin/db\", icon: <Database size={16} />, hotkey: \"g a b\" },\r\n    ],\r\n  },\r\n];\r\n\r\n/* ------------------ Tooltip minimal ------------------ */\r\nfunction Tooltip({ label, show }: { label: string; show: boolean }) {\r\n  return (\r\n    <AnimatePresence>\r\n      {show && (\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 2 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          exit={{ opacity: 0, y: 2 }}\r\n          transition={{ duration: 0.12 }}\r\n          className=\"pointer-events-none absolute left-full ml-2 top-1/2 -translate-y-1/2 whitespace-nowrap\r\n                     rounded-md border border-white/10 bg-black/90 px-2 py-1 text-[11px] text-white/90 shadow-lg\"\r\n          role=\"tooltip\"\r\n        >\r\n          {label}\r\n        </motion.div>\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n}\r\n\r\n/* ------------------ Componente ------------------ */\r\nexport default function Sidebar({ onToggleCmdk, onLogout }: Props) {\r\n  const pathname = usePathname();\r\n  const router = useRouter();\r\n\r\n  const [pinned, setPinned] = useState<boolean>(true);\r\n  const [hovered, setHovered] = useState(false);\r\n  const [adminOpen, setAdminOpen] = useState(true);\r\n\r\n  // carregar preferencia\r\n  useEffect(() => {\r\n    const raw = typeof window !== \"undefined\" ? localStorage.getItem(LS_KEY) : null;\r\n    setPinned(raw !== \"false\"); // default pinned\r\n  }, []);\r\n  useEffect(() => {\r\n    localStorage.setItem(LS_KEY, String(pinned));\r\n  }, [pinned]);\r\n\r\n  // atalhos\r\n  useEffect(() => {\r\n    function onKey(e: KeyboardEvent) {\r\n      const combo = (e.ctrlKey || e.metaKey) ? \"cmd\" : \"\";\r\n      const key = e.key.toLowerCase();\r\n\r\n      // palette (cmd/ctrl+k)\r\n      if (combo === \"cmd\" && key === \"k\") {\r\n        e.preventDefault();\r\n        onToggleCmdk?.();\r\n        return;\r\n      }\r\n\r\n      // atalhos \"g x\"\r\n      // usamos um buffer simples de 600ms\r\n      // g m (meu painel), g r, g c, g a, g a c ...\r\n      staticBuffer.push(key);\r\n      clearTimeout(staticTimer as any);\r\n      staticTimer = setTimeout(() => (staticBuffer.length = 0), 600);\r\n\r\n      const seq = staticBuffer.join(\" \");\r\n      const flat: NavItem[] = [\r\n        ...MAIN.filter(i => !i.children),\r\n        ...MAIN.find(i => i.children)?.children ?? [],\r\n      ];\r\n      const target = flat.find(n => n.hotkey && n.hotkey.replace(/\\s+/g, \" \") === seq);\r\n      if (target?.href) {\r\n        e.preventDefault();\r\n        router.push(target.href);\r\n        staticBuffer.length = 0;\r\n      }\r\n    }\r\n    let staticBuffer: string[] = [];\r\n    let staticTimer: any = null;\r\n    window.addEventListener(\"keydown\", onKey);\r\n    return () => window.removeEventListener(\"keydown\", onKey);\r\n  }, [router, onToggleCmdk]);\r\n\r\n  // se a “Segurança” já foi para /settings, ela não aparece na raiz (já removida em MAIN)\r\n  const isRail = !pinned && !hovered;\r\n\r\n  return (\r\n    <aside\r\n      className={cx(\r\n        \"group fixed left-0 top-0 bottom-0 z-40\",\r\n        \"bg-gradient-to-b from-neutral-900/70 to-black/70 backdrop-blur-xl\",\r\n        \"border-r border-white/10\",\r\n        \"shadow-[inset_0_0_0_1px_rgba(255,255,255,0.04)]\",\r\n        \"transition-[width] duration-200 ease-out\",\r\n        isRail ? \"w-[72px]\" : \"w-[280px]\"\r\n      )}\r\n      onMouseEnter={() => setHovered(true)}\r\n      onMouseLeave={() => setHovered(false)}\r\n      aria-label=\"Barra lateral de navegação\"\r\n    >\r\n      {/* topo */}\r\n      <div className=\"h-14 px-3 flex items-center justify-between\">\r\n        <Link href=\"/\" className=\"flex items-center gap-2\">\r\n          <div className=\"h-6 w-6 rounded-lg bg-lime-400/20 border border-lime-400/30 grid place-items-center\">\r\n            <LayoutDashboard size={14} className=\"text-lime-300\" />\r\n          </div>\r\n          {!isRail && (\r\n            <span className=\"font-semibold text-lime-300 drop-shadow-[0_0_10px_rgba(163,230,53,0.25)]\">\r\n              EstudoRank\r\n            </span>\r\n          )}\r\n        </Link>\r\n\r\n        {/* pin/unpin */}\r\n        <button\r\n          className=\"h-8 w-8 grid place-items-center rounded-lg hover:bg-white/10\"\r\n          onClick={() => setPinned(p => !p)}\r\n          aria-pressed={pinned}\r\n          aria-label={pinned ? \"Desafixar sidebar\" : \"Fixar sidebar\"}\r\n        >\r\n          {isRail ? <ChevronRight size={16} /> : <ChevronLeft size={16} />}\r\n        </button>\r\n      </div>\r\n\r\n      {/* busca/palette */}\r\n      {!isRail && (\r\n        <div className=\"px-3 pb-2\">\r\n          <button\r\n            onClick={onToggleCmdk}\r\n            className=\"w-full h-9 rounded-xl bg-white/5 border border-white/10 text-left px-3 text-sm\r\n                       hover:bg-white/10 transition flex items-center justify-between\"\r\n          >\r\n            <span className=\"opacity-70\">Buscar…</span>\r\n            <kbd className=\"text-[10px] opacity-60 border border-white/15 rounded px-1 py-[1px]\">⌘K</kbd>\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {/* navegação */}\r\n      <nav className=\"mt-1 px-2 space-y-2\">\r\n        {MAIN.map((item, idx) => {\r\n          const hasChildren = !!item.children?.length;\r\n          if (!hasChildren) {\r\n            const active = item.href && pathname?.startsWith(item.href);\r\n            return (\r\n              <NavRow\r\n                key={item.label}\r\n                icon={item.icon}\r\n                label={item.label}\r\n                href={item.href}\r\n                hotkey={item.hotkey}\r\n                rail={isRail}\r\n                active={!!active}\r\n              />\r\n            );\r\n          }\r\n\r\n          const adminActive =\r\n            item.children?.some(ch => ch.href && pathname?.startsWith(ch.href)) ?? false;\r\n\r\n          return (\r\n            <div key={item.label} className=\"relative\">\r\n              <NavRow\r\n                icon={item.icon}\r\n                label={item.label}\r\n                rail={isRail}\r\n                active={adminActive}\r\n                onClick={() => setAdminOpen(v => !v)}\r\n                expandable\r\n                expanded={adminOpen}\r\n              />\r\n              <AnimatePresence initial={false}>\r\n                {adminOpen && (\r\n                  <motion.div\r\n                    initial={{ height: 0, opacity: 0 }}\r\n                    animate={{ height: \"auto\", opacity: 1 }}\r\n                    exit={{ height: 0, opacity: 0 }}\r\n                    transition={{ duration: 0.16 }}\r\n                    className={cx(\"pl-[14px] border-l border-white/10 ml-4\", isRail && \"hidden\")}\r\n                  >\r\n                    <div className=\"py-1\" />\r\n                    {item.children!.map(ch => {\r\n                      const active = ch.href && pathname?.startsWith(ch.href!);\r\n                      return (\r\n                        <NavRow\r\n                          key={ch.label}\r\n                          icon={ch.icon}\r\n                          label={ch.label}\r\n                          href={ch.href}\r\n                          hotkey={ch.hotkey}\r\n                          rail={false}\r\n                          active={!!active}\r\n                          small\r\n                        />\r\n                      );\r\n                    })}\r\n                    <div className=\"py-1\" />\r\n                  </motion.div>\r\n                )}\r\n              </AnimatePresence>\r\n\r\n              {/* tooltip do grupo em rail */}\r\n              {isRail && (\r\n                <Tooltip label={item.label} show />\r\n              )}\r\n            </div>\r\n          );\r\n        })}\r\n      </nav>\r\n\r\n      {/* footer */}\r\n      <div className=\"absolute left-0 right-0 bottom-0 p-3 border-t border-white/10\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <div className=\"h-8 w-8 rounded-full bg-white/10 grid place-items-center text-xs\">N</div>\r\n          {!isRail && (\r\n            <div className=\"min-w-0\">\r\n              <div className=\"text-sm leading-tight\">Você</div>\r\n              <div className=\"text-[11px] opacity-60 truncate\">logged@user.email</div>\r\n            </div>\r\n          )}\r\n          <div className=\"ml-auto flex items-center gap-1\">\r\n            <button\r\n              className=\"h-8 w-8 grid place-items-center rounded-lg hover:bg-white/10\"\r\n              aria-label=\"Menu\"\r\n              onClick={onToggleCmdk}\r\n              title=\"Comandos\"\r\n            >\r\n              <Menu size={16} />\r\n            </button>\r\n            <button\r\n              className=\"h-8 w-8 grid place-items-center rounded-lg hover:bg-white/10\"\r\n              onClick={onLogout}\r\n              aria-label=\"Sair\"\r\n              title=\"Sair\"\r\n            >\r\n              <LogOut size={16} />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </aside>\r\n  );\r\n}\r\n\r\n/* ------------------ Linha de navegação ------------------ */\r\nfunction NavRow({\r\n  icon, label, href, hotkey, rail, active, onClick, small, expandable, expanded,\r\n}: {\r\n  icon: React.ReactNode;\r\n  label: string;\r\n  href?: string;\r\n  hotkey?: string;\r\n  rail: boolean;\r\n  active?: boolean;\r\n  onClick?: () => void;\r\n  small?: boolean;\r\n  expandable?: boolean;\r\n  expanded?: boolean;\r\n}) {\r\n  const content = (\r\n    <div\r\n      className={cx(\r\n        \"flex items-center gap-3 rounded-xl border transition relative\",\r\n        active\r\n          ? \"border-lime-400/30 bg-lime-400/10 shadow-[0_0_10px_rgba(163,230,53,0.25)]\"\r\n          : \"border-white/10 bg-white/5 hover:bg-white/10\",\r\n        small ? \"h-9 px-2 text-[13px]\" : \"h-11 px-3 text-sm\"\r\n      )}\r\n    >\r\n      <div className={cx(\"grid place-items-center flex-shrink-0\", small ? \"h-7 w-7\" : \"h-8 w-8\")}>\r\n        {icon}\r\n      </div>\r\n      {!rail && (\r\n        <>\r\n          <span className=\"flex-1 truncate\">{label}</span>\r\n          {hotkey && (\r\n            <kbd className=\"text-[10px] opacity-60 border border-white/15 rounded px-1 py-[1px] hidden xl:block\">\r\n              {hotkey.toUpperCase()}\r\n            </kbd>\r\n          )}\r\n          {expandable && (\r\n            <ChevronRight\r\n              size={14}\r\n              className={cx(\"transition\", expanded ? \"rotate-90 opacity-100\" : \"opacity-70\")}\r\n            />\r\n          )}\r\n        </>\r\n      )}\r\n      {/* tooltip em rail */}\r\n      {rail && <Tooltip label={label} show />}\r\n    </div>\r\n  );\r\n\r\n  // wrapper com Link ou botão\r\n  if (href) {\r\n    return (\r\n      <Link href={href} aria-current={active ? \"page\" : undefined} className=\"relative block\">\r\n        {content}\r\n      </Link>\r\n    );\r\n  }\r\n  return (\r\n    <button type=\"button\" onClick={onClick} className=\"w-full text-left relative\">\r\n      {content}\r\n    </button>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 782, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/adsli/EstudoRank-patched-2025-10-22/estudorank/src/components/I18nProvider.tsx"],"sourcesContent":["// src/components/I18nProvider.tsx\r\n\"use client\";\r\n\r\nimport React, { createContext, useContext, useEffect, useMemo, useState } from \"react\";\r\n\r\n/**\r\n * Dicionários simples. Mantive pt-BR como padrão.\r\n * Se quiser, pode preencher/enxugar o en-US — o app vai cair no pt-BR quando faltar chave.\r\n */\r\ntype Dict = Record<string, string | ((vars?: Record<string, any>) => string)>;\r\n\r\nconst ptBR: Dict = {\r\n  // Globais / Header / Sidebar\r\n  welcome: ({ name }: any) => (name ? `Bem-vindo, ${name}` : \"Bem-vindo\"),\r\n  myPanel: \"Meu Painel\",\r\n  ranking: \"Ranking\",\r\n  settings: \"Configurações\",\r\n  admin: \"Admin\",\r\n  refresh: \"Atualizar\",\r\n  prev: \"Anterior\",\r\n  next: \"Próxima\",\r\n  signOut: \"Sair\",\r\n\r\n  // Página /me\r\n  yourPoints: \"Seus pontos:\",\r\n  creatingExample: \"Criando exemplo...\",\r\n  createExample: \"Criar dados de exemplo\",\r\n  weeklyGoalLabel: ({ done, goal }: any) => `Meta semanal (seg–dom): ${done}/${goal} módulos`,\r\n  saveGoal: \"Salvar meta\",\r\n  generalProgress: \"Progresso geral\",\r\n  modulesCompleted: ({ done, total }: any) => `${done}/${total} módulos concluídos`,\r\n  loadingCoursesModules: \"Carregando cursos e módulos...\",\r\n  noActiveCourses: \"Nenhum curso ativo. Use “Criar dados de exemplo”.\",\r\n  donePlusPoints: \"Concluído (+10 pts)\",\r\n  pending: \"Pendente\",\r\n  updating: \"Atualizando...\",\r\n  undo: \"Desfazer\",\r\n  conclude: \"Concluir\",\r\n\r\n  // Admin / Cursos\r\n  adminCoursesTitle: \"Admin • Cursos & Módulos\",\r\n  adminCoursesSubtitle:\r\n    \"Crie cursos, adicione módulos, ative/desative e edite títulos. Somente administradores podem alterar.\",\r\n  demoMode: \"Modo Demo\",\r\n  demoModeDesc: \"Popula vários cursos e módulos de exemplo.\",\r\n  populating: \"Populando...\",\r\n  populateDemo: \"Popular demo\",\r\n  newCourse: \"Novo curso\",\r\n  courseTitlePlaceholder: \"Título do curso\",\r\n  courseDescPlaceholder: \"Descrição (opcional)\",\r\n  creating: \"Criando...\",\r\n  createCourse: \"Criar curso\",\r\n  titleLabel: \"Título\",\r\n  disable: \"Desativar\",\r\n  enable: \"Ativar\",\r\n  delete: \"Excluir\",\r\n  modulePlaceholder: \"Novo módulo...\",\r\n  addModule: \"Adicionar módulo\",\r\n  adding: \"Adicionando...\",\r\n  moduleLabel: \"Módulo\",\r\n  save: \"Salvar\",\r\n  cancel: \"Cancelar\",\r\n  edit: \"Editar\",\r\n  loading: \"Carregando...\",\r\n  noCourses: \"Nenhum curso. Crie um acima.\",\r\n\r\n  // Ranking\r\n  position: \"Posição\",\r\n  user: \"Usuário\",\r\n  points: \"Pontos\",\r\n  loadingRanking: \"Carregando ranking...\",\r\n  noDataYet: \"Sem dados ainda.\",\r\n  paginationSummary: ({ total, page, pages }: any) => `${total} usuários • página ${page} de ${pages}`,\r\n};\r\n\r\nconst enUS: Dict = {\r\n  // (opcional, serve como fallback para quando você selecionar \"en-US\" no futuro)\r\n  welcome: ({ name }: any) => (name ? `Welcome, ${name}` : \"Welcome\"),\r\n  myPanel: \"My Panel\",\r\n  ranking: \"Ranking\",\r\n  settings: \"Settings\",\r\n  admin: \"Admin\",\r\n  refresh: \"Refresh\",\r\n  prev: \"Previous\",\r\n  next: \"Next\",\r\n  signOut: \"Sign out\",\r\n};\r\n\r\nexport type Locale = \"pt-BR\" | \"en-US\";\r\n\r\nconst dictionaries: Record<Locale, Dict> = {\r\n  \"pt-BR\": ptBR,\r\n  \"en-US\": enUS,\r\n};\r\n\r\ntype I18nCtxType = {\r\n  locale: Locale;\r\n  setLocale: (l: Locale) => void;\r\n  t: (key: string, vars?: Record<string, any>) => string;\r\n};\r\n\r\nconst I18nCtx = createContext<I18nCtxType | null>(null);\r\n\r\nexport function I18nProvider({ children }: { children: React.ReactNode }) {\r\n  // Se não for usar troca de idioma agora, deixe fixo em 'pt-BR'\r\n  const [locale, setLocaleState] = useState<Locale>(\"pt-BR\");\r\n\r\n  // Mantém o atributo lang coerente (não é obrigatório, mas ajuda em SEO/acessibilidade)\r\n  useEffect(() => {\r\n    document.documentElement.setAttribute(\"lang\", locale);\r\n  }, [locale]);\r\n\r\n  // Exponho setLocale para compatibilidade futura (hoje pode ficar sem uso)\r\n  const setLocale = (l: Locale) => {\r\n    setLocaleState(l);\r\n  };\r\n\r\n  // Tradutor com fallback para pt-BR e, por fim, a própria chave\r\n  const t = useMemo(() => {\r\n    return (key: string, vars?: Record<string, any>) => {\r\n      const dict = dictionaries[locale] || ptBR;\r\n      const entry = dict[key];\r\n      if (typeof entry === \"function\") return (entry as any)(vars || {});\r\n      if (typeof entry === \"string\") return entry;\r\n\r\n      const fb = ptBR[key];\r\n      if (typeof fb === \"function\") return (fb as any)(vars || {});\r\n      if (typeof fb === \"string\") return fb;\r\n\r\n      return key;\r\n    };\r\n  }, [locale]);\r\n\r\n  const value = useMemo(() => ({ locale, setLocale, t }), [locale, t]);\r\n\r\n  return <I18nCtx.Provider value={value}>{children}</I18nCtx.Provider>;\r\n}\r\n\r\nexport function useI18n() {\r\n  const ctx = useContext(I18nCtx);\r\n  if (!ctx) throw new Error(\"useI18n must be used within I18nProvider\");\r\n  return ctx;\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 959, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/adsli/EstudoRank-patched-2025-10-22/estudorank/src/components/shell/AppShell.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { ReactNode, useEffect, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport Sidebar from \"./Sidebar\";\r\nimport { supabaseBrowser } from \"@/lib/supabase/client\";\r\nimport { I18nProvider } from \"@/components/I18nProvider\";\r\n\r\nexport default function AppShell({ children }: { children: ReactNode }) {\r\n  const router = useRouter();\r\n  const [displayName, setDisplayName] = useState<string | null>(null);\r\n  const [isAdmin, setIsAdmin] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const sb = supabaseBrowser();\r\n    sb.auth.getUser().then(async ({ data }) => {\r\n      const u = data.user;\r\n      if (!u) {\r\n        setIsAdmin(false);\r\n        setDisplayName(null);\r\n        router.replace(\"/login\");\r\n        return;\r\n      }\r\n      const { data: prof } = await sb\r\n        .from(\"profiles\")\r\n        .select(\"is_admin, full_name, name\")\r\n        .eq(\"id\", u.id)\r\n        .single();\r\n\r\n      setIsAdmin(!!prof?.is_admin);\r\n      const name =\r\n        (prof?.full_name && String(prof.full_name).trim()) ||\r\n        (prof?.name && String(prof.name).trim()) ||\r\n        u.email ||\r\n        null;\r\n      setDisplayName(name);\r\n    });\r\n  }, [router]);\r\n\r\n  async function signOut() {\r\n    const sb = supabaseBrowser();\r\n    await sb.auth.signOut();\r\n    router.replace(\"/login\");\r\n  }\r\n\r\n  return (\r\n    <I18nProvider>\r\n      <div className=\"flex min-h-screen bg-black text-white\">\r\n        {/* Sidebar */}\r\n        <Sidebar\r\n          onLogout={signOut}\r\n          onToggleCmdk={() => console.log(\"abrir palette\")}\r\n        />\r\n\r\n        {/* Conteúdo principal */}\r\n        <main className=\"flex-1 px-4 sm:px-8 py-6 lg:py-8 overflow-y-auto\">\r\n          {children}\r\n        </main>\r\n      </div>\r\n    </I18nProvider>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;;;AANA;;;;;;AAQe,SAAS,SAAS,KAAqC;QAArC,EAAE,QAAQ,EAA2B,GAArC;;IAC/B,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAgB;IAC9D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,IAAA,0KAAS;8BAAC;YACR,MAAM,KAAK,IAAA,sJAAe;YAC1B,GAAG,IAAI,CAAC,OAAO,GAAG,IAAI;sCAAC;wBAAO,EAAE,IAAI,EAAE;oBACpC,MAAM,IAAI,KAAK,IAAI;oBACnB,IAAI,CAAC,GAAG;wBACN,WAAW;wBACX,eAAe;wBACf,OAAO,OAAO,CAAC;wBACf;oBACF;oBACA,MAAM,EAAE,MAAM,IAAI,EAAE,GAAG,MAAM,GAC1B,IAAI,CAAC,YACL,MAAM,CAAC,6BACP,EAAE,CAAC,MAAM,EAAE,EAAE,EACb,MAAM;oBAET,WAAW,CAAC,EAAC,iBAAA,2BAAA,KAAM,QAAQ;oBAC3B,MAAM,OACJ,CAAC,iBAAA,2BAAA,KAAM,SAAS,KAAI,OAAO,KAAK,SAAS,EAAE,IAAI,MAC9C,CAAA,iBAAA,2BAAA,KAAM,IAAI,KAAI,OAAO,KAAK,IAAI,EAAE,IAAI,MACrC,EAAE,KAAK,IACP;oBACF,eAAe;gBACjB;;QACF;6BAAG;QAAC;KAAO;IAEX,eAAe;QACb,MAAM,KAAK,IAAA,sJAAe;QAC1B,MAAM,GAAG,IAAI,CAAC,OAAO;QACrB,OAAO,OAAO,CAAC;IACjB;IAEA,qBACE,6LAAC,qJAAY;kBACX,cAAA,6LAAC;YAAI,WAAU;;8BAEb,6LAAC,oJAAO;oBACN,UAAU;oBACV,cAAc,IAAM,QAAQ,GAAG,CAAC;;;;;;8BAIlC,6LAAC;oBAAK,WAAU;8BACb;;;;;;;;;;;;;;;;;AAKX;GArDwB;;QACP,kJAAS;;;KADF","debugId":null}},
    {"offset": {"line": 1058, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/adsli/EstudoRank-patched-2025-10-22/estudorank/src/app/admin/courses/page.tsx"],"sourcesContent":["// src/app/admin/courses/page.tsx\r\n\"use client\";\r\n\r\nimport { useEffect, useMemo, useState, useCallback } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport {\r\n  Plus, Search, Filter, Pencil, Copy, Trash2, Power, FileText, X, ChevronRight,\r\n  ChevronsLeft, ChevronLeft, ChevronRight as ChevronRightIcon, ChevronsRight,\r\n  Shield, MessageSquareText, Users, Loader2,\r\n} from \"lucide-react\";\r\nimport AdminGuard from \"@/components/AdminGuard\";\r\nimport AppShell from \"@/components/shell/AppShell\";\r\nimport { supabaseBrowser } from \"@/lib/supabase/client\";\r\nimport { useToast } from \"@/components/Toast\";\r\n\r\n/* Tipos */\r\ntype Course = {\r\n  id: string;\r\n  title: string;\r\n  description: string | null;\r\n  is_active: boolean;\r\n  created_at?: string | null; // usamos created_at\r\n};\r\ntype Module = {\r\n  id: string;\r\n  course_id: string;\r\n  title: string;\r\n  sort_order: number;\r\n  is_active: boolean;\r\n};\r\n\r\nexport default function AdminCoursesPage() {\r\n  return (\r\n    <AdminGuard>\r\n      <AppShell>\r\n        <Content />\r\n      </AppShell>\r\n    </AdminGuard>\r\n  );\r\n}\r\n\r\nfunction Content() {\r\n  const sb = useMemo(() => supabaseBrowser(), []);\r\n  const toast = useToast();\r\n\r\n  const [q, setQ] = useState(\"\");\r\n  const [qDeb, setQDeb] = useState(\"\"); // debounce da busca\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [courses, setCourses] = useState<Course[]>([]);\r\n  const [modules, setModules] = useState<Module[]>([]);\r\n  const [msg, setMsg] = useState<string | null>(null);\r\n\r\n  const [showNew, setShowNew] = useState(false);\r\n  const [editing, setEditing] = useState<Course | null>(null);\r\n\r\n  // paginação\r\n  const [page, setPage] = useState(1);\r\n  const pageSize = 10;\r\n\r\n  useEffect(() => {\r\n    loadAll();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  // debounce da busca\r\n  useEffect(() => {\r\n    const t = setTimeout(() => setQDeb(q.trim().toLowerCase()), 200);\r\n    return () => clearTimeout(t);\r\n  }, [q]);\r\n\r\n  // ESC para fechar modal/drawer\r\n  useEffect(() => {\r\n    function onKey(e: KeyboardEvent) {\r\n      if (e.key === \"Escape\") {\r\n        setShowNew(false);\r\n        setEditing(null);\r\n      }\r\n    }\r\n    window.addEventListener(\"keydown\", onKey);\r\n    return () => window.removeEventListener(\"keydown\", onKey);\r\n  }, []);\r\n\r\n  async function loadAll() {\r\n    setLoading(true);\r\n    setMsg(null);\r\n    const [c1, m1] = await Promise.all([\r\n      sb.from(\"courses\")\r\n        .select(\"id,title,description,is_active,created_at\")\r\n        .order(\"created_at\", { ascending: false }),\r\n      sb.from(\"modules\")\r\n        .select(\"id,course_id,title,sort_order,is_active\")\r\n        .order(\"sort_order\", { ascending: true }),\r\n    ]);\r\n\r\n    if (c1.error) setMsg(c1.error.message);\r\n    if (m1.error) setMsg(m1.error.message);\r\n\r\n    setCourses((c1.data as Course[]) ?? []);\r\n    setModules((m1.data as Module[]) ?? []);\r\n    setLoading(false);\r\n  }\r\n\r\n  /* ------- Ações de curso ------- */\r\n  async function createCourse(title: string, description: string) {\r\n    try {\r\n      const { error } = await sb\r\n        .from(\"courses\")\r\n        .insert([{ title: title.trim(), description: description.trim() || null, is_active: true }]);\r\n      if (error) throw error;\r\n      toast.push(\"Curso criado.\");\r\n      await loadAll();\r\n      setPage(1);\r\n    } catch (e: any) {\r\n      toast.push(e?.message ?? \"Falha ao criar curso.\");\r\n    }\r\n  }\r\n\r\n  // toggle otimista do curso\r\n  async function toggleCourseActive(id: string, current: boolean) {\r\n    // otimista\r\n    setCourses((prev) => prev.map(c => c.id === id ? { ...c, is_active: !current } : c));\r\n    try {\r\n      const { error } = await sb.from(\"courses\").update({ is_active: !current }).eq(\"id\", id);\r\n      if (error) throw error;\r\n      toast.push(!current ? \"Curso ativado.\" : \"Curso desativado.\");\r\n    } catch (e: any) {\r\n      // rollback\r\n      setCourses((prev) => prev.map(c => c.id === id ? { ...c, is_active: current } : c));\r\n      toast.push(e?.message ?? \"Falha ao atualizar curso.\");\r\n    }\r\n  }\r\n\r\n  async function renameCourse(id: string, title: string) {\r\n    try {\r\n      const { error } = await sb.from(\"courses\").update({ title }).eq(\"id\", id);\r\n      if (error) throw error;\r\n      toast.push(\"Título do curso atualizado.\");\r\n      setCourses((prev) => prev.map(c => c.id === id ? { ...c, title } : c));\r\n    } catch (e: any) {\r\n      toast.push(e?.message ?? \"Falha ao renomear curso.\");\r\n    }\r\n  }\r\n\r\n  async function saveCourseDesc(id: string, description: string | null) {\r\n    try {\r\n      const { error } = await sb.from(\"courses\").update({ description }).eq(\"id\", id);\r\n      if (error) throw error;\r\n      toast.push(\"Descrição atualizada.\");\r\n      setCourses((prev) => prev.map(c => c.id === id ? { ...c, description } : c));\r\n    } catch (e: any) {\r\n      toast.push(e?.message ?? \"Falha ao salvar descrição.\");\r\n    }\r\n  }\r\n\r\n  async function duplicateCourse(course: Course) {\r\n    try {\r\n      const { data: created, error } = await sb\r\n        .from(\"courses\")\r\n        .insert([{ title: `${course.title} (cópia)`, description: course.description, is_active: course.is_active }])\r\n        .select(\"*\").single();\r\n      if (error) throw error;\r\n\r\n      const srcMods = modules.filter((m) => m.course_id === course.id);\r\n      if (srcMods.length) {\r\n        const payload = srcMods.map((m) => ({\r\n          course_id: (created as any).id,\r\n          title: m.title,\r\n          sort_order: m.sort_order,\r\n          is_active: m.is_active,\r\n        }));\r\n        const { error: me } = await sb.from(\"modules\").insert(payload);\r\n        if (me) throw me;\r\n      }\r\n\r\n      toast.push(\"Curso duplicado.\");\r\n      await loadAll();\r\n      setPage(1);\r\n    } catch (e: any) {\r\n      toast.push(e?.message ?? \"Falha ao duplicar curso.\");\r\n    }\r\n  }\r\n\r\n  async function deleteCourse(id: string) {\r\n    if (!confirm(\"Excluir curso e seus módulos?\")) return;\r\n    try {\r\n      const { error } = await sb.from(\"courses\").delete().eq(\"id\", id);\r\n      if (error) throw error;\r\n      toast.push(\"Curso excluído.\");\r\n      // otimista simples\r\n      setCourses((prev) => prev.filter(c => c.id !== id));\r\n      setModules((prev) => prev.filter(m => m.course_id !== id));\r\n    } catch (e: any) {\r\n      toast.push(e?.message ?? \"Falha ao excluir curso.\");\r\n    }\r\n  }\r\n\r\n  /* ------- Ações de módulo (Drawer) ------- */\r\n  async function addModule(courseId: string, title: string) {\r\n    try {\r\n      const list = modules.filter((m) => m.course_id === courseId);\r\n      const nextOrder = (list.at(-1)?.sort_order ?? 0) + 1;\r\n      const { data, error } = await sb\r\n        .from(\"modules\")\r\n        .insert([{ course_id: courseId, title, sort_order: nextOrder, is_active: true }])\r\n        .select(\"id,course_id,title,sort_order,is_active\").single();\r\n      if (error) throw error;\r\n      toast.push(\"Módulo adicionado.\");\r\n      // otimista\r\n      setModules((prev) => [...prev, (data as Module)]);\r\n    } catch (e: any) {\r\n      toast.push(e?.message ?? \"Falha ao adicionar módulo.\");\r\n    }\r\n  }\r\n\r\n  async function renameModule(id: string, title: string) {\r\n    try {\r\n      const { error } = await sb.from(\"modules\").update({ title }).eq(\"id\", id);\r\n      if (error) throw error;\r\n      toast.push(\"Módulo atualizado.\");\r\n      setModules((prev) => prev.map(m => m.id === id ? { ...m, title } : m));\r\n    } catch (e: any) {\r\n      toast.push(e?.message ?? \"Falha ao renomear módulo.\");\r\n    }\r\n  }\r\n\r\n  // toggle otimista do módulo\r\n  async function toggleModuleActive(id: string, current: boolean) {\r\n    // otimista\r\n    setModules((prev) => prev.map(m => m.id === id ? { ...m, is_active: !current } : m));\r\n    try {\r\n      const { error } = await sb.from(\"modules\").update({ is_active: !current }).eq(\"id\", id);\r\n      if (error) throw error;\r\n      toast.push(!current ? \"Módulo ativado.\" : \"Módulo desativado.\");\r\n    } catch (e: any) {\r\n      // rollback\r\n      setModules((prev) => prev.map(m => m.id === id ? { ...m, is_active: current } : m));\r\n      toast.push(e?.message ?? \"Falha ao atualizar módulo.\");\r\n    }\r\n  }\r\n\r\n  async function deleteModule(id: string) {\r\n    if (!confirm(\"Excluir este módulo?\")) return;\r\n    try {\r\n      const { error } = await sb.from(\"modules\").delete().eq(\"id\", id);\r\n      if (error) throw error;\r\n      toast.push(\"Módulo excluído.\");\r\n      // otimista\r\n      setModules((prev) => prev.filter(m => m.id !== id));\r\n    } catch (e: any) {\r\n      toast.push(e?.message ?? \"Falha ao excluir módulo.\");\r\n    }\r\n  }\r\n\r\n  // filtro + paginação\r\n  const filtered = courses.filter((c) =>\r\n    (c.title + \" \" + (c.description ?? \"\")).toLowerCase().includes(qDeb),\r\n  );\r\n  const pages = Math.max(1, Math.ceil(filtered.length / pageSize));\r\n  const pageSafe = Math.min(Math.max(page, 1), pages);\r\n  const start = (pageSafe - 1) * pageSize;\r\n  const end = start + pageSize;\r\n  const pageItems = filtered.slice(start, end);\r\n\r\n  // quando o termo de busca muda, volta para página 1\r\n  useEffect(() => { setPage(1); }, [qDeb]);\r\n\r\n  const gotoFirst = useCallback(() => setPage(1), []);\r\n  const gotoPrev  = useCallback(() => setPage(p => Math.max(1, p - 1)), []);\r\n  const gotoNext  = useCallback(() => setPage(p => Math.min(pages, p + 1)), [pages]);\r\n  const gotoLast  = useCallback(() => setPage(pages), [pages]);\r\n\r\n  return (\r\n    <motion.main\r\n      initial={{ opacity: 0, y: 8 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      transition={{ duration: 0.35 }}\r\n      className=\"px-5 md:px-8 py-8 text-white\"\r\n    >\r\n      <div className=\"max-w-6xl mx-auto\">\r\n        <div className=\"relative overflow-hidden rounded-3xl p-6 md:p-7 bg-gradient-to-b from-neutral-900/95 to-black/90 backdrop-blur-md border border-white/10 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)]\">\r\n          {/* aurora */}\r\n          <motion.div\r\n            className=\"pointer-events-none absolute -top-24 left-1/2 -translate-x-1/2 h-64 w-64 rounded-full blur-3xl\"\r\n            style={{ background: \"radial-gradient(circle, rgba(163,230,53,0.22), transparent)\" }}\r\n            animate={{ opacity: [0.25, 0.4, 0.25], scale: [0.95, 1.05, 0.95] }}\r\n            transition={{ duration: 6, repeat: Infinity }}\r\n          />\r\n\r\n          {/* header */}\r\n          <div className=\"relative z-10 flex items-center justify-between gap-3\">\r\n            <div>\r\n              <h1 className=\"text-xl md:text-2xl font-semibold text-lime-300 drop-shadow-[0_0_10px_rgba(163,230,53,0.25)]\">\r\n                Cursos\r\n              </h1>\r\n              <p className=\"text-sm text-white/70\">Gerencie cursos e módulos.</p>\r\n            </div>\r\n            <button\r\n              onClick={() => setShowNew(true)}\r\n              className=\"h-10 px-3 rounded-xl bg-lime-400/10 text-lime-300 hover:bg-lime-400/20 hover:shadow-[0_0_10px_rgba(163,230,53,0.25)] transition inline-flex items-center gap-2\"\r\n            >\r\n              <Plus size={16} /> Adicionar curso\r\n            </button>\r\n          </div>\r\n\r\n          {/* toolbar */}\r\n          <div className=\"relative z-10 mt-6 flex flex-col sm:flex-row gap-3\">\r\n            <div className=\"flex-1 relative\">\r\n              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 opacity-60\" size={16} />\r\n              <input\r\n                value={q}\r\n                onChange={(e) => setQ(e.target.value)}\r\n                placeholder=\"Buscar curso…\"\r\n                className=\"w-full h-11 pl-9 pr-3 rounded-xl bg-white/5 border border-white/10 outline-none focus:ring-2 focus:ring-lime-400/25\"\r\n              />\r\n            </div>\r\n            <button className=\"h-11 px-3 rounded-xl bg-white/5 border border-white/10 inline-flex items-center gap-2 hover:bg-white/10 transition\">\r\n              <Filter size={16} /> Filtros\r\n            </button>\r\n          </div>\r\n\r\n          {msg && (\r\n            <div className=\"relative z-10 mt-4 p-3 rounded-xl border border-white/10 bg-white/10 text-sm\">\r\n              {msg}\r\n            </div>\r\n          )}\r\n\r\n          {/* tabela */}\r\n          <div className=\"relative z-10 mt-6 rounded-2xl overflow-hidden bg-white/[0.03] border border-white/10\">\r\n            <div className=\"hidden md:grid grid-cols-[1fr,120px,140px,160px,140px] px-6 py-3 text-xs uppercase tracking-wide text-white/60 border-b border-white/10\">\r\n              <div>Curso</div>\r\n              <div>Módulos</div>\r\n              <div>Status</div>\r\n              <div>Criado</div>\r\n              <div>Ações</div>\r\n            </div>\r\n\r\n            {loading ? (\r\n              <ul className=\"divide-y divide-white/10 animate-pulse\">\r\n                {Array.from({ length: 4 }).map((_, i) => (\r\n                  <li key={i} className=\"grid md:grid-cols-[1fr,120px,140px,160px,140px] grid-cols-1 gap-3 px-6 py-5\">\r\n                    <div className=\"h-4 w-64 bg-white/10 rounded\" />\r\n                    <div className=\"h-4 w-10 bg-white/10 rounded\" />\r\n                    <div className=\"h-4 w-20 bg-white/10 rounded\" />\r\n                    <div className=\"h-4 w-24 bg-white/10 rounded\" />\r\n                    <div className=\"h-8 w-24 bg-white/10 rounded\" />\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            ) : filtered.length === 0 ? (\r\n              <div className=\"px-6 py-10 text-center text-white/70\">\r\n                Nenhum curso encontrado.\r\n              </div>\r\n            ) : (\r\n              <>\r\n                <ul className=\"divide-y divide-white/10\">\r\n                  <AnimatePresence initial={false}>\r\n                    {pageItems.map((c) => {\r\n                      const count = modules.filter((m) => m.course_id === c.id).length;\r\n                      return (\r\n                        <motion.li\r\n                          key={c.id}\r\n                          initial={{ opacity: 0, y: 6 }}\r\n                          animate={{ opacity: 1, y: 0 }}\r\n                          exit={{ opacity: 0, y: -6 }}\r\n                          transition={{ duration: 0.16 }}\r\n                          className=\"grid md:grid-cols-[1fr,120px,140px,160px,140px] grid-cols-1 gap-3 px-6 py-5 hover:bg-white/[0.04] transition-colors\"\r\n                        >\r\n                          <div>\r\n                            <div className=\"font-medium text-white/90 line-clamp-1\">{c.title}</div>\r\n                            {c.description && (\r\n                              <div className=\"text-sm text-white/60 line-clamp-2\">\r\n                                {c.description}\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                          <div className=\"self-center text-sm text-white/80\">{count}</div>\r\n                          <div className=\"self-center\">\r\n                            <span\r\n                              className={`text-[11px] font-semibold px-2 py-1 rounded-md border\r\n                                ${c.is_active\r\n                                  ? \"text-lime-300 border-lime-400/30 bg-lime-400/10\"\r\n                                  : \"text-white/60 border-white/15 bg-white/5\"\r\n                                }`}\r\n                            >\r\n                              {c.is_active ? \"Ativo\" : \"Inativo\"}\r\n                            </span>\r\n                          </div>\r\n                          <div className=\"self-center text-sm text-white/70\">\r\n                            {c.created_at\r\n                              ? new Date(c.created_at).toLocaleDateString(\"pt-BR\", {\r\n                                  day: \"2-digit\", month: \"short\", year: \"numeric\",\r\n                                }).replace(\".\", \"\")\r\n                              : \"—\"}\r\n                          </div>\r\n                          <div className=\"self-center flex items-center gap-2\">\r\n                            <button\r\n                              className=\"h-8 w-8 grid place-items-center rounded-lg bg-white/5 border border-white/10 hover:bg-white/10\"\r\n                              title=\"Editar\"\r\n                              onClick={() => setEditing(c)}\r\n                            >\r\n                              <Pencil size={16} />\r\n                            </button>\r\n                            <button\r\n                              className=\"h-8 w-8 grid place-items-center rounded-lg bg-white/5 border border-white/10 hover:bg-white/10\"\r\n                              title=\"Duplicar\"\r\n                              onClick={() => duplicateCourse(c)}\r\n                            >\r\n                              <Copy size={16} />\r\n                            </button>\r\n                            <button\r\n                              className=\"h-8 w-8 grid place-items-center rounded-lg bg-white/5 border border-white/10 hover:bg-white/10\"\r\n                              title={c.is_active ? \"Desativar\" : \"Ativar\"}\r\n                              onClick={() => toggleCourseActive(c.id, c.is_active)}\r\n                              aria-pressed={c.is_active}\r\n                            >\r\n                              <Power size={16} className={c.is_active ? \"\" : \"opacity-60\"} />\r\n                            </button>\r\n                            <button\r\n                              className=\"h-8 w-8 grid place-items-center rounded-lg bg-red-500/15 border border-red-400/30 text-red-300 hover:bg-red-500/25\"\r\n                              title=\"Excluir\"\r\n                              onClick={() => deleteCourse(c.id)}\r\n                            >\r\n                              <Trash2 size={16} />\r\n                            </button>\r\n                            <button\r\n                              className=\"h-8 px-3 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 inline-flex items-center gap-1\"\r\n                              onClick={() => setEditing(c)}\r\n                              title=\"Abrir detalhes\"\r\n                            >\r\n                              <span className=\"text-xs\">Detalhes</span>\r\n                              <ChevronRight size={14} />\r\n                            </button>\r\n                          </div>\r\n                        </motion.li>\r\n                      );\r\n                    })}\r\n                  </AnimatePresence>\r\n                </ul>\r\n\r\n                {/* Paginação */}\r\n                <div className=\"flex items-center justify-between px-4 py-3 border-t border-white/10 bg-white/[0.02]\">\r\n                  <div className=\"text-sm text-white/60\">\r\n                    Mostrando <span className=\"text-white/80\">{filtered.length === 0 ? 0 : start + 1}</span>–<span className=\"text-white/80\">{Math.min(end, filtered.length)}</span> de <span className=\"text-white/80\">{filtered.length}</span>\r\n                  </div>\r\n                  <div className=\"flex items-center gap-1\">\r\n                    <button\r\n                      className=\"h-9 w-9 grid place-items-center rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 disabled:opacity-50\"\r\n                      onClick={gotoFirst} disabled={pageSafe === 1} aria-label=\"Primeira página\"\r\n                    >\r\n                      <ChevronsLeft size={16} />\r\n                    </button>\r\n                    <button\r\n                      className=\"h-9 w-9 grid place-items-center rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 disabled:opacity-50\"\r\n                      onClick={gotoPrev} disabled={pageSafe === 1} aria-label=\"Página anterior\"\r\n                    >\r\n                      <ChevronLeft size={16} />\r\n                    </button>\r\n                    <span className=\"mx-2 text-sm text-white/70\">\r\n                      Página <span className=\"text-white/90\">{pageSafe}</span> de <span className=\"text-white/90\">{pages}</span>\r\n                    </span>\r\n                    <button\r\n                      className=\"h-9 w-9 grid place-items-center rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 disabled:opacity-50\"\r\n                      onClick={gotoNext} disabled={pageSafe === pages} aria-label=\"Próxima página\"\r\n                    >\r\n                      <ChevronRightIcon size={16} />\r\n                    </button>\r\n                    <button\r\n                      className=\"h-9 w-9 grid place-items-center rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 disabled:opacity-50\"\r\n                      onClick={gotoLast} disabled={pageSafe === pages} aria-label=\"Última página\"\r\n                    >\r\n                      <ChevronsRight size={16} />\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n\r\n          {/* --- Moderação (Chat + Usuários) --- */}\r\n          <div className=\"relative z-10 mt-6\">\r\n            <ModerationBlock />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Modal Novo Curso */}\r\n      <NewCourseModal\r\n        open={showNew}\r\n        onClose={() => setShowNew(false)}\r\n        onCreate={async (t, d) => {\r\n          await createCourse(t, d);\r\n          setShowNew(false);\r\n        }}\r\n      />\r\n\r\n      {/* Drawer Editar Curso */}\r\n      <EditCourseDrawer\r\n        key={editing?.id || \"drawer-none\"}\r\n        course={editing}\r\n        modules={modules.filter((m) => m.course_id === (editing?.id ?? \"\"))}\r\n        onClose={() => setEditing(null)}\r\n        onRenameCourse={renameCourse}\r\n        onSaveDesc={saveCourseDesc}\r\n        onToggleCourse={toggleCourseActive}\r\n        onAddModule={addModule}\r\n        onRenameModule={renameModule}\r\n        onToggleModule={toggleModuleActive}\r\n        onDeleteModule={deleteModule}\r\n        onDeleteCourse={async (id) => {\r\n          await deleteCourse(id);\r\n          setEditing(null);\r\n        }}\r\n      />\r\n    </motion.main>\r\n  );\r\n}\r\n\r\n/* ---------------- Components ---------------- */\r\n\r\nfunction NewCourseModal({\r\n  open,\r\n  onClose,\r\n  onCreate,\r\n}: {\r\n  open: boolean;\r\n  onClose: () => void;\r\n  onCreate: (title: string, desc: string) => Promise<void>;\r\n}) {\r\n  const [title, setTitle] = useState(\"\");\r\n  const [desc, setDesc] = useState(\"\");\r\n  const [busy, setBusy] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (open) {\r\n      setTitle(\"\");\r\n      setDesc(\"\");\r\n    }\r\n  }, [open]);\r\n\r\n  if (!open) return null;\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      <motion.div\r\n        key=\"newcourse-overlay\"\r\n        className=\"fixed inset-0 z-[60] bg-black/60 backdrop-blur-sm grid place-items-center p-4\"\r\n        initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }}\r\n        onClick={onClose}\r\n      >\r\n        <motion.div\r\n          key=\"newcourse-modal\"\r\n          className=\"w-full max-w-lg rounded-2xl p-5 bg-gradient-to-b from-neutral-900/95 to-black/90 border border-white/10 shadow-2xl\"\r\n          initial={{ scale: 0.96, opacity: 0 }} animate={{ scale: 1, opacity: 1 }} exit={{ scale: 0.96, opacity: 0 }}\r\n          onClick={(e) => e.stopPropagation()}\r\n        >\r\n          <div className=\"flex items-center justify-between\">\r\n            <h3 className=\"text-lg font-semibold text-lime-300\">Novo curso</h3>\r\n            <button className=\"p-1 rounded-lg hover:bg-white/10\" onClick={onClose} aria-label=\"Fechar\">\r\n              <X size={16} />\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"mt-4 grid gap-3\">\r\n            <div>\r\n              <label className=\"block text-sm opacity-70 mb-1\">Título</label>\r\n              <input\r\n                value={title}\r\n                onChange={(e) => setTitle(e.target.value)}\r\n                className=\"w-full h-11 rounded-xl bg-white/5 border border-white/10 px-3 outline-none focus:ring-2 focus:ring-lime-400/25\"\r\n                placeholder=\"Ex.: Next.js 15 — Fundamentos\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm opacity-70 mb-1\">Descrição (opcional)</label>\r\n              <textarea\r\n                value={desc}\r\n                onChange={(e) => setDesc(e.target.value)}\r\n                className=\"w-full h-24 rounded-xl bg-white/5 border border-white/10 px-3 py-2 outline-none focus:ring-2 focus:ring-lime-400/25 resize-none\"\r\n                placeholder=\"Resumo curto…\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"mt-5 flex items-center justify-end gap-2\">\r\n            <button className=\"h-10 px-3 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10\" onClick={onClose}>\r\n              Cancelar\r\n            </button>\r\n            <button\r\n              className=\"h-10 px-3 rounded-xl bg-lime-400/10 text-lime-300 hover:bg-lime-400/20 hover:shadow-[0_0_10px_rgba(163,230,53,0.25)]\"\r\n              disabled={!title.trim() || busy}\r\n              onClick={async () => {\r\n                setBusy(true);\r\n                await onCreate(title, desc);\r\n                setBusy(false);\r\n              }}\r\n            >\r\n              {busy ? \"Criando…\" : \"Criar curso\"}\r\n            </button>\r\n          </div>\r\n        </motion.div>\r\n      </motion.div>\r\n    </AnimatePresence>\r\n  );\r\n}\r\n\r\nfunction EditCourseDrawer({\r\n  course,\r\n  modules,\r\n  onClose,\r\n  onRenameCourse,\r\n  onSaveDesc,\r\n  onToggleCourse,\r\n  onAddModule,\r\n  onRenameModule,\r\n  onToggleModule,\r\n  onDeleteModule,\r\n  onDeleteCourse,\r\n}: {\r\n  course: Course | null;\r\n  modules: Module[];\r\n  onClose: () => void;\r\n  onRenameCourse: (id: string, title: string) => Promise<void>;\r\n  onSaveDesc: (id: string, desc: string | null) => Promise<void>;\r\n  onToggleCourse: (id: string, current: boolean) => Promise<void>;\r\n  onAddModule: (courseId: string, title: string) => Promise<void>;\r\n  onRenameModule: (id: string, title: string) => Promise<void>;\r\n  onToggleModule: (id: string, cur: boolean) => Promise<void>;\r\n  onDeleteModule: (id: string) => Promise<void>;\r\n  onDeleteCourse: (id: string) => Promise<void>;\r\n}) {\r\n  const [tab, setTab] = useState<\"geral\" | \"modulos\">(\"geral\");\r\n  const [title, setTitle] = useState(course?.title ?? \"\");\r\n  const [desc, setDesc] = useState(course?.description ?? \"\");\r\n  const [newMod, setNewMod] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    setTitle(course?.title ?? \"\");\r\n    setDesc(course?.description ?? \"\");\r\n    setTab(\"geral\");\r\n  }, [course]);\r\n\r\n  if (!course) return null;\r\n\r\n  return (\r\n    <AnimatePresence mode=\"wait\" initial={false}>\r\n      <motion.div\r\n        key={`drawer-overlay-${course.id}`}\r\n        className=\"fixed inset-0 z-[60] bg-black/50\"\r\n        initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }}\r\n        onClick={onClose}\r\n      />\r\n      <motion.aside\r\n        key={`drawer-${course.id}`}\r\n        className=\"fixed right-0 top-0 bottom-0 z-[61] w-full max-w-xl p-6 overflow-auto\r\n                   bg-gradient-to-b from-neutral-900/95 to-black/90 border-l border-white/10\"\r\n        initial={{ x: \"100%\" }} animate={{ x: 0 }} exit={{ x: \"100%\" }}\r\n        transition={{ type: \"tween\", duration: 0.25 }}\r\n        onClick={(e) => e.stopPropagation()}\r\n      >\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <h3 className=\"text-lg font-semibold text-lime-300\">Editar curso</h3>\r\n            <p className=\"text-sm text-white/70\">{course.title}</p>\r\n          </div>\r\n          <button className=\"p-1 rounded-lg hover:bg-white/10\" onClick={onClose} aria-label=\"Fechar\">\r\n            <X size={16} />\r\n          </button>\r\n        </div>\r\n\r\n        {/* tabs */}\r\n        <div className=\"mt-5 flex items-center gap-2\">\r\n          <button\r\n            className={`h-9 px-3 rounded-xl border ${tab === \"geral\" ? \"border-lime-400/40 bg-lime-400/10 text-lime-300\" : \"border-white/10 bg-white/5\"}`}\r\n            onClick={() => setTab(\"geral\")}\r\n          >\r\n            Geral\r\n          </button>\r\n          <button\r\n            className={`h-9 px-3 rounded-xl border ${tab === \"modulos\" ? \"border-lime-400/40 bg-lime-400/10 text-lime-300\" : \"border-white/10 bg-white/5\"}`}\r\n            onClick={() => setTab(\"modulos\")}\r\n          >\r\n            Módulos\r\n          </button>\r\n        </div>\r\n\r\n        {tab === \"geral\" ? (\r\n          <div className=\"mt-5 grid gap-4\">\r\n            <div>\r\n              <label className=\"block text-sm opacity-70 mb-1\">Título</label>\r\n              <input\r\n                value={title}\r\n                onChange={(e) => setTitle(e.target.value)}\r\n                onBlur={async () => {\r\n                  const v = title.trim();\r\n                  if (v && v !== course.title) await onRenameCourse(course.id, v);\r\n                }}\r\n                className=\"w-full h-11 rounded-xl bg-white/5 border border-white/10 px-3 outline-none focus:ring-2 focus:ring-lime-400/25\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm opacity-70 mb-1\">Descrição</label>\r\n              <textarea\r\n                value={desc}\r\n                onChange={(e) => setDesc(e.target.value)}\r\n                onBlur={async () => {\r\n                  if ((desc ?? \"\") !== (course.description ?? \"\")) {\r\n                    await onSaveDesc(course.id, desc.trim() ? desc : null);\r\n                  }\r\n                }}\r\n                className=\"w-full h-28 rounded-xl bg-white/5 border border-white/10 px-3 py-2 outline-none focus:ring-2 focus:ring-lime-400/25 resize-none\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"flex items-center justify-between mt-2\">\r\n              <div className=\"text-sm text-white/70\">\r\n                Status:{\" \"}\r\n                <span className={`font-semibold ${course.is_active ? \"text-lime-300\" : \"text-white/60\"}`}>\r\n                  {course.is_active ? \"Ativo\" : \"Inativo\"}\r\n                </span>\r\n              </div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <button\r\n                  className=\"h-9 px-3 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10\"\r\n                  onClick={() => onToggleCourse(course.id, course.is_active)}\r\n                  aria-pressed={course.is_active}\r\n                >\r\n                  {course.is_active ? \"Desativar\" : \"Ativar\"}\r\n                </button>\r\n                <button\r\n                  className=\"h-9 px-3 rounded-xl bg-red-500/15 border border-red-400/30 text-red-300 hover:bg-red-500/25\"\r\n                  onClick={() => onDeleteCourse(course.id)}\r\n                >\r\n                  Excluir curso\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"mt-5\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <input\r\n                value={newMod}\r\n                onChange={(e) => setNewMod(e.target.value)}\r\n                placeholder=\"Novo módulo…\"\r\n                className=\"flex-1 h-11 rounded-xl bg-white/5 border border-white/10 px-3 outline-none focus:ring-2 focus:ring-lime-400/25\"\r\n              />\r\n              <button\r\n                className=\"h-11 px-3 rounded-xl bg-lime-400/10 text-lime-300 hover:bg-lime-400/20 hover:shadow-[0_0_10px_rgba(163,230,53,0.25)]\"\r\n                disabled={!newMod.trim()}\r\n                onClick={async () => {\r\n                  const v = newMod.trim();\r\n                  if (!v) return;\r\n                  await onAddModule(course.id, v);\r\n                  setNewMod(\"\");\r\n                }}\r\n              >\r\n                Adicionar\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"mt-4 space-y-2\">\r\n              {modules.length === 0 ? (\r\n                <div className=\"text-sm text-white/70\">Nenhum módulo.</div>\r\n              ) : (\r\n                modules.map((m) => (\r\n                  <div\r\n                    key={m.id}\r\n                    className=\"flex items-center justify-between rounded-xl border border-white/10 bg-white/[0.03] px-3 py-2\"\r\n                  >\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <FileText size={16} className=\"opacity-80\" />\r\n                      <InlineEdit value={m.title} onSave={(v) => onRenameModule(m.id, v)} />\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <button\r\n                        className=\"h-8 w-8 grid place-items-center rounded-lg bg-white/5 border border-white/10 hover:bg-white/10\"\r\n                        title={m.is_active ? \"Desativar\" : \"Ativar\"}\r\n                        onClick={() => onToggleModule(m.id, m.is_active)}\r\n                        aria-pressed={m.is_active}\r\n                      >\r\n                        <Power size={16} className={m.is_active ? \"\" : \"opacity-60\"} />\r\n                      </button>\r\n                      <button\r\n                        className=\"h-8 w-8 grid place-items-center rounded-lg bg-red-500/15 border border-red-400/30 text-red-300 hover:bg-red-500/25\"\r\n                        title=\"Excluir\"\r\n                        onClick={() => onDeleteModule(m.id)}\r\n                      >\r\n                        <Trash2 size={16} />\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                ))\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </motion.aside>\r\n    </AnimatePresence>\r\n  );\r\n}\r\n\r\nfunction InlineEdit({\r\n  value,\r\n  onSave,\r\n}: {\r\n  value: string;\r\n  onSave: (v: string) => void | Promise<void>;\r\n}) {\r\n  const [editing, setEditing] = useState(false);\r\n  const [draft, setDraft] = useState(value);\r\n  useEffect(() => setDraft(value), [value]);\r\n\r\n  if (!editing) {\r\n    return (\r\n      <button\r\n        onClick={() => setEditing(true)}\r\n        className=\"btn-ghost px-2 py-1 text-sm inline-flex items-center gap-2\"\r\n        title=\"Editar título\"\r\n      >\r\n        <span className=\"line-clamp-1\">{value}</span>\r\n        <Pencil size={14} className=\"opacity-70\" />\r\n      </button>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex items-center gap-2\">\r\n      <input\r\n        value={draft}\r\n        onChange={(e) => setDraft(e.target.value)}\r\n        className=\"h-10 w-[24rem] max-w-full rounded-xl bg-white/5 border border-white/10 px-3 outline-none focus:ring-2 focus:ring-lime-400/25\"\r\n        autoFocus\r\n      />\r\n      <button\r\n        onClick={async () => {\r\n          const v = draft.trim();\r\n          if (v && v !== value) await onSave(v);\r\n          setEditing(false);\r\n        }}\r\n        className=\"h-10 px-3 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10\"\r\n      >\r\n        Salvar\r\n      </button>\r\n      <button\r\n        onClick={() => {\r\n          setDraft(value);\r\n          setEditing(false);\r\n        }}\r\n        className=\"h-10 px-3 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10\"\r\n      >\r\n        Cancelar\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\n/* ---------------- Moderação (limpar chat + gerenciar usuários) ---------------- */\r\n\r\nfunction ModerationBlock() {\r\n  const [channel, setChannel] = useState(\"ranking-global\");\r\n  const [busy, setBusy] = useState(false);\r\n  const [openUsers, setOpenUsers] = useState(false);\r\n  const toast = useToast();\r\n\r\n  async function clearChatAll() {\r\n    if (!confirm(\"Tem certeza que deseja apagar TODAS as mensagens do chat? Esta ação é irreversível.\")) return;\r\n    setBusy(true);\r\n    try {\r\n      const res = await fetch(\"/api/admin/chat/clear\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ all: true }),\r\n      });\r\n      const j = await res.json();\r\n      if (!j?.ok) throw new Error(j?.error || \"Falha ao limpar chat.\");\r\n      toast.push(\"Mensagens apagadas (todas).\");\r\n    } catch (e: any) {\r\n      toast.push(e?.message ?? \"Erro ao limpar chat.\");\r\n    } finally {\r\n      setBusy(false);\r\n    }\r\n  }\r\n\r\n  async function clearChatChannel() {\r\n    const ch = channel.trim();\r\n    if (!ch) return;\r\n    if (!confirm(`Apagar TODAS as mensagens do canal \"${ch}\"?`)) return;\r\n    setBusy(true);\r\n    try {\r\n      const res = await fetch(\"/api/admin/chat/clear\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ channel: ch }),\r\n      });\r\n      const j = await res.json();\r\n      if (!j?.ok) throw new Error(j?.error || \"Falha ao limpar chat.\");\r\n      toast.push(`Mensagens do canal \"${ch}\" apagadas.`);\r\n    } catch (e: any) {\r\n      toast.push(e?.message ?? \"Erro ao limpar chat.\");\r\n    } finally {\r\n      setBusy(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"relative overflow-hidden rounded-2xl p-5 bg-white/[0.03] border border-white/10\">\r\n      <div className=\"flex items-center gap-2 text-sm text-white/80\">\r\n        <Shield size={16} className=\"text-lime-300\" />\r\n        <span>Moderação</span>\r\n      </div>\r\n\r\n      {/* Limpar chat */}\r\n      <div className=\"mt-4 grid gap-3 md:grid-cols-[1fr_auto_auto]\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <MessageSquareText size={16} className=\"opacity-80\" />\r\n          <span className=\"text-sm text-white/70\">Limpar chat</span>\r\n        </div>\r\n        <div className=\"flex items-center gap-2\">\r\n          <input\r\n            value={channel}\r\n            onChange={(e) => setChannel(e.target.value)}\r\n            placeholder=\"Canal do chat (ex.: ranking-global)\"\r\n            className=\"w-[260px] h-10 rounded-xl bg-white/5 border border-white/10 px-3 outline-none focus:ring-2 focus:ring-lime-400/25\"\r\n          />\r\n          <button\r\n            onClick={clearChatChannel}\r\n            disabled={busy || !channel.trim()}\r\n            className=\"h-10 px-3 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 disabled:opacity-60\"\r\n          >\r\n            Limpar canal\r\n          </button>\r\n        </div>\r\n        <div>\r\n          <button\r\n            onClick={clearChatAll}\r\n            disabled={busy}\r\n            className=\"h-10 px-3 rounded-xl bg-red-500/15 border border-red-400/30 text-red-300 hover:bg-red-500/25 inline-flex items-center gap-2 disabled:opacity-60\"\r\n          >\r\n            {busy ? <Loader2 size={16} className=\"animate-spin\" /> : null}\r\n            Limpar tudo\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Usuários */}\r\n      <div className=\"mt-6 pt-6 border-t border-white/10\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-2 text-sm text-white/70\">\r\n            <Users size={16} className=\"opacity-80\" />\r\n            <span>Usuários</span>\r\n          </div>\r\n        <button\r\n            onClick={() => setOpenUsers(true)}\r\n            className=\"h-10 px-3 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10\"\r\n          >\r\n            Gerenciar usuários\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <UsersAdminModal open={openUsers} onClose={() => setOpenUsers(false)} />\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction UsersAdminModal({ open, onClose }: { open: boolean; onClose: () => void }) {\r\n  const [q, setQ] = useState(\"\");\r\n  const [page, setPage] = useState(1);\r\n  const [busy, setBusy] = useState(false);\r\n  const [items, setItems] = useState<Array<{ id: string; email: string | null; display_name?: string | null; created_at?: string | null }>>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const toast = useToast();\r\n\r\n  useEffect(() => {\r\n    if (!open) return;\r\n    load();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [open, page]);\r\n\r\n  async function load() {\r\n    setLoading(true);\r\n    try {\r\n      const res = await fetch(`/api/admin/users/list?q=${encodeURIComponent(q)}&page=${page}&perPage=20`);\r\n      const j = await res.json();\r\n      if (!j?.ok) throw new Error(j?.error || \"Falha ao listar usuários.\");\r\n      setItems(j.users || []);\r\n    } catch (e: any) {\r\n      toast.push(e?.message ?? \"Erro ao buscar usuários.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  async function onDelete(user_id: string) {\r\n    const hard = confirm(\"Excluir conta e dados auxiliares (progress, points, messages, profile)?\\nOK = excluir tudo (hard)\\nCancelar = excluir só a conta no Auth\");\r\n    setBusy(true);\r\n    try {\r\n      const res = await fetch(\"/api/admin/users/delete\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ user_id, hard }),\r\n      });\r\n      const j = await res.json();\r\n      if (!j?.ok) throw new Error(j?.error || \"Falha ao excluir usuário.\");\r\n      toast.push(\"Usuário excluído.\");\r\n      setItems((prev) => prev.filter(i => i.id !== user_id));\r\n    } catch (e: any) {\r\n      toast.push(e?.message ?? \"Erro ao excluir usuário.\");\r\n    } finally {\r\n      setBusy(false);\r\n    }\r\n  }\r\n\r\n  if (!open) return null;\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      <motion.div\r\n        className=\"fixed inset-0 z-[70] bg-black/60 backdrop-blur-sm grid place-items-center p-4\"\r\n        initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }}\r\n        onClick={onClose}\r\n      >\r\n        <motion.div\r\n          className=\"w-full max-w-4xl rounded-2xl p-5 bg-gradient-to-b from-neutral-900/95 to-black/90 border border-white/10 shadow-2xl\"\r\n          initial={{ scale: 0.98, opacity: 0 }} animate={{ scale: 1, opacity: 1 }} exit={{ scale: 0.98, opacity: 0 }}\r\n          onClick={(e) => e.stopPropagation()}\r\n        >\r\n          <div className=\"flex items-center justify-between\">\r\n            <h3 className=\"text-lg font-semibold text-lime-300\">Gerenciar usuários</h3>\r\n            <button className=\"p-1 rounded-lg hover:bg-white/10\" onClick={onClose} aria-label=\"Fechar\">\r\n              <X size={16} />\r\n            </button>\r\n          </div>\r\n\r\n          {/* Busca */}\r\n          <div className=\"mt-4 flex items-center gap-2\">\r\n            <div className=\"relative flex-1\">\r\n              <Search size={16} className=\"absolute left-3 top-1/2 -translate-y-1/2 opacity-60\" />\r\n              <input\r\n                value={q}\r\n                onChange={(e) => setQ(e.target.value)}\r\n                onKeyDown={(e) => e.key === \"Enter\" && (setPage(1), load())}\r\n                placeholder=\"Buscar por e-mail ou ID…\"\r\n                className=\"w-full h-11 pl-9 pr-3 rounded-xl bg-white/5 border border-white/10 outline-none focus:ring-2 focus:ring-lime-400/25\"\r\n              />\r\n            </div>\r\n            <button\r\n              onClick={() => { setPage(1); load(); }}\r\n              className=\"h-11 px-3 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10\"\r\n            >\r\n              Buscar\r\n            </button>\r\n          </div>\r\n\r\n          {/* Lista */}\r\n          <div className=\"mt-4 rounded-xl border border-white/10 overflow-hidden\">\r\n            <div className=\"hidden md:grid grid-cols-[1.3fr,1fr,160px,120px] gap-3 px-4 py-2 text-xs uppercase tracking-wide text-white/60 bg-white/5 border-b border-white/10\">\r\n              <div>Usuário</div>\r\n              <div>Email</div>\r\n              <div>Criado</div>\r\n              <div>Ações</div>\r\n            </div>\r\n\r\n            {loading ? (\r\n              <div className=\"p-6 text-white/70\">Carregando…</div>\r\n            ) : items.length === 0 ? (\r\n              <div className=\"p-6 text-white/70\">Nenhum usuário.</div>\r\n            ) : (\r\n              <ul className=\"divide-y divide-white/10\">\r\n                {items.map((u) => (\r\n                  <li key={u.id} className=\"grid md:grid-cols-[1.3fr,1fr,160px,120px] grid-cols-1 gap-3 px-4 py-3\">\r\n                    <div className=\"text-white/90\">\r\n                      <div className=\"font-medium line-clamp-1\">{u.display_name || \"—\"}</div>\r\n                      <div className=\"text-xs text-white/50\">{u.id}</div>\r\n                    </div>\r\n                    <div className=\"self-center text-white/80\">{u.email || \"—\"}</div>\r\n                    <div className=\"self-center text-white/70\">\r\n                      {u.created_at\r\n                        ? new Date(u.created_at).toLocaleDateString(\"pt-BR\", { day: \"2-digit\", month: \"short\", year: \"numeric\" }).replace(\".\", \"\")\r\n                        : \"—\"}\r\n                    </div>\r\n                    <div className=\"self-center\">\r\n                      <button\r\n                        onClick={() => onDelete(u.id)}\r\n                        disabled={busy}\r\n                        className=\"h-9 px-3 rounded-xl bg-red-500/15 border border-red-400/30 text-red-300 hover:bg-red-500/25\"\r\n                        title=\"Excluir usuário\"\r\n                      >\r\n                        Excluir\r\n                      </button>\r\n                    </div>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            )}\r\n          </div>\r\n\r\n          {/* Paginação simples */}\r\n          <div className=\"mt-3 flex items-center justify-between\">\r\n            <div className=\"text-sm text-white/60\">Total nesta página: {items.length}</div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <button\r\n                className=\"h-9 px-3 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 disabled:opacity-50\"\r\n                onClick={() => { if (page > 1) setPage(page - 1); }}\r\n                disabled={page <= 1}\r\n              >\r\n                Página {Math.max(1, page - 1)}\r\n              </button>\r\n              <button\r\n                className=\"h-9 px-3 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10\"\r\n                onClick={() => setPage(page + 1)}\r\n              >\r\n                Página {page + 1}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </motion.div>\r\n      </motion.div>\r\n    </AnimatePresence>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}