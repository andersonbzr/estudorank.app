{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/adsli/EstudoRank-patched-2025-10-22/estudorank/src/lib/supabase/client.ts"],"sourcesContent":["// src/lib/supabase/client.ts\r\nimport { createClient, type SupabaseClient } from \"@supabase/supabase-js\";\r\n\r\nlet _client: SupabaseClient | null = null;\r\n\r\n/**\r\n * Cliente do Supabase para uso no browser (componentes client).\r\n * Usa storageKey custom \"sr-auth\" para evitar conflitos e manter sessão.\r\n */\r\nexport function supabaseBrowser(): SupabaseClient {\r\n  if (_client) return _client;\r\n\r\n  const url = process.env.NEXT_PUBLIC_SUPABASE_URL!;\r\n  const anon = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\r\n\r\n  if (!url || !anon) {\r\n    throw new Error(\r\n      \"Env vars ausentes: defina NEXT_PUBLIC_SUPABASE_URL e NEXT_PUBLIC_SUPABASE_ANON_KEY.\"\r\n    );\r\n  }\r\n\r\n  _client = createClient(url, anon, {\r\n    auth: {\r\n      persistSession: true,\r\n      autoRefreshToken: true,\r\n      storageKey: \"sr-auth\",\r\n    },\r\n  });\r\n\r\n  return _client;\r\n}\r\n"],"names":[],"mappings":"AAAA,6BAA6B;;;;;AAYf;AAXd;;AAEA,IAAI,UAAiC;AAM9B,SAAS;IACd,IAAI,SAAS,OAAO;IAEpB,MAAM;IACN,MAAM;IAEN;;IAMA,UAAU,IAAA,0MAAY,EAAC,KAAK,MAAM;QAChC,MAAM;YACJ,gBAAgB;YAChB,kBAAkB;YAClB,YAAY;QACd;IACF;IAEA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 35, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/adsli/EstudoRank-patched-2025-10-22/estudorank/src/components/ui/MotionButton.tsx"],"sourcesContent":["// src/components/ui/MotionButton.tsx\r\n\"use client\";\r\n\r\nimport { motion } from \"framer-motion\";\r\nimport { ButtonHTMLAttributes } from \"react\";\r\n\r\nexport default function MotionButton(\r\n  props: ButtonHTMLAttributes<HTMLButtonElement>\r\n) {\r\n  const { className = \"\", ...rest } = props;\r\n  return (\r\n    <motion.button\r\n      whileTap={{ scale: 0.98 }}\r\n      whileHover={{ scale: 1.01 }}\r\n      transition={{ duration: 0.08 }}\r\n      className={`px-3 py-2 rounded-xl bg-white/10 hover:bg-white/20 transition disabled:opacity-60 ${className}`}\r\n      {...rest}\r\n    />\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,qCAAqC;;;;;;AAGrC;AAFA;;;AAKe,SAAS,aACtB,KAA8C;IAE9C,MAAM,EAAE,YAAY,EAAE,EAAE,GAAG,MAAM,GAAG;IACpC,qBACE,6LAAC,uMAAM,CAAC,MAAM;QACZ,UAAU;YAAE,OAAO;QAAK;QACxB,YAAY;YAAE,OAAO;QAAK;QAC1B,YAAY;YAAE,UAAU;QAAK;QAC7B,WAAW,AAAC,qFAA8F,OAAV;QAC/F,GAAG,IAAI;;;;;;AAGd;KAbwB","debugId":null}},
    {"offset": {"line": 75, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/adsli/EstudoRank-patched-2025-10-22/estudorank/src/components/ui/Spinner.tsx"],"sourcesContent":["// src/components/ui/Spinner.tsx\r\nexport default function Spinner({ label }: { label?: string }) {\r\n  return (\r\n    <div className=\"inline-flex items-center gap-2\" role=\"status\" aria-live=\"polite\">\r\n      <svg\r\n        className=\"animate-spin h-4 w-4\"\r\n        viewBox=\"0 0 24 24\"\r\n        aria-hidden=\"true\"\r\n      >\r\n        <circle\r\n          className=\"opacity-25\"\r\n          cx=\"12\"\r\n          cy=\"12\"\r\n          r=\"10\"\r\n          stroke=\"currentColor\"\r\n          strokeWidth=\"4\"\r\n          fill=\"none\"\r\n        />\r\n        <path\r\n          className=\"opacity-75\"\r\n          d=\"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z\"\r\n          fill=\"currentColor\"\r\n        />\r\n      </svg>\r\n      {label && <span>{label}</span>}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,gCAAgC;;;;;;;AACjB,SAAS,QAAQ,KAA6B;QAA7B,EAAE,KAAK,EAAsB,GAA7B;IAC9B,qBACE,6LAAC;QAAI,WAAU;QAAiC,MAAK;QAAS,aAAU;;0BACtE,6LAAC;gBACC,WAAU;gBACV,SAAQ;gBACR,eAAY;;kCAEZ,6LAAC;wBACC,WAAU;wBACV,IAAG;wBACH,IAAG;wBACH,GAAE;wBACF,QAAO;wBACP,aAAY;wBACZ,MAAK;;;;;;kCAEP,6LAAC;wBACC,WAAU;wBACV,GAAE;wBACF,MAAK;;;;;;;;;;;;YAGR,uBAAS,6LAAC;0BAAM;;;;;;;;;;;;AAGvB;KA1BwB","debugId":null}},
    {"offset": {"line": 146, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/adsli/EstudoRank-patched-2025-10-22/estudorank/src/components/Toast.tsx"],"sourcesContent":["// src/components/Toast.tsx\r\n\"use client\";\r\n\r\nimport { createContext, useContext, useEffect, useMemo, useState } from \"react\";\r\n\r\ntype Toast = { id: string; text: string };\r\ntype Ctx = { push: (text: string) => void };\r\n\r\nconst ToastCtx = createContext<Ctx | null>(null);\r\n\r\nexport function useToast() {\r\n  const ctx = useContext(ToastCtx);\r\n  if (!ctx) throw new Error(\"ToastProvider ausente\");\r\n  return ctx;\r\n}\r\n\r\nexport default function ToastProvider({ children }: { children: React.ReactNode }) {\r\n  const [items, setItems] = useState<Toast[]>([]);\r\n  const [mounted, setMounted] = useState(false); // evita mismatch de hidratação\r\n\r\n  useEffect(() => setMounted(true), []);\r\n\r\n  const api = useMemo<Ctx>(\r\n    () => ({\r\n      push(text: string) {\r\n        const id = Math.random().toString(36).slice(2);\r\n        setItems((s) => [...s, { id, text }]);\r\n        setTimeout(() => {\r\n          setItems((s) => s.filter((t) => t.id !== id));\r\n        }, 2500);\r\n      },\r\n    }),\r\n    []\r\n  );\r\n\r\n  return (\r\n    <ToastCtx.Provider value={api}>\r\n      {children}\r\n      {mounted && (\r\n        <div\r\n          className=\"fixed bottom-4 right-4 z-50 space-y-2\"\r\n          aria-live=\"polite\"\r\n          aria-atomic=\"true\"\r\n        >\r\n          {items.map((t) => (\r\n            <div\r\n              key={t.id}\r\n              className=\"px-4 py-2 rounded-lg bg-white/10 border border-white/15 shadow-lg backdrop-blur\"\r\n            >\r\n              {t.text}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </ToastCtx.Provider>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,2BAA2B;;;;;;;;AAG3B;;;AAFA;;AAOA,MAAM,yBAAW,IAAA,8KAAa,EAAa;AAEpC,SAAS;;IACd,MAAM,MAAM,IAAA,2KAAU,EAAC;IACvB,IAAI,CAAC,KAAK,MAAM,IAAI,MAAM;IAC1B,OAAO;AACT;GAJgB;AAMD,SAAS,cAAc,KAA2C;QAA3C,EAAE,QAAQ,EAAiC,GAA3C;;IACpC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAU,EAAE;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC,QAAQ,+BAA+B;IAE9E,IAAA,0KAAS;mCAAC,IAAM,WAAW;kCAAO,EAAE;IAEpC,MAAM,MAAM,IAAA,wKAAO;sCACjB,IAAM,CAAC;gBACL,MAAK,IAAY;oBACf,MAAM,KAAK,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,KAAK,CAAC;oBAC5C;sDAAS,CAAC,IAAM;mCAAI;gCAAG;oCAAE;oCAAI;gCAAK;6BAAE;;oBACpC;sDAAW;4BACT;8DAAS,CAAC,IAAM,EAAE,MAAM;sEAAC,CAAC,IAAM,EAAE,EAAE,KAAK;;;wBAC3C;qDAAG;gBACL;YACF,CAAC;qCACD,EAAE;IAGJ,qBACE,6LAAC,SAAS,QAAQ;QAAC,OAAO;;YACvB;YACA,yBACC,6LAAC;gBACC,WAAU;gBACV,aAAU;gBACV,eAAY;0BAEX,MAAM,GAAG,CAAC,CAAC,kBACV,6LAAC;wBAEC,WAAU;kCAET,EAAE,IAAI;uBAHF,EAAE,EAAE;;;;;;;;;;;;;;;;AAUvB;IAxCwB;KAAA","debugId":null}},
    {"offset": {"line": 239, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/adsli/EstudoRank-patched-2025-10-22/estudorank/src/app/login/page.tsx"],"sourcesContent":["// src/app/login/page.tsx\r\n\"use client\";\r\n\r\nimport Image from \"next/image\";\r\nimport { useEffect, useMemo, useRef, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { supabaseBrowser } from \"@/lib/supabase/client\";\r\nimport MotionButton from \"@/components/ui/MotionButton\";\r\nimport Spinner from \"@/components/ui/Spinner\";\r\nimport { useToast } from \"@/components/Toast\";\r\nimport { Eye, EyeOff, Mail, Lock } from \"lucide-react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\n\r\n/* ------------------------------ Helpers ------------------------------ */\r\nfunction isValidEmail(email: string) {\r\n  return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);\r\n}\r\n\r\nconst fadeSlide = {\r\n  initial: { opacity: 0, y: 8 },\r\n  animate: { opacity: 1, y: 0 },\r\n  exit: { opacity: 0, y: -8 },\r\n  transition: { duration: 0.2, ease: \"easeOut\" },\r\n};\r\n\r\n/* ------------------------------- Page -------------------------------- */\r\nexport default function LoginPage() {\r\n  const router = useRouter();\r\n  const supabase = useMemo(() => supabaseBrowser(), []);\r\n  const toast = useToast();\r\n\r\n  const [mode, setMode] = useState<\"signin\" | \"signup\">(\"signin\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [pass, setPass] = useState(\"\");\r\n  const [showPass, setShowPass] = useState(false);\r\n\r\n  const [busy, setBusy] = useState(false);\r\n  const [msg, setMsg] = useState<string | null>(null);\r\n  const [justSaved, setJustSaved] = useState<null | \"ok\">(null);\r\n\r\n  const emailRef = useRef<HTMLInputElement | null>(null);\r\n  const passRef = useRef<HTMLInputElement | null>(null);\r\n\r\n  /* --- Forgot Password modal state --- */\r\n  const [openForgot, setOpenForgot] = useState(false);\r\n  const [emailForgot, setEmailForgot] = useState(\"\");\r\n  const [fpStatus, setFpStatus] = useState<\"idle\" | \"sending\" | \"sent\">(\"idle\");\r\n  const [cooldown, setCooldown] = useState(0);\r\n\r\n  // cooldown do botão \"Reenviar\"\r\n  useEffect(() => {\r\n    if (cooldown <= 0) return;\r\n    const t = setInterval(() => setCooldown((c) => c - 1), 1000);\r\n    return () => clearInterval(t);\r\n  }, [cooldown]);\r\n\r\n  /* 1) Redireciona se já estiver logado ao montar */\r\n  useEffect(() => {\r\n    supabase.auth.getUser().then(({ data }) => {\r\n      if (data.user) router.replace(\"/me\");\r\n      else emailRef.current?.focus();\r\n    });\r\n  }, [router, supabase]);\r\n\r\n  /* 2) Redireciona quando o Supabase autenticar \"ao vivo\" (ex.: magic link / recovery) */\r\n  useEffect(() => {\r\n    const { data: sub } = supabase.auth.onAuthStateChange((event) => {\r\n      // ✅ trata link de recuperação que possa abrir na /login\r\n      if (event === \"PASSWORD_RECOVERY\") {\r\n        const qs =\r\n          typeof window !== \"undefined\" && window.location.search\r\n            ? window.location.search\r\n            : \"\";\r\n        router.replace(`/reset-password${qs}`);\r\n        return;\r\n      }\r\n\r\n      if (event === \"SIGNED_IN\") router.replace(\"/me\");\r\n    });\r\n    return () => {\r\n      try {\r\n        sub.subscription.unsubscribe();\r\n      } catch {}\r\n    };\r\n  }, [router, supabase]);\r\n\r\n  /* Autofocus inteligente ao trocar a aba (signin/signup) */\r\n  useEffect(() => {\r\n    setMsg(null);\r\n    setPass(\"\");\r\n    emailRef.current?.focus();\r\n  }, [mode]);\r\n\r\n  /* Submit ao pressionar Enter no campo de senha */\r\n  function onKeyDown(e: React.KeyboardEvent<HTMLInputElement>) {\r\n    if (e.key === \"Enter\") submit();\r\n  }\r\n\r\n  const emailInvalid = email.length > 0 && !isValidEmail(email);\r\n  const passInvalid =\r\n    pass.length > 0 && (mode === \"signup\" ? pass.length < 6 : pass.length === 0);\r\n\r\n  const disabled =\r\n    busy ||\r\n    email.length === 0 ||\r\n    pass.length === 0 ||\r\n    emailInvalid ||\r\n    (mode === \"signup\" && pass.length < 6);\r\n\r\n  /* ----------------------------- Actions ----------------------------- */\r\n  async function submit() {\r\n    if (disabled) return;\r\n    setBusy(true);\r\n    setMsg(null);\r\n    setJustSaved(null);\r\n\r\n    try {\r\n      if (mode === \"signin\") {\r\n        const { error } = await supabase.auth.signInWithPassword({\r\n          email: email.trim(),\r\n          password: pass,\r\n        });\r\n        if (error) throw error;\r\n\r\n        setJustSaved(\"ok\");\r\n        toast.push(\"Bem-vindo de volta!\");\r\n        router.replace(\"/me\");\r\n      } else {\r\n        const { error } = await supabase.auth.signUp({\r\n          email: email.trim(),\r\n          password: pass,\r\n        });\r\n        if (error) throw error;\r\n\r\n        setJustSaved(\"ok\");\r\n        toast.push(\"Conta criada com sucesso. Você já pode entrar.\");\r\n        setMode(\"signin\");\r\n        setPass(\"\");\r\n        passRef.current?.focus();\r\n      }\r\n    } catch (e: any) {\r\n      setMsg(e.message ?? \"Falha na autenticação. Verifique os dados e tente novamente.\");\r\n      toast.push(\"Erro de autenticação\");\r\n    } finally {\r\n      setBusy(false);\r\n      setTimeout(() => setJustSaved(null), 1400);\r\n    }\r\n  }\r\n\r\n  /* Forgot Password: chama o endpoint /api/auth/forgot-password */\r\n  async function onForgotPassword() {\r\n    if (!isValidEmail(emailForgot)) {\r\n      toast.push(\"Informe um e-mail válido.\");\r\n      return;\r\n    }\r\n    setFpStatus(\"sending\");\r\n    try {\r\n      await fetch(\"/api/auth/forgot-password\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ email: emailForgot.trim() }),\r\n      });\r\n      // resposta sempre neutra\r\n      setFpStatus(\"sent\");\r\n      setCooldown(45);\r\n    } catch {\r\n      setFpStatus(\"sent\");\r\n      setCooldown(45);\r\n    }\r\n  }\r\n\r\n  /* ------------------------------- UI -------------------------------- */\r\n  return (\r\n    <main className=\"min-h-screen grid lg:grid-cols-2 overflow-hidden\">\r\n      {/* Painel esquerdo — branding/atmosfera */}\r\n      <div className=\"hidden lg:flex relative items-center justify-center overflow-hidden\">\r\n        <div className=\"absolute inset-0 bg-[radial-gradient(1200px_600px_at_-10%_-20%,rgba(163,230,53,0.12),transparent_60%)]\" />\r\n        <div className=\"absolute inset-0 bg-[radial-gradient(1000px_500px_at_120%_110%,rgba(99,102,241,0.10),transparent_60%)]\" />\r\n        <motion.div\r\n          className=\"absolute inset-0\"\r\n          initial={{ opacity: 0.4 }}\r\n          animate={{ opacity: [0.35, 0.6, 0.35], scale: [1, 1.03, 1] }}\r\n          transition={{ duration: 8, repeat: Infinity, repeatType: \"mirror\", ease: \"easeInOut\" }}\r\n          style={{\r\n            background:\r\n              \"linear-gradient(120deg, rgba(163,230,53,0.10), transparent 40%, rgba(99,102,241,0.10))\",\r\n            filter: \"blur(6px)\",\r\n          }}\r\n        />\r\n        <div className=\"relative z-10 text-center px-10\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 16 }}\r\n            animate={{ opacity: 1, y: [0, -6, 0], scale: [1, 1.01, 1] }}\r\n            transition={{ duration: 4, repeat: Infinity, repeatType: \"mirror\", ease: \"easeInOut\" }}\r\n          >\r\n            <Image\r\n              src=\"/logo.png\"\r\n              alt=\"EstudoRank\"\r\n              width={190}\r\n              height={190}\r\n              priority\r\n              className=\"mx-auto mb-6 drop-shadow-[0_0_28px_rgba(163,230,53,0.25)]\"\r\n            />\r\n          </motion.div>\r\n          <motion.h2\r\n            className=\"text-[15px] opacity-85 font-light tracking-wide\"\r\n            initial={{ opacity: 0, y: 8 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.5, ease: \"easeOut\" }}\r\n          >\r\n            Transforme seus estudos em uma jornada — suba no ranking.\r\n          </motion.h2>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Formulário / Card */}\r\n      <div className=\"flex items-center justify-center p-6 sm:p-8 md:p-10\">\r\n        <motion.div\r\n          {...fadeSlide}\r\n          className=\"relative w-full max-w-sm rounded-2xl bg-white/[0.04] border border-white/10 p-6 backdrop-blur-md shadow-[0_0_40px_-15px_rgba(163,230,53,0.25)] transition-all duration-300 ease-out hover:shadow-[0_0_50px_-12px_rgba(163,230,53,0.38)]\"\r\n        >\r\n          <div className=\"absolute top-0 left-0 right-0 h-[2px] bg-gradient-to-r from-lime-400 via-green-300 to-indigo-500 rounded-t-2xl\" />\r\n\r\n          <h1 className=\"text-center text-xl font-semibold\">\r\n            <span className=\"bg-gradient-to-r from-lime-400 via-green-300 to-indigo-400 bg-clip-text text-transparent\">\r\n              Acesse sua conta\r\n            </span>\r\n          </h1>\r\n\r\n          {/* Abas */}\r\n          <div className=\"mt-4 relative flex rounded-xl bg-white/5 p-1 border border-white/10\">\r\n            <button\r\n              className={`relative flex-1 py-2 rounded-lg transition-all duration-200 ease-out ${\r\n                mode === \"signin\" ? \"text-white\" : \"opacity-75 hover:opacity-100\"\r\n              }`}\r\n              onClick={() => setMode(\"signin\")}\r\n            >\r\n              Entrar\r\n              {mode === \"signin\" && (\r\n                <motion.span\r\n                  layoutId=\"loginTab\"\r\n                  className=\"absolute inset-0 -z-10 rounded-lg bg-white/10\"\r\n                  transition={{ type: \"spring\", stiffness: 500, damping: 40 }}\r\n                />\r\n              )}\r\n            </button>\r\n            <button\r\n              className={`relative flex-1 py-2 rounded-lg transition-all duration-200 ease-out ${\r\n                mode === \"signup\" ? \"text-white\" : \"opacity-75 hover:opacity-100\"\r\n              }`}\r\n              onClick={() => setMode(\"signup\")}\r\n            >\r\n              Criar conta\r\n              {mode === \"signup\" && (\r\n                <motion.span\r\n                  layoutId=\"loginTab\"\r\n                  className=\"absolute inset-0 -z-10 rounded-lg bg-white/10\"\r\n                  transition={{ type: \"spring\", stiffness: 500, damping: 40 }}\r\n                />\r\n              )}\r\n            </button>\r\n          </div>\r\n\r\n          {/* Mensagens de erro */}\r\n          <AnimatePresence mode=\"wait\">\r\n            {msg && (\r\n              <motion.div\r\n                {...fadeSlide}\r\n                className=\"mt-3 flex items-center gap-2 p-3 rounded-lg bg-red-500/12 border border-red-400/25 text-sm text-red-200\"\r\n              >\r\n                {msg}\r\n              </motion.div>\r\n            )}\r\n          </AnimatePresence>\r\n\r\n          {/* Email */}\r\n          <label className=\"block text-sm mb-1 mt-4 font-medium\">Email</label>\r\n          <div className=\"relative\">\r\n            <Mail className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-white/60\" aria-hidden />\r\n            <input\r\n              ref={emailRef}\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              inputMode=\"email\"\r\n              placeholder=\"voce@email.com\"\r\n              className=\"w-full rounded-lg bg-black/20 border border-white/10 pl-10 pr-3 py-2 outline-none transition-all duration-200 ease-out focus:ring-2 focus:ring-[var(--accent)]/40\"\r\n            />\r\n          </div>\r\n          {emailInvalid && <div className=\"mt-1 text-xs text-red-300/90\">E-mail inválido.</div>}\r\n\r\n          {/* Senha */}\r\n          <div className=\"mt-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <label className=\"block text-sm mb-1 font-medium\">Senha</label>\r\n              {mode === \"signin\" && (\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => {\r\n                    setEmailForgot(email || \"\");\r\n                    setFpStatus(\"idle\");\r\n                    setOpenForgot(true);\r\n                  }}\r\n                  className=\"text-xs font-medium text-[var(--accent)] hover:underline underline-offset-4 transition\"\r\n                  title=\"Enviar link para redefinir sua senha\"\r\n                >\r\n                  Esqueci minha senha\r\n                </button>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"relative\">\r\n              <Lock className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-white/60\" aria-hidden />\r\n              <input\r\n                ref={passRef}\r\n                value={pass}\r\n                onChange={(e) => setPass(e.target.value)}\r\n                onKeyDown={onKeyDown}\r\n                type={showPass ? \"text\" : \"password\"}\r\n                placeholder={mode === \"signup\" ? \"Mínimo 6 caracteres\" : \"Sua senha\"}\r\n                className=\"w-full rounded-lg bg-black/20 border border-white/10 pl-10 pr-10 py-2 outline-none transition-all duration-200 ease-out focus:ring-2 focus:ring-[var(--accent)]/40\"\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setShowPass((v) => !v)}\r\n                className=\"absolute right-3 top-1/2 -translate-y-1/2 text-white/70 hover:text-white transition-transform hover:scale-110\"\r\n                title={showPass ? \"Ocultar senha\" : \"Mostrar senha\"}\r\n              >\r\n                {showPass ? <EyeOff size={18} /> : <Eye size={18} />}\r\n              </button>\r\n            </div>\r\n            {passInvalid && (\r\n              <div className=\"mt-1 text-xs text-red-300/90\">\r\n                {mode === \"signup\" ? \"A senha deve ter no mínimo 6 caracteres.\" : \"Informe sua senha.\"}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Botão principal com feedback embutido */}\r\n          <MotionButton\r\n            onClick={submit}\r\n            disabled={disabled}\r\n            aria-busy={busy}\r\n            className={[\r\n              \"w-full mt-6 rounded-xl py-2 font-semibold text-black transition-all duration-200 ease-out\",\r\n              \"bg-gradient-to-r from-lime-400 via-green-300 to-indigo-500 hover:brightness-110\",\r\n              \"disabled:opacity-60 active:scale-[0.98]\",\r\n            ].join(\" \")}\r\n          >\r\n            {busy ? (\r\n              <Spinner label={mode === \"signin\" ? \"Entrando...\" : \"Criando...\"} />\r\n            ) : justSaved === \"ok\" ? (\r\n              \"Salvo com sucesso!\"\r\n            ) : mode === \"signin\" ? (\r\n              \"Entrar\"\r\n            ) : (\r\n              \"Criar conta\"\r\n            )}\r\n          </MotionButton>\r\n\r\n          {/* Alternância */}\r\n          <div className=\"mt-5 text-center text-sm opacity-85\">\r\n            {mode === \"signin\" ? (\r\n              <>\r\n                Não tem conta?{\" \"}\r\n                <button\r\n                  className=\"underline underline-offset-4 hover:opacity-100 transition-colors\"\r\n                  onClick={() => setMode(\"signup\")}\r\n                >\r\n                  Crie agora\r\n                </button>\r\n              </>\r\n            ) : (\r\n              <>\r\n                Já é cadastrado?{\" \"}\r\n                <button\r\n                  className=\"underline underline-offset-4 hover:opacity-100 transition-colors\"\r\n                  onClick={() => setMode(\"signin\")}\r\n                >\r\n                  Entrar\r\n                </button>\r\n              </>\r\n            )}\r\n          </div>\r\n        </motion.div>\r\n      </div>\r\n\r\n      {/* -------- Modal: Esqueci minha senha -------- */}\r\n      {openForgot && (\r\n        <div className=\"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50\">\r\n          <div className=\"w-full max-w-md rounded-xl bg-neutral-900 p-6 shadow-xl border border-white/10\">\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n              <h2 className=\"text-lg font-semibold\">Recuperar acesso</h2>\r\n              <button\r\n                className=\"opacity-70 hover:opacity-100\"\r\n                onClick={() => setOpenForgot(false)}\r\n                aria-label=\"Fechar\"\r\n              >\r\n                ✕\r\n              </button>\r\n            </div>\r\n\r\n            {fpStatus !== \"sent\" ? (\r\n              <>\r\n                <label className=\"text-sm block mb-2\">Email</label>\r\n                <div className=\"relative\">\r\n                  <Mail className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-white/60\" />\r\n                  <input\r\n                    type=\"email\"\r\n                    className=\"w-full rounded-lg bg-neutral-800 border border-neutral-700 px-3 py-2 pl-10 outline-none focus:border-neutral-500\"\r\n                    placeholder=\"seuemail@dominio.com\"\r\n                    value={emailForgot}\r\n                    onChange={(e) => setEmailForgot(e.target.value)}\r\n                  />\r\n                </div>\r\n\r\n                <button\r\n                  className=\"mt-4 w-full rounded-lg px-3 py-2 font-medium bg-gradient-to-r from-lime-400 via-green-300 to-indigo-500 disabled:opacity-60\"\r\n                  disabled={fpStatus === \"sending\" || !isValidEmail(emailForgot)}\r\n                  onClick={onForgotPassword}\r\n                >\r\n                  {fpStatus === \"sending\" ? \"Enviando...\" : \"Enviar link de recuperação\"}\r\n                </button>\r\n\r\n                <p className=\"mt-3 text-xs opacity-70\">\r\n                  Você receberá um link para criar uma nova senha. Se o e-mail existir, chegará em alguns minutos.\r\n                </p>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <div className=\"rounded-lg bg-neutral-800 border border-neutral-700 p-3\">\r\n                  <p className=\"text-sm\">\r\n                    Se o e-mail existir, enviamos o link para redefinir sua senha.\r\n                    Verifique sua caixa de entrada e a pasta de spam.\r\n                  </p>\r\n                </div>\r\n\r\n                <div className=\"mt-4 grid grid-cols-2 gap-2\">\r\n                  <a\r\n                    className=\"rounded-lg px-3 py-2 text-center bg-neutral-800 border border-neutral-700 hover:bg-neutral-700\"\r\n                    href=\"https://mail.google.com\" target=\"_blank\" rel=\"noreferrer\"\r\n                  >\r\n                    Abrir Gmail\r\n                  </a>\r\n                  <a\r\n                    className=\"rounded-lg px-3 py-2 text-center bg-neutral-800 border border-neutral-700 hover:bg-neutral-700\"\r\n                    href=\"https://outlook.live.com\" target=\"_blank\" rel=\"noreferrer\"\r\n                  >\r\n                    Abrir Outlook\r\n                  </a>\r\n                </div>\r\n\r\n                <button\r\n                  className=\"mt-3 w-full rounded-lg px-3 py-2 bg-neutral-800 border border-neutral-700 hover:bg-neutral-700 disabled:opacity-60\"\r\n                  disabled={cooldown > 0}\r\n                  onClick={() => {\r\n                    setFpStatus(\"idle\");\r\n                    setTimeout(onForgotPassword, 0);\r\n                  }}\r\n                >\r\n                  {cooldown > 0 ? `Reenviar em ${String(cooldown).padStart(2, \"0\")}s` : \"Reenviar\"}\r\n                </button>\r\n\r\n                <button\r\n                  className=\"mt-2 w-full text-sm underline opacity-80 hover:opacity-100\"\r\n                  onClick={() => setFpStatus(\"idle\")}\r\n                >\r\n                  Trocar e-mail\r\n                </button>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}