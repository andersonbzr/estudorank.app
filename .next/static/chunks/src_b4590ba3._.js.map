{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/adsli/EstudoRank-patched-2025-10-22/estudorank/src/lib/supabase/client.ts"],"sourcesContent":["// src/lib/supabase/client.ts\r\nimport { createClient, type SupabaseClient } from \"@supabase/supabase-js\";\r\n\r\nlet _client: SupabaseClient | null = null;\r\n\r\n/**\r\n * Cliente do Supabase para uso no browser (componentes client).\r\n * Usa storageKey custom \"sr-auth\" para evitar conflitos e manter sessão.\r\n */\r\nexport function supabaseBrowser(): SupabaseClient {\r\n  if (_client) return _client;\r\n\r\n  const url = process.env.NEXT_PUBLIC_SUPABASE_URL!;\r\n  const anon = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\r\n\r\n  if (!url || !anon) {\r\n    throw new Error(\r\n      \"Env vars ausentes: defina NEXT_PUBLIC_SUPABASE_URL e NEXT_PUBLIC_SUPABASE_ANON_KEY.\"\r\n    );\r\n  }\r\n\r\n  _client = createClient(url, anon, {\r\n    auth: {\r\n      persistSession: true,\r\n      autoRefreshToken: true,\r\n      storageKey: \"sr-auth\",\r\n    },\r\n  });\r\n\r\n  return _client;\r\n}\r\n"],"names":[],"mappings":"AAAA,6BAA6B;;;;;AAYf;AAXd;;AAEA,IAAI,UAAiC;AAM9B,SAAS;IACd,IAAI,SAAS,OAAO;IAEpB,MAAM;IACN,MAAM;IAEN;;IAMA,UAAU,IAAA,0MAAY,EAAC,KAAK,MAAM;QAChC,MAAM;YACJ,gBAAgB;YAChB,kBAAkB;YAClB,YAAY;QACd;IACF;IAEA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 35, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/adsli/EstudoRank-patched-2025-10-22/estudorank/src/components/AdminGuard.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useMemo, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { supabaseBrowser } from \"@/lib/supabase/client\";\r\n\r\nexport default function AdminGuard({ children }: { children: React.ReactNode }) {\r\n  const router = useRouter();\r\n  const supabase = useMemo(() => supabaseBrowser(), []);\r\n  const [checking, setChecking] = useState(true);\r\n\r\n  useEffect(() => {\r\n    async function check() {\r\n      const { data: userData } = await supabase.auth.getUser();\r\n      const user = userData.user;\r\n      if (!user) {\r\n        router.replace(\"/login\");\r\n        return;\r\n      }\r\n      const { data: prof, error } = await supabase\r\n        .from(\"profiles\")\r\n        .select(\"is_admin\")\r\n        .eq(\"id\", user.id)\r\n        .single();\r\n\r\n      if (error || !prof?.is_admin) {\r\n        router.replace(\"/forbidden\");\r\n        return;\r\n      }\r\n      setChecking(false);\r\n    }\r\n    check();\r\n  }, [router, supabase]);\r\n\r\n  if (checking) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"bg-[var(--surface)] p-6 rounded-2xl border border-white/10\">\r\n          Verificando permissões...\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return <>{children}</>;\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAMe,SAAS,WAAW,KAA2C;QAA3C,EAAE,QAAQ,EAAiC,GAA3C;;IACjC,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,WAAW,IAAA,wKAAO;wCAAC,IAAM,IAAA,sJAAe;uCAAI,EAAE;IACpD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IAEzC,IAAA,0KAAS;gCAAC;YACR,eAAe;gBACb,MAAM,EAAE,MAAM,QAAQ,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;gBACtD,MAAM,OAAO,SAAS,IAAI;gBAC1B,IAAI,CAAC,MAAM;oBACT,OAAO,OAAO,CAAC;oBACf;gBACF;gBACA,MAAM,EAAE,MAAM,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SACjC,IAAI,CAAC,YACL,MAAM,CAAC,YACP,EAAE,CAAC,MAAM,KAAK,EAAE,EAChB,MAAM;gBAET,IAAI,SAAS,EAAC,iBAAA,2BAAA,KAAM,QAAQ,GAAE;oBAC5B,OAAO,OAAO,CAAC;oBACf;gBACF;gBACA,YAAY;YACd;YACA;QACF;+BAAG;QAAC;QAAQ;KAAS;IAErB,IAAI,UAAU;QACZ,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;0BAA6D;;;;;;;;;;;IAKlF;IAEA,qBAAO;kBAAG;;AACZ;GAvCwB;;QACP,kJAAS;;;KADF","debugId":null}},
    {"offset": {"line": 115, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/adsli/EstudoRank-patched-2025-10-22/estudorank/src/components/Sidebar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport { usePathname } from \"next/navigation\";\r\nimport {\r\n  Trophy,\r\n  LayoutDashboard,\r\n  Settings,\r\n  ShieldCheck,\r\n  Shield,\r\n} from \"lucide-react\";\r\nimport Image from \"next/image\";\r\nimport clsx from \"clsx\";\r\n\r\ntype Props = {\r\n  onNavigate?: () => void;\r\n  isAdmin?: boolean;\r\n  /** Quando true, renderiza mini-rail (ícones apenas) no desktop */\r\n  collapsed?: boolean;\r\n};\r\n\r\ntype Item = { href: string; label: string; icon: React.ComponentType<any> };\r\n\r\nexport default function Sidebar({\r\n  onNavigate,\r\n  isAdmin,\r\n  collapsed = false,\r\n}: Props) {\r\n  const pathname = usePathname();\r\n\r\n  const items: Item[] = [\r\n    { href: \"/me\", label: \"Meu Painel\", icon: LayoutDashboard },\r\n    { href: \"/ranking\", label: \"Ranking\", icon: Trophy },\r\n    { href: \"/config\", label: \"Configurações\", icon: Settings },\r\n    { href: \"/me/security\", label: \"Segurança\", icon: Shield },\r\n  ];\r\n  if (isAdmin) {\r\n    items.push({\r\n      href: \"/admin/courses\",\r\n      label: \"Administração\",\r\n      icon: ShieldCheck,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <aside className=\"h-screen sticky top-0 bg-[var(--surface)]/80 backdrop-blur-xl border-r border-white/10 flex flex-col\">\r\n      {/* Header */}\r\n      <div\r\n        className={clsx(\r\n          \"h-14 border-b border-white/10 px-4 flex items-center gap-2\",\r\n          collapsed && \"justify-center px-0\"\r\n        )}\r\n      >\r\n        <Link\r\n          href=\"/\"\r\n          className={clsx(\r\n            \"flex items-center gap-2 transition-transform hover:scale-[1.02]\",\r\n            collapsed && \"justify-center\"\r\n          )}\r\n          onClick={onNavigate}\r\n          aria-label=\"Ir para a página inicial\"\r\n        >\r\n          <Image\r\n            src=\"/logo.png\"\r\n            alt=\"EstudoRank\"\r\n            width={collapsed ? 22 : 28}\r\n            height={collapsed ? 22 : 28}\r\n            className=\"rounded-sm drop-shadow-[0_0_6px_rgba(163,230,53,0.30)]\"\r\n            priority\r\n          />\r\n          {!collapsed && (\r\n            <span className=\"font-semibold tracking-tight\">EstudoRank</span>\r\n          )}\r\n        </Link>\r\n      </div>\r\n\r\n      {/* Navegação */}\r\n      <nav className={clsx(\"flex-1 p-2 space-y-2\", collapsed && \"p-2\")}>\r\n        {items.map((item) => {\r\n          const active =\r\n            pathname === item.href || pathname.startsWith(`${item.href}/`);\r\n          return (\r\n            <NavItem\r\n              key={item.href}\r\n              item={item}\r\n              active={active}\r\n              collapsed={collapsed}\r\n              onNavigate={onNavigate}\r\n            />\r\n          );\r\n        })}\r\n      </nav>\r\n\r\n      {/* Footer */}\r\n      {!collapsed ? (\r\n        <div className=\"px-3 py-3 text-xs opacity-60 border-t border-white/10\">\r\n          © {new Date().getFullYear()} EstudoRank\r\n        </div>\r\n      ) : (\r\n        <div className=\"py-3 border-t border-white/10 text-center text-[10px] opacity-50 select-none\">\r\n          © {new Date().getFullYear()}\r\n        </div>\r\n      )}\r\n    </aside>\r\n  );\r\n}\r\n\r\n/* --------------------------- Subcomponentes --------------------------- */\r\n\r\nfunction NavItem({\r\n  item,\r\n  active,\r\n  collapsed,\r\n  onNavigate,\r\n}: {\r\n  item: Item;\r\n  active: boolean;\r\n  collapsed: boolean;\r\n  onNavigate?: () => void;\r\n}) {\r\n  const Icon = item.icon;\r\n\r\n  return (\r\n    <Link\r\n      href={item.href}\r\n      onClick={onNavigate}\r\n      aria-current={active ? \"page\" : undefined}\r\n      className={clsx(\r\n        \"group relative flex items-center gap-2 rounded-2xl border transition-all duration-200 outline-none focus-visible:ring-2 focus-visible:ring-indigo-400/40\",\r\n        collapsed ? \"justify-center p-2\" : \"px-3 py-2\",\r\n        active\r\n          ? // ✅ destaque do ativo: “pill” com leve gradiente + glow\r\n            \"bg-gradient-to-br from-lime-400/15 to-indigo-500/10 border-white/25 shadow-[0_0_0_1px_rgba(255,255,255,0.06),0_8px_24px_-8px_rgba(99,102,241,0.25)] text-lime-200\"\r\n          : \"bg-white/5 hover:bg-white/10 border-white/10 text-white/85 hover:text-white\"\r\n      )}\r\n    >\r\n      {/* Ícone */}\r\n      <Icon\r\n        size={18}\r\n        className={clsx(\r\n          \"transition-transform\",\r\n          active ? \"scale-[1.02]\" : \"group-hover:scale-105\"\r\n        )}\r\n        aria-hidden\r\n      />\r\n\r\n      {/* Label (só no modo expandido) */}\r\n      {!collapsed && <span className=\"text-sm\">{item.label}</span>}\r\n\r\n      {/* Tooltip custom (apenas no modo colapsado) */}\r\n      {collapsed && (\r\n        <span\r\n          className={clsx(\r\n            \"pointer-events-none absolute left-full ml-3 top-1/2 -translate-y-1/2\",\r\n            \"rounded-md bg-black/80 text-white text-xs px-2 py-1\",\r\n            \"opacity-0 translate-x-[-4px] group-hover:opacity-100 group-hover:translate-x-0\",\r\n            \"transition-all whitespace-nowrap z-50\"\r\n          )}\r\n          role=\"tooltip\"\r\n        >\r\n          {item.label}\r\n        </span>\r\n      )}\r\n    </Link>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;;;AAZA;;;;;;AAuBe,SAAS,QAAQ,KAIxB;QAJwB,EAC9B,UAAU,EACV,OAAO,EACP,YAAY,KAAK,EACX,GAJwB;;IAK9B,MAAM,WAAW,IAAA,oJAAW;IAE5B,MAAM,QAAgB;QACpB;YAAE,MAAM;YAAO,OAAO;YAAc,MAAM,kPAAe;QAAC;QAC1D;YAAE,MAAM;YAAY,OAAO;YAAW,MAAM,mNAAM;QAAC;QACnD;YAAE,MAAM;YAAW,OAAO;YAAiB,MAAM,yNAAQ;QAAC;QAC1D;YAAE,MAAM;YAAgB,OAAO;YAAa,MAAM,mNAAM;QAAC;KAC1D;IACD,IAAI,SAAS;QACX,MAAM,IAAI,CAAC;YACT,MAAM;YACN,OAAO;YACP,MAAM,sOAAW;QACnB;IACF;IAEA,qBACE,6LAAC;QAAM,WAAU;;0BAEf,6LAAC;gBACC,WAAW,IAAA,mJAAI,EACb,8DACA,aAAa;0BAGf,cAAA,6LAAC,0KAAI;oBACH,MAAK;oBACL,WAAW,IAAA,mJAAI,EACb,mEACA,aAAa;oBAEf,SAAS;oBACT,cAAW;;sCAEX,6LAAC,2IAAK;4BACJ,KAAI;4BACJ,KAAI;4BACJ,OAAO,YAAY,KAAK;4BACxB,QAAQ,YAAY,KAAK;4BACzB,WAAU;4BACV,QAAQ;;;;;;wBAET,CAAC,2BACA,6LAAC;4BAAK,WAAU;sCAA+B;;;;;;;;;;;;;;;;;0BAMrD,6LAAC;gBAAI,WAAW,IAAA,mJAAI,EAAC,wBAAwB,aAAa;0BACvD,MAAM,GAAG,CAAC,CAAC;oBACV,MAAM,SACJ,aAAa,KAAK,IAAI,IAAI,SAAS,UAAU,CAAC,AAAC,GAAY,OAAV,KAAK,IAAI,EAAC;oBAC7D,qBACE,6LAAC;wBAEC,MAAM;wBACN,QAAQ;wBACR,WAAW;wBACX,YAAY;uBAJP,KAAK,IAAI;;;;;gBAOpB;;;;;;YAID,CAAC,0BACA,6LAAC;gBAAI,WAAU;;oBAAwD;oBAClE,IAAI,OAAO,WAAW;oBAAG;;;;;;qCAG9B,6LAAC;gBAAI,WAAU;;oBAA+E;oBACzF,IAAI,OAAO,WAAW;;;;;;;;;;;;;AAKnC;GAlFwB;;QAKL,oJAAW;;;KALN;AAoFxB,0EAA0E,GAE1E,SAAS,QAAQ,KAUhB;QAVgB,EACf,IAAI,EACJ,MAAM,EACN,SAAS,EACT,UAAU,EAMX,GAVgB;IAWf,MAAM,OAAO,KAAK,IAAI;IAEtB,qBACE,6LAAC,0KAAI;QACH,MAAM,KAAK,IAAI;QACf,SAAS;QACT,gBAAc,SAAS,SAAS;QAChC,WAAW,IAAA,mJAAI,EACb,4JACA,YAAY,uBAAuB,aACnC,SAEI,sKACA;;0BAIN,6LAAC;gBACC,MAAM;gBACN,WAAW,IAAA,mJAAI,EACb,wBACA,SAAS,iBAAiB;gBAE5B,aAAW;;;;;;YAIZ,CAAC,2BAAa,6LAAC;gBAAK,WAAU;0BAAW,KAAK,KAAK;;;;;;YAGnD,2BACC,6LAAC;gBACC,WAAW,IAAA,mJAAI,EACb,wEACA,uDACA,kFACA;gBAEF,MAAK;0BAEJ,KAAK,KAAK;;;;;;;;;;;;AAKrB;MAxDS","debugId":null}},
    {"offset": {"line": 320, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/adsli/EstudoRank-patched-2025-10-22/estudorank/src/components/I18nProvider.tsx"],"sourcesContent":["// src/components/I18nProvider.tsx\r\n\"use client\";\r\n\r\nimport React, { createContext, useContext, useEffect, useMemo, useState } from \"react\";\r\n\r\n/**\r\n * Dicionários simples. Mantive pt-BR como padrão.\r\n * Se quiser, pode preencher/enxugar o en-US — o app vai cair no pt-BR quando faltar chave.\r\n */\r\ntype Dict = Record<string, string | ((vars?: Record<string, any>) => string)>;\r\n\r\nconst ptBR: Dict = {\r\n  // Globais / Header / Sidebar\r\n  welcome: ({ name }: any) => (name ? `Bem-vindo, ${name}` : \"Bem-vindo\"),\r\n  myPanel: \"Meu Painel\",\r\n  ranking: \"Ranking\",\r\n  settings: \"Configurações\",\r\n  admin: \"Admin\",\r\n  refresh: \"Atualizar\",\r\n  prev: \"Anterior\",\r\n  next: \"Próxima\",\r\n  signOut: \"Sair\",\r\n\r\n  // Página /me\r\n  yourPoints: \"Seus pontos:\",\r\n  creatingExample: \"Criando exemplo...\",\r\n  createExample: \"Criar dados de exemplo\",\r\n  weeklyGoalLabel: ({ done, goal }: any) => `Meta semanal (seg–dom): ${done}/${goal} módulos`,\r\n  saveGoal: \"Salvar meta\",\r\n  generalProgress: \"Progresso geral\",\r\n  modulesCompleted: ({ done, total }: any) => `${done}/${total} módulos concluídos`,\r\n  loadingCoursesModules: \"Carregando cursos e módulos...\",\r\n  noActiveCourses: \"Nenhum curso ativo. Use “Criar dados de exemplo”.\",\r\n  donePlusPoints: \"Concluído (+10 pts)\",\r\n  pending: \"Pendente\",\r\n  updating: \"Atualizando...\",\r\n  undo: \"Desfazer\",\r\n  conclude: \"Concluir\",\r\n\r\n  // Admin / Cursos\r\n  adminCoursesTitle: \"Admin • Cursos & Módulos\",\r\n  adminCoursesSubtitle:\r\n    \"Crie cursos, adicione módulos, ative/desative e edite títulos. Somente administradores podem alterar.\",\r\n  demoMode: \"Modo Demo\",\r\n  demoModeDesc: \"Popula vários cursos e módulos de exemplo.\",\r\n  populating: \"Populando...\",\r\n  populateDemo: \"Popular demo\",\r\n  newCourse: \"Novo curso\",\r\n  courseTitlePlaceholder: \"Título do curso\",\r\n  courseDescPlaceholder: \"Descrição (opcional)\",\r\n  creating: \"Criando...\",\r\n  createCourse: \"Criar curso\",\r\n  titleLabel: \"Título\",\r\n  disable: \"Desativar\",\r\n  enable: \"Ativar\",\r\n  delete: \"Excluir\",\r\n  modulePlaceholder: \"Novo módulo...\",\r\n  addModule: \"Adicionar módulo\",\r\n  adding: \"Adicionando...\",\r\n  moduleLabel: \"Módulo\",\r\n  save: \"Salvar\",\r\n  cancel: \"Cancelar\",\r\n  edit: \"Editar\",\r\n  loading: \"Carregando...\",\r\n  noCourses: \"Nenhum curso. Crie um acima.\",\r\n\r\n  // Ranking\r\n  position: \"Posição\",\r\n  user: \"Usuário\",\r\n  points: \"Pontos\",\r\n  loadingRanking: \"Carregando ranking...\",\r\n  noDataYet: \"Sem dados ainda.\",\r\n  paginationSummary: ({ total, page, pages }: any) => `${total} usuários • página ${page} de ${pages}`,\r\n};\r\n\r\nconst enUS: Dict = {\r\n  // (opcional, serve como fallback para quando você selecionar \"en-US\" no futuro)\r\n  welcome: ({ name }: any) => (name ? `Welcome, ${name}` : \"Welcome\"),\r\n  myPanel: \"My Panel\",\r\n  ranking: \"Ranking\",\r\n  settings: \"Settings\",\r\n  admin: \"Admin\",\r\n  refresh: \"Refresh\",\r\n  prev: \"Previous\",\r\n  next: \"Next\",\r\n  signOut: \"Sign out\",\r\n};\r\n\r\nexport type Locale = \"pt-BR\" | \"en-US\";\r\n\r\nconst dictionaries: Record<Locale, Dict> = {\r\n  \"pt-BR\": ptBR,\r\n  \"en-US\": enUS,\r\n};\r\n\r\ntype I18nCtxType = {\r\n  locale: Locale;\r\n  setLocale: (l: Locale) => void;\r\n  t: (key: string, vars?: Record<string, any>) => string;\r\n};\r\n\r\nconst I18nCtx = createContext<I18nCtxType | null>(null);\r\n\r\nexport function I18nProvider({ children }: { children: React.ReactNode }) {\r\n  // Se não for usar troca de idioma agora, deixe fixo em 'pt-BR'\r\n  const [locale, setLocaleState] = useState<Locale>(\"pt-BR\");\r\n\r\n  // Mantém o atributo lang coerente (não é obrigatório, mas ajuda em SEO/acessibilidade)\r\n  useEffect(() => {\r\n    document.documentElement.setAttribute(\"lang\", locale);\r\n  }, [locale]);\r\n\r\n  // Exponho setLocale para compatibilidade futura (hoje pode ficar sem uso)\r\n  const setLocale = (l: Locale) => {\r\n    setLocaleState(l);\r\n  };\r\n\r\n  // Tradutor com fallback para pt-BR e, por fim, a própria chave\r\n  const t = useMemo(() => {\r\n    return (key: string, vars?: Record<string, any>) => {\r\n      const dict = dictionaries[locale] || ptBR;\r\n      const entry = dict[key];\r\n      if (typeof entry === \"function\") return (entry as any)(vars || {});\r\n      if (typeof entry === \"string\") return entry;\r\n\r\n      const fb = ptBR[key];\r\n      if (typeof fb === \"function\") return (fb as any)(vars || {});\r\n      if (typeof fb === \"string\") return fb;\r\n\r\n      return key;\r\n    };\r\n  }, [locale]);\r\n\r\n  const value = useMemo(() => ({ locale, setLocale, t }), [locale, t]);\r\n\r\n  return <I18nCtx.Provider value={value}>{children}</I18nCtx.Provider>;\r\n}\r\n\r\nexport function useI18n() {\r\n  const ctx = useContext(I18nCtx);\r\n  if (!ctx) throw new Error(\"useI18n must be used within I18nProvider\");\r\n  return ctx;\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 497, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/adsli/EstudoRank-patched-2025-10-22/estudorank/src/components/shell/AppShell.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { ReactNode, useEffect, useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport Sidebar from \"@/components/Sidebar\";\r\nimport { Menu, LogOut, Shield } from \"lucide-react\";\r\nimport { supabaseBrowser } from \"@/lib/supabase/client\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { I18nProvider } from \"@/components/I18nProvider\";\r\n\r\nexport default function AppShell({ children }: { children: ReactNode }) {\r\n  const [open, setOpen] = useState(true);              // desktop: expandida (true) / rail (false)\r\n  const [mobileOpen, setMobileOpen] = useState(false); // mobile drawer\r\n  const [displayName, setDisplayName] = useState<string | null>(null);\r\n  const [isAdmin, setIsAdmin] = useState(false);\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    const supabase = supabaseBrowser();\r\n    supabase.auth.getUser().then(async ({ data }) => {\r\n      const u = data.user;\r\n      if (u) {\r\n        const { data: prof } = await supabase\r\n          .from(\"profiles\")\r\n          .select(\"is_admin, full_name, name\")\r\n          .eq(\"id\", u.id)\r\n          .single();\r\n\r\n        setIsAdmin(!!prof?.is_admin);\r\n        const name =\r\n          (prof?.full_name && String(prof.full_name).trim()) ||\r\n          (prof?.name && String(prof.name).trim()) ||\r\n          u.email ||\r\n          null;\r\n        setDisplayName(name);\r\n      } else {\r\n        setIsAdmin(false);\r\n        setDisplayName(null);\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  async function signOut() {\r\n    const supabase = supabaseBrowser();\r\n    await supabase.auth.signOut();\r\n    router.replace(\"/login\");\r\n  }\r\n\r\n  function handleNavigate() {\r\n    setMobileOpen(false);\r\n  }\r\n\r\n  // Largura da 1ª coluna no desktop: 18rem (aberta) / 4rem (rail colapsada)\r\n  const desktopCol = open ? \"18rem\" : \"4rem\";\r\n\r\n  return (\r\n    <I18nProvider>\r\n      <div\r\n        className=\"min-h-screen w-full grid\"\r\n        style={{ gridTemplateColumns: `${desktopCol} 1fr` }}\r\n      >\r\n        {/* Sidebar Desktop */}\r\n        <div className=\"hidden lg:block border-r border-white/10 bg-[var(--surface)]/70 backdrop-blur-xl\">\r\n          <Sidebar isAdmin={isAdmin} collapsed={!open} />\r\n        </div>\r\n\r\n        {/* Conteúdo */}\r\n        <div className=\"min-h-screen flex flex-col\">\r\n          {/* Topbar */}\r\n          <header className=\"sticky top-0 z-30 h-14 border-b border-white/10 bg-[var(--surface)]/70 backdrop-blur flex items-center justify-between px-3 sm:px-4 lg:px-6\">\r\n            <div className=\"flex items-center gap-2\">\r\n              {/* Toggle Mobile Drawer */}\r\n              <button\r\n                className=\"btn-icon lg:hidden\"\r\n                onClick={() => setMobileOpen(true)}\r\n                aria-label=\"Abrir menu\"\r\n              >\r\n                <Menu size={18} />\r\n              </button>\r\n\r\n              {/* Toggle largura sidebar (desktop) */}\r\n              <button\r\n                className=\"btn-icon hidden lg:inline-flex\"\r\n                onClick={() => setOpen((v) => !v)}\r\n                aria-label={open ? \"Recolher menu\" : \"Expandir menu\"}\r\n                title={open ? \"Recolher menu\" : \"Expandir menu\"}\r\n              >\r\n                <Menu size={18} />\r\n              </button>\r\n\r\n              <span className=\"text-sm opacity-80 hidden sm:block\">\r\n                {displayName ? `Bem-vindo, ${displayName}` : \"Bem-vindo\"}\r\n              </span>\r\n            </div>\r\n\r\n            {/* Ações à direita */}\r\n            <div className=\"flex items-center gap-2\">\r\n              <Link href=\"/me/security\" className=\"btn btn-outline\" title=\"Segurança da conta\">\r\n                <Shield size={16} />\r\n                <span className=\"hidden sm:inline\">Segurança</span>\r\n              </Link>\r\n\r\n              <button onClick={signOut} className=\"btn btn-outline\" title=\"Sair\">\r\n                <LogOut size={16} />\r\n                <span className=\"hidden sm:inline\">Sair</span>\r\n              </button>\r\n            </div>\r\n          </header>\r\n\r\n          <main className=\"flex-1 p-4 sm:p-6 lg:p-8\">{children}</main>\r\n        </div>\r\n\r\n        {/* Drawer Mobile */}\r\n        {mobileOpen && (\r\n          <div className=\"lg:hidden fixed inset-0 z-40\">\r\n            {/* overlay */}\r\n            <button\r\n              className=\"absolute inset-0 bg-black/50\"\r\n              onClick={() => setMobileOpen(false)}\r\n              aria-label=\"Fechar menu\"\r\n            />\r\n            <div className=\"absolute left-0 top-0 h-full w-72 bg-[var(--surface)]/90 border-r border-white/10 shadow-xl\">\r\n              <Sidebar isAdmin={isAdmin} onNavigate={handleNavigate} />\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </I18nProvider>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 778, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/adsli/EstudoRank-patched-2025-10-22/estudorank/src/app/admin/courses/page.tsx"],"sourcesContent":["// src/app/admin/courses/page.tsx\r\n\"use client\";\r\n\r\nimport { useEffect, useMemo, useState } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport {\r\n  BookOpen,\r\n  FileText,\r\n  Plus,\r\n  Edit3,\r\n  Trash2,\r\n  Power,\r\n  ChevronDown,\r\n  Sparkles,\r\n} from \"lucide-react\";\r\nimport { supabaseBrowser } from \"@/lib/supabase/client\";\r\nimport AdminGuard from \"@/components/AdminGuard\";\r\nimport AppShell from \"@/components/shell/AppShell\";\r\n\r\n/* Tipos */\r\ntype Course = {\r\n  id: string;\r\n  title: string;\r\n  description: string | null;\r\n  is_active: boolean;\r\n};\r\ntype Module = {\r\n  id: string;\r\n  course_id: string;\r\n  title: string;\r\n  sort_order: number;\r\n  is_active: boolean;\r\n};\r\n\r\nexport default function AdminCoursesPage() {\r\n  return (\r\n    <AdminGuard>\r\n      <AppShell>\r\n        <Content />\r\n      </AppShell>\r\n    </AdminGuard>\r\n  );\r\n}\r\n\r\nfunction Content() {\r\n  const supabase = useMemo(() => supabaseBrowser(), []);\r\n\r\n  const [courses, setCourses] = useState<Course[]>([]);\r\n  const [modules, setModules] = useState<Module[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [busy, setBusy] = useState<string | null>(null);\r\n  const [msg, setMsg] = useState<string | null>(null);\r\n\r\n  // novo curso\r\n  const [newCourseTitle, setNewCourseTitle] = useState(\"\");\r\n  const [newCourseDesc, setNewCourseDesc] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    loadAll();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  async function loadAll() {\r\n    setLoading(true);\r\n    setMsg(null);\r\n    const [c1, m1] = await Promise.all([\r\n      supabase.from(\"courses\").select(\"*\").order(\"created_at\", { ascending: false }),\r\n      supabase.from(\"modules\").select(\"*\").order(\"sort_order\", { ascending: true }),\r\n    ]);\r\n\r\n    if (c1.error) setMsg(c1.error.message);\r\n    if (m1.error) setMsg(m1.error.message);\r\n\r\n    setCourses((c1.data as Course[]) ?? []);\r\n    setModules((m1.data as Module[]) ?? []);\r\n    setLoading(false);\r\n  }\r\n\r\n  async function seedDemo() {\r\n    setBusy(\"seedDemo\");\r\n    setMsg(null);\r\n    try {\r\n      const coursesToCreate: Omit<Course, \"id\">[] = [\r\n        { title: \"Onboarding EstudoRank\", description: \"Aprenda a usar a plataforma\", is_active: true },\r\n        { title: \"Lógica de Programação\", description: \"Variáveis, condicionais e laços\", is_active: true },\r\n        { title: \"Git e GitHub\", description: \"Fluxo básico de versionamento\", is_active: true },\r\n        { title: \"Next.js 15 — Fundamentos\", description: \"App Router, SSR, rotas e dados\", is_active: true },\r\n      ];\r\n      await supabase.from(\"courses\").insert(coursesToCreate).select();\r\n\r\n      const { data: allCourses } = await supabase.from(\"courses\").select(\"*\");\r\n      const getId = (title: string) => allCourses?.find((c) => c.title === title)?.id;\r\n\r\n      const mods = [\r\n        // Onboarding\r\n        { course_id: getId(\"Onboarding EstudoRank\"), title: \"Tour pela plataforma\", sort_order: 1, is_active: true },\r\n        { course_id: getId(\"Onboarding EstudoRank\"), title: \"Perfil e segurança\", sort_order: 2, is_active: true },\r\n        { course_id: getId(\"Onboarding EstudoRank\"), title: \"Metas e Ranking\", sort_order: 3, is_active: true },\r\n        // Lógica\r\n        { course_id: getId(\"Lógica de Programação\"), title: \"Variáveis e tipos\", sort_order: 1, is_active: true },\r\n        { course_id: getId(\"Lógica de Programação\"), title: \"If/Else e Operadores\", sort_order: 2, is_active: true },\r\n        { course_id: getId(\"Lógica de Programação\"), title: \"Laços e Arrays\", sort_order: 3, is_active: true },\r\n        // Git\r\n        { course_id: getId(\"Git e GitHub\"), title: \"Configuração inicial\", sort_order: 1, is_active: true },\r\n        { course_id: getId(\"Git e GitHub\"), title: \"Commits e Branches\", sort_order: 2, is_active: true },\r\n        { course_id: getId(\"Git e GitHub\"), title: \"Pull Request (PR)\", sort_order: 3, is_active: true },\r\n        // Next.js\r\n        { course_id: getId(\"Next.js 15 — Fundamentos\"), title: \"App Router e Layouts\", sort_order: 1, is_active: true },\r\n        { course_id: getId(\"Next.js 15 — Fundamentos\"), title: \"Server vs Client Components\", sort_order: 2, is_active: true },\r\n        { course_id: getId(\"Next.js 15 — Fundamentos\"), title: \"Data Fetching e Rotas\", sort_order: 3, is_active: true },\r\n      ].filter((m) => !!m.course_id);\r\n\r\n      if (mods.length) await supabase.from(\"modules\").insert(mods as any[]).select();\r\n      await loadAll();\r\n    } catch (e: any) {\r\n      setMsg(e.message ?? \"Falha ao popular demo.\");\r\n    } finally {\r\n      setBusy(null);\r\n    }\r\n  }\r\n\r\n  async function createCourse() {\r\n    if (!newCourseTitle.trim()) return;\r\n    setBusy(\"createCourse\");\r\n    setMsg(null);\r\n    try {\r\n      const { error } = await supabase.from(\"courses\").insert([\r\n        { title: newCourseTitle.trim(), description: newCourseDesc.trim() || null, is_active: true },\r\n      ]);\r\n      if (error) throw error;\r\n      setNewCourseTitle(\"\");\r\n      setNewCourseDesc(\"\");\r\n      await loadAll();\r\n    } catch (e: any) {\r\n      setMsg(e.message ?? \"Falha ao criar curso.\");\r\n    } finally {\r\n      setBusy(null);\r\n    }\r\n  }\r\n\r\n  async function toggleCourseActive(id: string, current: boolean) {\r\n    setBusy(`course:${id}`);\r\n    setMsg(null);\r\n    try {\r\n      const { error } = await supabase.from(\"courses\").update({ is_active: !current }).eq(\"id\", id);\r\n      if (error) throw error;\r\n      await loadAll();\r\n    } catch (e: any) {\r\n      setMsg(e.message ?? \"Falha ao atualizar curso.\");\r\n    } finally {\r\n      setBusy(null);\r\n    }\r\n  }\r\n\r\n  async function updateCourseTitle(id: string, title: string) {\r\n    setBusy(`courseTitle:${id}`);\r\n    setMsg(null);\r\n    try {\r\n      const { error } = await supabase.from(\"courses\").update({ title }).eq(\"id\", id);\r\n      if (error) throw error;\r\n      await loadAll();\r\n    } catch (e: any) {\r\n      setMsg(e.message ?? \"Falha ao renomear curso.\");\r\n    } finally {\r\n      setBusy(null);\r\n    }\r\n  }\r\n\r\n  async function deleteCourse(id: string) {\r\n    if (!confirm(\"Excluir curso e seus módulos?\")) return;\r\n    setBusy(`courseDel:${id}`);\r\n    setMsg(null);\r\n    try {\r\n      const { error } = await supabase.from(\"courses\").delete().eq(\"id\", id);\r\n      if (error) throw error;\r\n      await loadAll();\r\n    } catch (e: any) {\r\n      setMsg(e.message ?? \"Falha ao excluir curso.\");\r\n    } finally {\r\n      setBusy(null);\r\n    }\r\n  }\r\n\r\n  async function addModule(courseId: string, title: string) {\r\n    if (!title.trim()) return;\r\n    setBusy(`addModule:${courseId}`);\r\n    setMsg(null);\r\n    try {\r\n      const current = modules.filter((m) => m.course_id === courseId);\r\n      const nextOrder = (current.at(-1)?.sort_order ?? 0) + 1;\r\n      const { error } = await supabase\r\n        .from(\"modules\")\r\n        .insert([{ course_id: courseId, title: title.trim(), sort_order: nextOrder, is_active: true }]);\r\n      if (error) throw error;\r\n      await loadAll();\r\n    } catch (e: any) {\r\n      setMsg(e.message ?? \"Falha ao criar módulo.\");\r\n    } finally {\r\n      setBusy(null);\r\n    }\r\n  }\r\n\r\n  async function updateModuleTitle(id: string, title: string) {\r\n    setBusy(`modTitle:${id}`);\r\n    setMsg(null);\r\n    try {\r\n      const { error } = await supabase.from(\"modules\").update({ title }).eq(\"id\", id);\r\n      if (error) throw error;\r\n      await loadAll();\r\n    } catch (e: any) {\r\n      setMsg(e.message ?? \"Falha ao renomear módulo.\");\r\n    } finally {\r\n      setBusy(null);\r\n    }\r\n  }\r\n\r\n  async function toggleModuleActive(id: string, current: boolean) {\r\n    setBusy(`modActive:${id}`);\r\n    setMsg(null);\r\n    try {\r\n      const { error } = await supabase.from(\"modules\").update({ is_active: !current }).eq(\"id\", id);\r\n      if (error) throw error;\r\n      await loadAll();\r\n    } catch (e: any) {\r\n      setMsg(e.message ?? \"Falha ao atualizar módulo.\");\r\n    } finally {\r\n      setBusy(null);\r\n    }\r\n  }\r\n\r\n  async function deleteModule(id: string) {\r\n    if (!confirm(\"Excluir este módulo?\")) return;\r\n    setBusy(`modDel:${id}`);\r\n    setMsg(null);\r\n    try {\r\n      const { error } = await supabase.from(\"modules\").delete().eq(\"id\", id);\r\n      if (error) throw error;\r\n      await loadAll();\r\n    } catch (e: any) {\r\n      setMsg(e.message ?? \"Falha ao excluir módulo.\");\r\n    } finally {\r\n      setBusy(null);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <main className=\"max-w-6xl mx-auto px-6 lg:px-8 py-8\">\r\n      {/* Hero */}\r\n      <div className=\"mb-6 flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-semibold tracking-tight\">Admin • Cursos & Módulos</h1>\r\n          <p className=\"text-sm opacity-70 mt-1\">\r\n            Crie cursos, adicione módulos, ative/desative e edite títulos. Somente administradores podem alterar.\r\n          </p>\r\n        </div>\r\n        <button\r\n          onClick={seedDemo}\r\n          disabled={busy === \"seedDemo\"}\r\n          aria-busy={busy === \"seedDemo\"}\r\n          className=\"btn\"\r\n        >\r\n          <Sparkles size={16} />\r\n          {busy === \"seedDemo\" ? \"Populando...\" : \"Popular demo\"}\r\n        </button>\r\n      </div>\r\n\r\n      {/* Mensagem de erro */}\r\n      {msg && (\r\n        <div className=\"mb-6 p-3 rounded-2xl border border-white/10 bg-white/10 text-sm\">\r\n          {msg}\r\n        </div>\r\n      )}\r\n\r\n      {/* Novo curso */}\r\n      <section className=\"p-5 rounded-2xl bg-white/[0.03] border border-white/10 backdrop-blur-xl shadow-[0_4px_12px_rgba(0,0,0,0.25)] hover:bg-white/[0.05] transition\">\r\n        <div className=\"flex items-center gap-2 text-sm opacity-80\">\r\n          <BookOpen size={16} />\r\n          <span>Novo curso</span>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3 mt-3\">\r\n          <input\r\n            value={newCourseTitle}\r\n            onChange={(e) => setNewCourseTitle(e.target.value)}\r\n            placeholder=\"Título do curso\"\r\n            className=\"field w-full\"\r\n          />\r\n          <input\r\n            value={newCourseDesc}\r\n            onChange={(e) => setNewCourseDesc(e.target.value)}\r\n            placeholder=\"Descrição (opcional)\"\r\n            className=\"field w-full\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"mt-3\">\r\n          <button\r\n            onClick={createCourse}\r\n            disabled={busy === \"createCourse\" || !newCourseTitle.trim()}\r\n            aria-busy={busy === \"createCourse\"}\r\n            className=\"btn\"\r\n          >\r\n            <Plus size={16} /> {busy === \"createCourse\" ? \"Criando...\" : \"Criar curso\"}\r\n          </button>\r\n        </div>\r\n      </section>\r\n\r\n      {/* Lista de cursos */}\r\n      <div className=\"mt-6 grid gap-4\">\r\n        {loading ? (\r\n          <div className=\"p-5 rounded-2xl bg-white/[0.03] border border-white/10\">Carregando…</div>\r\n        ) : courses.length === 0 ? (\r\n          <div className=\"p-5 rounded-2xl bg-white/[0.03] border border-white/10\">\r\n            Nenhum curso. Crie um acima.\r\n          </div>\r\n        ) : (\r\n          <AnimatePresence initial={false}>\r\n            {courses.map((c) => {\r\n              const mods = modules.filter((m) => m.course_id === c.id);\r\n              return (\r\n                <motion.div\r\n                  key={c.id}\r\n                  initial={{ opacity: 0, y: 8 }}\r\n                  animate={{ opacity: 1, y: 0 }}\r\n                  exit={{ opacity: 0, y: -8 }}\r\n                  transition={{ duration: 0.18 }}\r\n                  className=\"rounded-2xl border border-white/10 bg-white/[0.03] backdrop-blur-xl shadow-[0_4px_12px_rgba(0,0,0,0.25)]\"\r\n                >\r\n                  <CourseCard\r\n                    course={c}\r\n                    modules={mods}\r\n                    busy={busy}\r\n                    onToggleCourse={toggleCourseActive}\r\n                    onDeleteCourse={deleteCourse}\r\n                    onRenameCourse={updateCourseTitle}\r\n                    onAddModule={addModule}\r\n                    onRenameModule={updateModuleTitle}\r\n                    onToggleModule={toggleModuleActive}\r\n                    onDeleteModule={deleteModule}\r\n                  />\r\n                </motion.div>\r\n              );\r\n            })}\r\n          </AnimatePresence>\r\n        )}\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n\r\n/* ---------- Componentes de UI ---------- */\r\n\r\nfunction CourseCard({\r\n  course,\r\n  modules,\r\n  busy,\r\n  onToggleCourse,\r\n  onDeleteCourse,\r\n  onRenameCourse,\r\n  onAddModule,\r\n  onRenameModule,\r\n  onToggleModule,\r\n  onDeleteModule,\r\n}: {\r\n  course: Course;\r\n  modules: Module[];\r\n  busy: string | null;\r\n  onToggleCourse: (id: string, current: boolean) => void;\r\n  onDeleteCourse: (id: string) => void;\r\n  onRenameCourse: (id: string, title: string) => void;\r\n  onAddModule: (courseId: string, title: string) => void;\r\n  onRenameModule: (id: string, title: string) => void;\r\n  onToggleModule: (id: string, current: boolean) => void;\r\n  onDeleteModule: (id: string) => void;\r\n}) {\r\n  const [open, setOpen] = useState(true);\r\n  const [draftTitle, setDraftTitle] = useState(course.title);\r\n  const [addingTitle, setAddingTitle] = useState(\"\");\r\n\r\n  const savingCourseTitle = busy === `courseTitle:${course.id}`;\r\n  const togglingCourse = busy === `course:${course.id}`;\r\n  const deletingCourse = busy === `courseDel:${course.id}`;\r\n  const addingModule = busy === `addModule:${course.id}`;\r\n\r\n  return (\r\n    <div className=\"overflow-hidden\">\r\n      {/* Header do curso (sem nesting de <button>) */}\r\n      <div className=\"flex items-start justify-between gap-3 p-4 border-b border-white/10\">\r\n        <div className=\"flex-1\">\r\n          <div className=\"flex items-center gap-2 text-sm opacity-80\">\r\n            <BookOpen size={16} /> <span>Curso</span>\r\n          </div>\r\n\r\n          <div className=\"mt-1 flex items-center gap-2\">\r\n            <input\r\n              value={draftTitle}\r\n              onChange={(e) => setDraftTitle(e.target.value)}\r\n              onBlur={() =>\r\n                draftTitle.trim() &&\r\n                draftTitle !== course.title &&\r\n                onRenameCourse(course.id, draftTitle.trim())\r\n              }\r\n              disabled={savingCourseTitle}\r\n              className=\"field field-inline w-full max-w-[420px] font-semibold tracking-tight\"\r\n            />\r\n            {savingCourseTitle && (\r\n              <span className=\"text-xs opacity-70\">Salvando…</span>\r\n            )}\r\n            <span className=\"text-xs px-2 py-0.5 rounded-md border border-white/10 bg-white/5\">\r\n              {modules.length} módulo(s)\r\n            </span>\r\n          </div>\r\n\r\n          {course.description && <p className=\"opacity-70 text-sm mt-1\">{course.description}</p>}\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-2\">\r\n          <button\r\n            onClick={() => setOpen((v) => !v)}\r\n            className=\"btn-icon\"\r\n            aria-expanded={open}\r\n            title={open ? \"Recolher\" : \"Expandir\"}\r\n          >\r\n            <ChevronDown\r\n              size={16}\r\n              className={`transition-transform ${open ? \"\" : \"-rotate-90\"}`}\r\n            />\r\n          </button>\r\n          <button\r\n            onClick={() => onToggleCourse(course.id, course.is_active)}\r\n            disabled={togglingCourse}\r\n            className=\"btn-icon\"\r\n            title={course.is_active ? \"Desativar\" : \"Ativar\"}\r\n          >\r\n            <Power size={16} className={course.is_active ? \"\" : \"opacity-60\"} />\r\n          </button>\r\n          <button\r\n            onClick={() => onDeleteCourse(course.id)}\r\n            disabled={deletingCourse}\r\n            className=\"btn-danger px-2 py-1.5\"\r\n            title=\"Excluir curso\"\r\n          >\r\n            <Trash2 size={16} />\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Body do curso */}\r\n      <AnimatePresence initial={false}>\r\n        {open && (\r\n          <motion.div\r\n            initial={{ height: 0, opacity: 0 }}\r\n            animate={{ height: \"auto\", opacity: 1 }}\r\n            exit={{ height: 0, opacity: 0 }}\r\n            transition={{ duration: 0.18 }}\r\n          >\r\n            <div className=\"p-4\">\r\n              {/* Adicionar módulo */}\r\n              <div className=\"flex items-center gap-2\">\r\n                <input\r\n                  value={addingTitle}\r\n                  onChange={(e) => setAddingTitle(e.target.value)}\r\n                  placeholder=\"Novo módulo…\"\r\n                  className=\"field flex-1\"\r\n                />\r\n                <button\r\n                  onClick={() => {\r\n                    if (addingTitle.trim()) {\r\n                      onAddModule(course.id, addingTitle.trim());\r\n                      setAddingTitle(\"\");\r\n                    }\r\n                  }}\r\n                  disabled={addingModule}\r\n                  className=\"btn\"\r\n                >\r\n                  {addingModule ? \"Adicionando…\" : \"Adicionar módulo\"}\r\n                </button>\r\n              </div>\r\n\r\n              {/* Lista de módulos */}\r\n              <div className=\"mt-3 pl-3 border-l border-white/10 space-y-2\">\r\n                {modules.length === 0 ? (\r\n                  <div className=\"text-sm opacity-70 px-2\">—</div>\r\n                ) : (\r\n                  modules.map((m) => (\r\n                    <div\r\n                      key={m.id}\r\n                      className=\"flex items-center justify-between rounded-xl border border-white/10 px-3 py-2 bg-black/10\"\r\n                    >\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <FileText size={16} className=\"opacity-80\" />\r\n                        <InlineEdit\r\n                          value={m.title}\r\n                          saving={busy === `modTitle:${m.id}`}\r\n                          onSave={(val) => onRenameModule(m.id, val)}\r\n                        />\r\n                      </div>\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <button\r\n                          onClick={() => onToggleModule(m.id, m.is_active)}\r\n                          disabled={busy === `modActive:${m.id}`}\r\n                          className=\"btn-icon\"\r\n                          title={m.is_active ? \"Desativar\" : \"Ativar\"}\r\n                        >\r\n                          <Power size={16} className={m.is_active ? \"\" : \"opacity-60\"} />\r\n                        </button>\r\n                        <button\r\n                          onClick={() => onDeleteModule(m.id)}\r\n                          disabled={busy === `modDel:${m.id}`}\r\n                          className=\"btn-danger px-2 py-1.5\"\r\n                          title=\"Excluir módulo\"\r\n                        >\r\n                          <Trash2 size={16} />\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  ))\r\n                )}\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction InlineEdit({\r\n  value,\r\n  onSave,\r\n  saving,\r\n}: {\r\n  value: string;\r\n  onSave: (v: string) => void;\r\n  saving?: boolean;\r\n}) {\r\n  const [editing, setEditing] = useState(false);\r\n  const [draft, setDraft] = useState(value);\r\n  useEffect(() => setDraft(value), [value]);\r\n\r\n  return editing ? (\r\n    <div className=\"flex items-center gap-2\">\r\n      <input\r\n        value={draft}\r\n        onChange={(e) => setDraft(e.target.value)}\r\n        className=\"field w-[24rem] max-w-full\"\r\n        autoFocus\r\n      />\r\n      <button\r\n        onClick={() => {\r\n          const v = draft.trim();\r\n          if (v && v !== value) onSave(v);\r\n          setEditing(false);\r\n        }}\r\n        disabled={saving}\r\n        className=\"btn h-10 px-3\"\r\n      >\r\n        <Edit3 size={14} /> Salvar\r\n      </button>\r\n      <button\r\n        onClick={() => {\r\n          setDraft(value);\r\n          setEditing(false);\r\n        }}\r\n        className=\"btn-ghost h-10 px-3\"\r\n      >\r\n        Cancelar\r\n      </button>\r\n    </div>\r\n  ) : (\r\n    <button\r\n      onClick={() => setEditing(true)}\r\n      className=\"btn-ghost px-2 py-1 text-sm inline-flex items-center gap-2\"\r\n      title=\"Editar título\"\r\n    >\r\n      {value} <Edit3 size={14} className=\"opacity-70\" />\r\n    </button>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}