{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/adsli/EstudoRank-patched-2025-10-22/estudorank/src/components/sidebar/AccountSidebar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport Image from \"next/image\";\r\nimport Link from \"next/link\";\r\nimport { usePathname } from \"next/navigation\";\r\nimport {\r\n  Settings,\r\n  Monitor,\r\n  Download,\r\n  ChevronRight,\r\n  LogOut,\r\n  Check,\r\n  Plus,\r\n  Shield,\r\n} from \"lucide-react\";\r\nimport { useState } from \"react\";\r\n\r\ntype Account = {\r\n  id: string;\r\n  name: string;\r\n  email: string;\r\n  avatarUrl?: string | null;\r\n  active?: boolean;\r\n};\r\n\r\ntype Props = {\r\n  user: {\r\n    name: string;\r\n    handle?: string | null;\r\n    email?: string | null;\r\n    avatarUrl?: string | null;\r\n  };\r\n  community?: {\r\n    name: string;\r\n    handle: string;\r\n    avatarUrl?: string | null;\r\n    href?: string;\r\n  };\r\n  accounts?: Account[];\r\n  onSwitchAccount?: (id: string) => void;\r\n  onSignOut?: () => void;\r\n};\r\n\r\nexport default function AccountSidebar({\r\n  user,\r\n  community,\r\n  accounts = [],\r\n  onSwitchAccount,\r\n  onSignOut,\r\n}: Props) {\r\n  const pathname = usePathname();\r\n  const [open] = useState(true); // pronto pra colapsar, se quiser\r\n\r\n  const Item = ({\r\n    href,\r\n    icon: Icon,\r\n    children,\r\n    trailing,\r\n    activeMatch,\r\n  }: {\r\n    href?: string;\r\n    icon: any;\r\n    children: React.ReactNode;\r\n    trailing?: React.ReactNode;\r\n    activeMatch?: string | RegExp;\r\n  }) => {\r\n    const isActive =\r\n      activeMatch &&\r\n      (typeof activeMatch === \"string\"\r\n        ? pathname?.startsWith(activeMatch)\r\n        : activeMatch.test(pathname ?? \"\"));\r\n\r\n    const Comp = href ? Link : \"button\";\r\n    const props: any = href\r\n      ? { href }\r\n      : { type: \"button\", onClick: () => {} };\r\n\r\n    return (\r\n      <Comp\r\n        {...props}\r\n        className={[\r\n          \"group flex w-full items-center gap-3 rounded-xl px-3 py-2\",\r\n          \"border border-white/5 bg-white/[0.02]\",\r\n          \"hover:bg-white/[0.06] transition\",\r\n          isActive ? \"ring-1 ring-white/10 bg-white/[0.06]\" : \"\",\r\n        ].join(\" \")}\r\n      >\r\n        <Icon className=\"h-5 w-5 text-white/70 group-hover:text-white/90\" />\r\n        <span className=\"text-sm text-white/90\">{children}</span>\r\n        <span className=\"ml-auto text-white/40\">{trailing}</span>\r\n      </Comp>\r\n    );\r\n  };\r\n\r\n  const Divider = () => <div className=\"my-2 border-t border-white/10\" />;\r\n\r\n  return (\r\n    <aside\r\n      className={[\r\n        \"relative\",\r\n        \"h-[calc(100vh-16px)]\",\r\n        \"w-[300px]\",\r\n        \"rounded-2xl\",\r\n        \"border border-white/10\",\r\n        \"bg-[color-mix(in_oklab,rgba(var(--surface),1)_88%,transparent)]\",\r\n        \"backdrop-blur-xl\",\r\n        \"shadow-[0_8px_30px_rgba(0,0,0,.35)]\",\r\n        \"p-3\",\r\n      ].join(\" \")}\r\n    >\r\n      {/* Cabeçalho / Avatar */}\r\n      <div className=\"flex items-center gap-3 px-2 py-1.5\">\r\n        <div className=\"relative h-12 w-12 overflow-hidden rounded-full ring-1 ring-white/10\">\r\n          {user.avatarUrl ? (\r\n            <Image src={user.avatarUrl} alt={user.name} fill className=\"object-cover\" />\r\n          ) : (\r\n            <div className=\"grid h-full w-full place-items-center bg-white/10 text-lg font-semibold\">\r\n              {initials(user.name)}\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className=\"min-w-0\">\r\n          <div className=\"truncate text-sm font-semibold text-white\">{user.name}</div>\r\n          {user.handle && (\r\n            <div className=\"truncate text-xs text-white/60\">@{user.handle}</div>\r\n          )}\r\n          {user.email && (\r\n            <div className=\"truncate text-xs text-white/50\">{user.email}</div>\r\n          )}\r\n        </div>\r\n        <Link\r\n          href=\"/me/profile\"\r\n          className=\"ml-auto rounded-lg border border-white/10 bg-white/[0.06] px-2 py-1 text-xs text-white/80 hover:bg-white/15\"\r\n        >\r\n          Editar\r\n        </Link>\r\n      </div>\r\n\r\n      <Divider />\r\n\r\n      {/* Ações principais */}\r\n      <div className=\"space-y-2\">\r\n        <Item href=\"/me/theme\" icon={Monitor} trailing={<ChevronRight className=\"h-4 w-4\" />}>\r\n          Tema\r\n        </Item>\r\n        <Item href=\"/settings\" icon={Settings} trailing={<ChevronRight className=\"h-4 w-4\" />} activeMatch={\"/settings\"}>\r\n          Configurações\r\n        </Item>\r\n        <Item href=\"/download\" icon={Download}>\r\n          Baixar app para desktop\r\n        </Item>\r\n      </div>\r\n\r\n      {/* Comunidade */}\r\n      {community && (\r\n        <>\r\n          <div className=\"mt-4 px-2 text-xs font-medium uppercase tracking-wide text-white/50\">\r\n            Seu perfil da comunidade\r\n          </div>\r\n          <div className=\"mt-2 rounded-xl border border-white/10 bg-white/[0.02] p-2\">\r\n            <Link\r\n              href={community.href ?? \"#\"}\r\n              className=\"flex items-center gap-3 rounded-lg p-2 hover:bg-white/[0.06]\"\r\n            >\r\n              <div className=\"relative h-9 w-9 overflow-hidden rounded-full ring-1 ring-white/10\">\r\n                {community.avatarUrl ? (\r\n                  <Image\r\n                    src={community.avatarUrl}\r\n                    alt={community.name}\r\n                    fill\r\n                    className=\"object-cover\"\r\n                  />\r\n                ) : (\r\n                  <div className=\"grid h-full w-full place-items-center bg-white/10 text-sm font-semibold\">\r\n                    {initials(community.name)}\r\n                  </div>\r\n                )}\r\n              </div>\r\n              <div className=\"min-w-0\">\r\n                <div className=\"truncate text-sm text-white/90\">{community.name}</div>\r\n                <div className=\"truncate text-xs text-white/60\">@{community.handle}</div>\r\n              </div>\r\n            </Link>\r\n          </div>\r\n        </>\r\n      )}\r\n\r\n      {/* Trocar conta */}\r\n      {accounts.length > 0 && (\r\n        <>\r\n          <div className=\"mt-4 px-2 text-xs font-medium uppercase tracking-wide text-white/50\">\r\n            Trocar conta\r\n          </div>\r\n          <div className=\"mt-2 space-y-1\">\r\n            {accounts.map((acc) => (\r\n              <button\r\n                key={acc.id}\r\n                onClick={() => onSwitchAccount?.(acc.id)}\r\n                className={[\r\n                  \"flex w-full items-center gap-3 rounded-xl border border-white/10 bg-white/[0.02] p-2 text-left hover:bg-white/[0.06]\",\r\n                  acc.active ? \"ring-1 ring-white/15\" : \"\",\r\n                ].join(\" \")}\r\n              >\r\n                <div className=\"relative h-8 w-8 overflow-hidden rounded-full ring-1 ring-white/10\">\r\n                  {acc.avatarUrl ? (\r\n                    <Image alt={acc.name} src={acc.avatarUrl} fill className=\"object-cover\" />\r\n                  ) : (\r\n                    <div className=\"grid h-full w-full place-items-center bg-white/10 text-xs font-semibold\">\r\n                      {initials(acc.name)}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                <div className=\"min-w-0\">\r\n                  <div className=\"truncate text-sm text-white/90\">{acc.name}</div>\r\n                  <div className=\"truncate text-xs text-white/60\">{acc.email}</div>\r\n                </div>\r\n                {acc.active && <Check className=\"ml-auto h-4 w-4 text-white/70\" />}\r\n              </button>\r\n            ))}\r\n            <Link\r\n              href=\"/auth/add-account\"\r\n              className=\"flex items-center gap-3 rounded-xl border border-white/10 bg-white/[0.02] p-2 hover:bg-white/[0.06]\"\r\n            >\r\n              <Plus className=\"h-4 w-4 text-white/70\" />\r\n              <span className=\"text-sm text-white/90\">Adicionar conta</span>\r\n            </Link>\r\n          </div>\r\n        </>\r\n      )}\r\n\r\n      <div className=\"mt-auto\" />\r\n\r\n      {/* Rodapé / Sair */}\r\n      <Divider />\r\n      <button\r\n        type=\"button\"\r\n        onClick={() => onSignOut?.()}\r\n        className=\"flex w-full items-center gap-3 rounded-xl border border-white/10 bg-white/[0.02] px-3 py-2 hover:bg-white/[0.06]\"\r\n      >\r\n        <LogOut className=\"h-5 w-5 text-white/70\" />\r\n        <span className=\"text-sm text-white/90\">Sair</span>\r\n      </button>\r\n\r\n      {/* Selo Admin (opcional) */}\r\n      <div className=\"absolute right-3 top-3\">\r\n        <span className=\"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/[0.06] px-2 py-1 text-[10px] uppercase tracking-wide text-white/70\">\r\n          <Shield className=\"h-3 w-3\" />\r\n          Admin\r\n        </span>\r\n      </div>\r\n    </aside>\r\n  );\r\n}\r\n\r\nfunction initials(name: string) {\r\n  const t = (name || \"\").trim();\r\n  if (!t) return \"U\";\r\n  const parts = t.split(/\\s+/);\r\n  const a = parts[0]?.[0] ?? \"\";\r\n  const b = parts.length > 1 ? parts[parts.length - 1][0] ?? \"\" : parts[0]?.[1] ?? \"\";\r\n  return (a + b).toUpperCase();\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}