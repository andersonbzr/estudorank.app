{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/adsli/EstudoRank-patched-2025-10-22/estudorank/src/lib/supabase/client.ts"],"sourcesContent":["// src/lib/supabase/client.ts\r\nimport { createClient, type SupabaseClient } from \"@supabase/supabase-js\";\r\n\r\nlet _client: SupabaseClient | null = null;\r\n\r\n/**\r\n * Cliente do Supabase para uso no browser (componentes client).\r\n * Usa storageKey custom \"sr-auth\" para evitar conflitos e manter sessão.\r\n */\r\nexport function supabaseBrowser(): SupabaseClient {\r\n  if (_client) return _client;\r\n\r\n  const url = process.env.NEXT_PUBLIC_SUPABASE_URL!;\r\n  const anon = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\r\n\r\n  if (!url || !anon) {\r\n    throw new Error(\r\n      \"Env vars ausentes: defina NEXT_PUBLIC_SUPABASE_URL e NEXT_PUBLIC_SUPABASE_ANON_KEY.\"\r\n    );\r\n  }\r\n\r\n  _client = createClient(url, anon, {\r\n    auth: {\r\n      persistSession: true,\r\n      autoRefreshToken: true,\r\n      storageKey: \"sr-auth\",\r\n    },\r\n  });\r\n\r\n  return _client;\r\n}\r\n"],"names":[],"mappings":"AAAA,6BAA6B;;;;;AAC7B;;AAEA,IAAI,UAAiC;AAM9B,SAAS;IACd,IAAI,SAAS,OAAO;IAEpB,MAAM;IACN,MAAM;IAEN;;IAMA,UAAU,IAAA,uMAAY,EAAC,KAAK,MAAM;QAChC,MAAM;YACJ,gBAAgB;YAChB,kBAAkB;YAClB,YAAY;QACd;IACF;IAEA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 67, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/adsli/EstudoRank-patched-2025-10-22/estudorank/src/components/ui/Spinner.tsx"],"sourcesContent":["// src/components/ui/Spinner.tsx\r\nexport default function Spinner({ label }: { label?: string }) {\r\n  return (\r\n    <div className=\"inline-flex items-center gap-2\" role=\"status\" aria-live=\"polite\">\r\n      <svg\r\n        className=\"animate-spin h-4 w-4\"\r\n        viewBox=\"0 0 24 24\"\r\n        aria-hidden=\"true\"\r\n      >\r\n        <circle\r\n          className=\"opacity-25\"\r\n          cx=\"12\"\r\n          cy=\"12\"\r\n          r=\"10\"\r\n          stroke=\"currentColor\"\r\n          strokeWidth=\"4\"\r\n          fill=\"none\"\r\n        />\r\n        <path\r\n          className=\"opacity-75\"\r\n          d=\"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z\"\r\n          fill=\"currentColor\"\r\n        />\r\n      </svg>\r\n      {label && <span>{label}</span>}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,gCAAgC;;;;;;;AACjB,SAAS,QAAQ,EAAE,KAAK,EAAsB;IAC3D,qBACE,8OAAC;QAAI,WAAU;QAAiC,MAAK;QAAS,aAAU;;0BACtE,8OAAC;gBACC,WAAU;gBACV,SAAQ;gBACR,eAAY;;kCAEZ,8OAAC;wBACC,WAAU;wBACV,IAAG;wBACH,IAAG;wBACH,GAAE;wBACF,QAAO;wBACP,aAAY;wBACZ,MAAK;;;;;;kCAEP,8OAAC;wBACC,WAAU;wBACV,GAAE;wBACF,MAAK;;;;;;;;;;;;YAGR,uBAAS,8OAAC;0BAAM;;;;;;;;;;;;AAGvB","debugId":null}},
    {"offset": {"line": 131, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/adsli/EstudoRank-patched-2025-10-22/estudorank/src/components/AuthGuard.tsx"],"sourcesContent":["\"use client\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { supabaseBrowser } from \"@/lib/supabase/client\";\r\nimport Spinner from \"@/components/ui/Spinner\";\r\n\r\nexport default function AuthGuard({ children }: { children: React.ReactNode }) {\r\n  const [ready, setReady] = useState(false);\r\n  const [authed, setAuthed] = useState<boolean | null>(null);\r\n\r\n  useEffect(() => {\r\n    let isMounted = true;\r\n    (async () => {\r\n      const supabase = supabaseBrowser();\r\n      const { data } = await supabase.auth.getSession();\r\n      if (!isMounted) return;\r\n      setAuthed(!!data.session);\r\n      setReady(true);\r\n      if (!data.session) {\r\n        // sem sessão => manda pro login\r\n        window.location.replace(\"/login\");\r\n      }\r\n    })();\r\n    return () => { isMounted = false; };\r\n  }, []);\r\n\r\n  if (!ready) {\r\n    return (\r\n      <div className=\"min-h-[40vh] grid place-items-center\">\r\n        <Spinner label=\"Verificando sessão...\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return authed ? <>{children}</> : null;\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAHA;;;;;AAKe,SAAS,UAAU,EAAE,QAAQ,EAAiC;IAC3E,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAiB;IAErD,IAAA,kNAAS,EAAC;QACR,IAAI,YAAY;QAChB,CAAC;YACC,MAAM,WAAW,IAAA,mJAAe;YAChC,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,UAAU;YAC/C,IAAI,CAAC,WAAW;YAChB,UAAU,CAAC,CAAC,KAAK,OAAO;YACxB,SAAS;YACT,IAAI,CAAC,KAAK,OAAO,EAAE;gBACjB,gCAAgC;gBAChC,OAAO,QAAQ,CAAC,OAAO,CAAC;YAC1B;QACF,CAAC;QACD,OAAO;YAAQ,YAAY;QAAO;IACpC,GAAG,EAAE;IAEL,IAAI,CAAC,OAAO;QACV,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC,8IAAO;gBAAC,OAAM;;;;;;;;;;;IAGrB;IAEA,OAAO,uBAAS;kBAAG;wBAAe;AACpC","debugId":null}},
    {"offset": {"line": 206, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/adsli/EstudoRank-patched-2025-10-22/estudorank/src/components/shell/Sidebar.tsx"],"sourcesContent":["// src/components/shell/Sidebar.tsx\r\n\"use client\";\r\n\r\nimport React, { useCallback, useEffect, useMemo, useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { usePathname, useRouter } from \"next/navigation\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport {\r\n  LayoutDashboard, Trophy, Settings, Shield, Users, BookOpen, TerminalSquare,\r\n  Gauge, ChevronLeft, ChevronRight, LogOut, Menu, GitBranch, Database, FileClock,\r\n} from \"lucide-react\";\r\n\r\n/* ------------------ util ------------------ */\r\nfunction cx(...c: (string | false | undefined)[]) { return c.filter(Boolean).join(\" \"); }\r\nconst LS_KEY = \"sidebar:pinned\";\r\n\r\n/* ------------------ Tipagem ------------------ */\r\ntype NavItem = {\r\n  label: string;\r\n  href?: string;\r\n  icon: React.ReactNode;\r\n  hotkey?: string; // ex: \"g m\"\r\n  // children para grupos\r\n  children?: Array<Omit<NavItem, \"children\">>;\r\n};\r\n\r\ntype Props = {\r\n  onToggleCmdk?: () => void; // se tiver palette (⌘K)\r\n  onLogout?: () => void;\r\n};\r\n\r\n/* ------------------ Dados (default) ------------------ */\r\nconst MAIN: NavItem[] = [\r\n  { label: \"Meu Painel\", href: \"/\", icon: <Gauge size={18} />, hotkey: \"g m\" },\r\n  { label: \"Ranking\", href: \"/ranking\", icon: <Trophy size={18} />, hotkey: \"g r\" },\r\n  {\r\n    label: \"Configurações\",\r\n    href: \"/settings\",\r\n    icon: <Settings size={18} />,\r\n    hotkey: \"g c\",\r\n  },\r\n  {\r\n    label: \"Administração\",\r\n    icon: <Shield size={18} />,\r\n    hotkey: \"g a\",\r\n    children: [\r\n      { label: \"Cursos\", href: \"/admin/courses\", icon: <BookOpen size={16} />, hotkey: \"g a c\" },\r\n      { label: \"Usuários\", href: \"/admin/users\", icon: <Users size={16} />, hotkey: \"g a u\" },\r\n      { label: \"Logs\", href: \"/admin/logs\", icon: <FileClock size={16} />, hotkey: \"g a l\" },\r\n      { label: \"Integrações\", href: \"/admin/integrations\", icon: <GitBranch size={16} />, hotkey: \"g a i\" },\r\n      // exemplo: { label: \"Banco\", href: \"/admin/db\", icon: <Database size={16} />, hotkey: \"g a b\" },\r\n    ],\r\n  },\r\n];\r\n\r\n/* ------------------ Tooltip minimal ------------------ */\r\nfunction Tooltip({ label, show }: { label: string; show: boolean }) {\r\n  return (\r\n    <AnimatePresence>\r\n      {show && (\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 2 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          exit={{ opacity: 0, y: 2 }}\r\n          transition={{ duration: 0.12 }}\r\n          className=\"pointer-events-none absolute left-full ml-2 top-1/2 -translate-y-1/2 whitespace-nowrap\r\n                     rounded-md border border-white/10 bg-black/90 px-2 py-1 text-[11px] text-white/90 shadow-lg\"\r\n          role=\"tooltip\"\r\n        >\r\n          {label}\r\n        </motion.div>\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n}\r\n\r\n/* ------------------ Componente ------------------ */\r\nexport default function Sidebar({ onToggleCmdk, onLogout }: Props) {\r\n  const pathname = usePathname();\r\n  const router = useRouter();\r\n\r\n  const [pinned, setPinned] = useState<boolean>(true);\r\n  const [hovered, setHovered] = useState(false);\r\n  const [adminOpen, setAdminOpen] = useState(true);\r\n\r\n  // carregar preferencia\r\n  useEffect(() => {\r\n    const raw = typeof window !== \"undefined\" ? localStorage.getItem(LS_KEY) : null;\r\n    setPinned(raw !== \"false\"); // default pinned\r\n  }, []);\r\n  useEffect(() => {\r\n    localStorage.setItem(LS_KEY, String(pinned));\r\n  }, [pinned]);\r\n\r\n  // atalhos\r\n  useEffect(() => {\r\n    function onKey(e: KeyboardEvent) {\r\n      const combo = (e.ctrlKey || e.metaKey) ? \"cmd\" : \"\";\r\n      const key = e.key.toLowerCase();\r\n\r\n      // palette (cmd/ctrl+k)\r\n      if (combo === \"cmd\" && key === \"k\") {\r\n        e.preventDefault();\r\n        onToggleCmdk?.();\r\n        return;\r\n      }\r\n\r\n      // atalhos \"g x\"\r\n      // usamos um buffer simples de 600ms\r\n      // g m (meu painel), g r, g c, g a, g a c ...\r\n      staticBuffer.push(key);\r\n      clearTimeout(staticTimer as any);\r\n      staticTimer = setTimeout(() => (staticBuffer.length = 0), 600);\r\n\r\n      const seq = staticBuffer.join(\" \");\r\n      const flat: NavItem[] = [\r\n        ...MAIN.filter(i => !i.children),\r\n        ...MAIN.find(i => i.children)?.children ?? [],\r\n      ];\r\n      const target = flat.find(n => n.hotkey && n.hotkey.replace(/\\s+/g, \" \") === seq);\r\n      if (target?.href) {\r\n        e.preventDefault();\r\n        router.push(target.href);\r\n        staticBuffer.length = 0;\r\n      }\r\n    }\r\n    let staticBuffer: string[] = [];\r\n    let staticTimer: any = null;\r\n    window.addEventListener(\"keydown\", onKey);\r\n    return () => window.removeEventListener(\"keydown\", onKey);\r\n  }, [router, onToggleCmdk]);\r\n\r\n  // se a “Segurança” já foi para /settings, ela não aparece na raiz (já removida em MAIN)\r\n  const isRail = !pinned && !hovered;\r\n\r\n  return (\r\n    <aside\r\n      className={cx(\r\n        \"group fixed left-0 top-0 bottom-0 z-40\",\r\n        \"bg-gradient-to-b from-neutral-900/70 to-black/70 backdrop-blur-xl\",\r\n        \"border-r border-white/10\",\r\n        \"shadow-[inset_0_0_0_1px_rgba(255,255,255,0.04)]\",\r\n        \"transition-[width] duration-200 ease-out\",\r\n        isRail ? \"w-[72px]\" : \"w-[280px]\"\r\n      )}\r\n      onMouseEnter={() => setHovered(true)}\r\n      onMouseLeave={() => setHovered(false)}\r\n      aria-label=\"Barra lateral de navegação\"\r\n    >\r\n      {/* topo */}\r\n      <div className=\"h-14 px-3 flex items-center justify-between\">\r\n        <Link href=\"/\" className=\"flex items-center gap-2\">\r\n          <div className=\"h-6 w-6 rounded-lg bg-lime-400/20 border border-lime-400/30 grid place-items-center\">\r\n            <LayoutDashboard size={14} className=\"text-lime-300\" />\r\n          </div>\r\n          {!isRail && (\r\n            <span className=\"font-semibold text-lime-300 drop-shadow-[0_0_10px_rgba(163,230,53,0.25)]\">\r\n              EstudoRank\r\n            </span>\r\n          )}\r\n        </Link>\r\n\r\n        {/* pin/unpin */}\r\n        <button\r\n          className=\"h-8 w-8 grid place-items-center rounded-lg hover:bg-white/10\"\r\n          onClick={() => setPinned(p => !p)}\r\n          aria-pressed={pinned}\r\n          aria-label={pinned ? \"Desafixar sidebar\" : \"Fixar sidebar\"}\r\n        >\r\n          {isRail ? <ChevronRight size={16} /> : <ChevronLeft size={16} />}\r\n        </button>\r\n      </div>\r\n\r\n      {/* busca/palette */}\r\n      {!isRail && (\r\n        <div className=\"px-3 pb-2\">\r\n          <button\r\n            onClick={onToggleCmdk}\r\n            className=\"w-full h-9 rounded-xl bg-white/5 border border-white/10 text-left px-3 text-sm\r\n                       hover:bg-white/10 transition flex items-center justify-between\"\r\n          >\r\n            <span className=\"opacity-70\">Buscar…</span>\r\n            <kbd className=\"text-[10px] opacity-60 border border-white/15 rounded px-1 py-[1px]\">⌘K</kbd>\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {/* navegação */}\r\n      <nav className=\"mt-1 px-2 space-y-2\">\r\n        {MAIN.map((item, idx) => {\r\n          const hasChildren = !!item.children?.length;\r\n          if (!hasChildren) {\r\n            const active = item.href && pathname?.startsWith(item.href);\r\n            return (\r\n              <NavRow\r\n                key={item.label}\r\n                icon={item.icon}\r\n                label={item.label}\r\n                href={item.href}\r\n                hotkey={item.hotkey}\r\n                rail={isRail}\r\n                active={!!active}\r\n              />\r\n            );\r\n          }\r\n\r\n          const adminActive =\r\n            item.children?.some(ch => ch.href && pathname?.startsWith(ch.href)) ?? false;\r\n\r\n          return (\r\n            <div key={item.label} className=\"relative\">\r\n              <NavRow\r\n                icon={item.icon}\r\n                label={item.label}\r\n                rail={isRail}\r\n                active={adminActive}\r\n                onClick={() => setAdminOpen(v => !v)}\r\n                expandable\r\n                expanded={adminOpen}\r\n              />\r\n              <AnimatePresence initial={false}>\r\n                {adminOpen && (\r\n                  <motion.div\r\n                    initial={{ height: 0, opacity: 0 }}\r\n                    animate={{ height: \"auto\", opacity: 1 }}\r\n                    exit={{ height: 0, opacity: 0 }}\r\n                    transition={{ duration: 0.16 }}\r\n                    className={cx(\"pl-[14px] border-l border-white/10 ml-4\", isRail && \"hidden\")}\r\n                  >\r\n                    <div className=\"py-1\" />\r\n                    {item.children!.map(ch => {\r\n                      const active = ch.href && pathname?.startsWith(ch.href!);\r\n                      return (\r\n                        <NavRow\r\n                          key={ch.label}\r\n                          icon={ch.icon}\r\n                          label={ch.label}\r\n                          href={ch.href}\r\n                          hotkey={ch.hotkey}\r\n                          rail={false}\r\n                          active={!!active}\r\n                          small\r\n                        />\r\n                      );\r\n                    })}\r\n                    <div className=\"py-1\" />\r\n                  </motion.div>\r\n                )}\r\n              </AnimatePresence>\r\n\r\n              {/* tooltip do grupo em rail */}\r\n              {isRail && (\r\n                <Tooltip label={item.label} show />\r\n              )}\r\n            </div>\r\n          );\r\n        })}\r\n      </nav>\r\n\r\n      {/* footer */}\r\n      <div className=\"absolute left-0 right-0 bottom-0 p-3 border-t border-white/10\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <div className=\"h-8 w-8 rounded-full bg-white/10 grid place-items-center text-xs\">N</div>\r\n          {!isRail && (\r\n            <div className=\"min-w-0\">\r\n              <div className=\"text-sm leading-tight\">Você</div>\r\n              <div className=\"text-[11px] opacity-60 truncate\">logged@user.email</div>\r\n            </div>\r\n          )}\r\n          <div className=\"ml-auto flex items-center gap-1\">\r\n            <button\r\n              className=\"h-8 w-8 grid place-items-center rounded-lg hover:bg-white/10\"\r\n              aria-label=\"Menu\"\r\n              onClick={onToggleCmdk}\r\n              title=\"Comandos\"\r\n            >\r\n              <Menu size={16} />\r\n            </button>\r\n            <button\r\n              className=\"h-8 w-8 grid place-items-center rounded-lg hover:bg-white/10\"\r\n              onClick={onLogout}\r\n              aria-label=\"Sair\"\r\n              title=\"Sair\"\r\n            >\r\n              <LogOut size={16} />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </aside>\r\n  );\r\n}\r\n\r\n/* ------------------ Linha de navegação ------------------ */\r\nfunction NavRow({\r\n  icon, label, href, hotkey, rail, active, onClick, small, expandable, expanded,\r\n}: {\r\n  icon: React.ReactNode;\r\n  label: string;\r\n  href?: string;\r\n  hotkey?: string;\r\n  rail: boolean;\r\n  active?: boolean;\r\n  onClick?: () => void;\r\n  small?: boolean;\r\n  expandable?: boolean;\r\n  expanded?: boolean;\r\n}) {\r\n  const content = (\r\n    <div\r\n      className={cx(\r\n        \"flex items-center gap-3 rounded-xl border transition relative\",\r\n        active\r\n          ? \"border-lime-400/30 bg-lime-400/10 shadow-[0_0_10px_rgba(163,230,53,0.25)]\"\r\n          : \"border-white/10 bg-white/5 hover:bg-white/10\",\r\n        small ? \"h-9 px-2 text-[13px]\" : \"h-11 px-3 text-sm\"\r\n      )}\r\n    >\r\n      <div className={cx(\"grid place-items-center flex-shrink-0\", small ? \"h-7 w-7\" : \"h-8 w-8\")}>\r\n        {icon}\r\n      </div>\r\n      {!rail && (\r\n        <>\r\n          <span className=\"flex-1 truncate\">{label}</span>\r\n          {hotkey && (\r\n            <kbd className=\"text-[10px] opacity-60 border border-white/15 rounded px-1 py-[1px] hidden xl:block\">\r\n              {hotkey.toUpperCase()}\r\n            </kbd>\r\n          )}\r\n          {expandable && (\r\n            <ChevronRight\r\n              size={14}\r\n              className={cx(\"transition\", expanded ? \"rotate-90 opacity-100\" : \"opacity-70\")}\r\n            />\r\n          )}\r\n        </>\r\n      )}\r\n      {/* tooltip em rail */}\r\n      {rail && <Tooltip label={label} show />}\r\n    </div>\r\n  );\r\n\r\n  // wrapper com Link ou botão\r\n  if (href) {\r\n    return (\r\n      <Link href={href} aria-current={active ? \"page\" : undefined} className=\"relative block\">\r\n        {content}\r\n      </Link>\r\n    );\r\n  }\r\n  return (\r\n    <button type=\"button\" onClick={onClick} className=\"w-full text-left relative\">\r\n      {content}\r\n    </button>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 829, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/adsli/EstudoRank-patched-2025-10-22/estudorank/src/components/I18nProvider.tsx"],"sourcesContent":["// src/components/I18nProvider.tsx\r\n\"use client\";\r\n\r\nimport React, { createContext, useContext, useEffect, useMemo, useState } from \"react\";\r\n\r\n/**\r\n * Dicionários simples. Mantive pt-BR como padrão.\r\n * Se quiser, pode preencher/enxugar o en-US — o app vai cair no pt-BR quando faltar chave.\r\n */\r\ntype Dict = Record<string, string | ((vars?: Record<string, any>) => string)>;\r\n\r\nconst ptBR: Dict = {\r\n  // Globais / Header / Sidebar\r\n  welcome: ({ name }: any) => (name ? `Bem-vindo, ${name}` : \"Bem-vindo\"),\r\n  myPanel: \"Meu Painel\",\r\n  ranking: \"Ranking\",\r\n  settings: \"Configurações\",\r\n  admin: \"Admin\",\r\n  refresh: \"Atualizar\",\r\n  prev: \"Anterior\",\r\n  next: \"Próxima\",\r\n  signOut: \"Sair\",\r\n\r\n  // Página /me\r\n  yourPoints: \"Seus pontos:\",\r\n  creatingExample: \"Criando exemplo...\",\r\n  createExample: \"Criar dados de exemplo\",\r\n  weeklyGoalLabel: ({ done, goal }: any) => `Meta semanal (seg–dom): ${done}/${goal} módulos`,\r\n  saveGoal: \"Salvar meta\",\r\n  generalProgress: \"Progresso geral\",\r\n  modulesCompleted: ({ done, total }: any) => `${done}/${total} módulos concluídos`,\r\n  loadingCoursesModules: \"Carregando cursos e módulos...\",\r\n  noActiveCourses: \"Nenhum curso ativo. Use “Criar dados de exemplo”.\",\r\n  donePlusPoints: \"Concluído (+10 pts)\",\r\n  pending: \"Pendente\",\r\n  updating: \"Atualizando...\",\r\n  undo: \"Desfazer\",\r\n  conclude: \"Concluir\",\r\n\r\n  // Admin / Cursos\r\n  adminCoursesTitle: \"Admin • Cursos & Módulos\",\r\n  adminCoursesSubtitle:\r\n    \"Crie cursos, adicione módulos, ative/desative e edite títulos. Somente administradores podem alterar.\",\r\n  demoMode: \"Modo Demo\",\r\n  demoModeDesc: \"Popula vários cursos e módulos de exemplo.\",\r\n  populating: \"Populando...\",\r\n  populateDemo: \"Popular demo\",\r\n  newCourse: \"Novo curso\",\r\n  courseTitlePlaceholder: \"Título do curso\",\r\n  courseDescPlaceholder: \"Descrição (opcional)\",\r\n  creating: \"Criando...\",\r\n  createCourse: \"Criar curso\",\r\n  titleLabel: \"Título\",\r\n  disable: \"Desativar\",\r\n  enable: \"Ativar\",\r\n  delete: \"Excluir\",\r\n  modulePlaceholder: \"Novo módulo...\",\r\n  addModule: \"Adicionar módulo\",\r\n  adding: \"Adicionando...\",\r\n  moduleLabel: \"Módulo\",\r\n  save: \"Salvar\",\r\n  cancel: \"Cancelar\",\r\n  edit: \"Editar\",\r\n  loading: \"Carregando...\",\r\n  noCourses: \"Nenhum curso. Crie um acima.\",\r\n\r\n  // Ranking\r\n  position: \"Posição\",\r\n  user: \"Usuário\",\r\n  points: \"Pontos\",\r\n  loadingRanking: \"Carregando ranking...\",\r\n  noDataYet: \"Sem dados ainda.\",\r\n  paginationSummary: ({ total, page, pages }: any) => `${total} usuários • página ${page} de ${pages}`,\r\n};\r\n\r\nconst enUS: Dict = {\r\n  // (opcional, serve como fallback para quando você selecionar \"en-US\" no futuro)\r\n  welcome: ({ name }: any) => (name ? `Welcome, ${name}` : \"Welcome\"),\r\n  myPanel: \"My Panel\",\r\n  ranking: \"Ranking\",\r\n  settings: \"Settings\",\r\n  admin: \"Admin\",\r\n  refresh: \"Refresh\",\r\n  prev: \"Previous\",\r\n  next: \"Next\",\r\n  signOut: \"Sign out\",\r\n};\r\n\r\nexport type Locale = \"pt-BR\" | \"en-US\";\r\n\r\nconst dictionaries: Record<Locale, Dict> = {\r\n  \"pt-BR\": ptBR,\r\n  \"en-US\": enUS,\r\n};\r\n\r\ntype I18nCtxType = {\r\n  locale: Locale;\r\n  setLocale: (l: Locale) => void;\r\n  t: (key: string, vars?: Record<string, any>) => string;\r\n};\r\n\r\nconst I18nCtx = createContext<I18nCtxType | null>(null);\r\n\r\nexport function I18nProvider({ children }: { children: React.ReactNode }) {\r\n  // Se não for usar troca de idioma agora, deixe fixo em 'pt-BR'\r\n  const [locale, setLocaleState] = useState<Locale>(\"pt-BR\");\r\n\r\n  // Mantém o atributo lang coerente (não é obrigatório, mas ajuda em SEO/acessibilidade)\r\n  useEffect(() => {\r\n    document.documentElement.setAttribute(\"lang\", locale);\r\n  }, [locale]);\r\n\r\n  // Exponho setLocale para compatibilidade futura (hoje pode ficar sem uso)\r\n  const setLocale = (l: Locale) => {\r\n    setLocaleState(l);\r\n  };\r\n\r\n  // Tradutor com fallback para pt-BR e, por fim, a própria chave\r\n  const t = useMemo(() => {\r\n    return (key: string, vars?: Record<string, any>) => {\r\n      const dict = dictionaries[locale] || ptBR;\r\n      const entry = dict[key];\r\n      if (typeof entry === \"function\") return (entry as any)(vars || {});\r\n      if (typeof entry === \"string\") return entry;\r\n\r\n      const fb = ptBR[key];\r\n      if (typeof fb === \"function\") return (fb as any)(vars || {});\r\n      if (typeof fb === \"string\") return fb;\r\n\r\n      return key;\r\n    };\r\n  }, [locale]);\r\n\r\n  const value = useMemo(() => ({ locale, setLocale, t }), [locale, t]);\r\n\r\n  return <I18nCtx.Provider value={value}>{children}</I18nCtx.Provider>;\r\n}\r\n\r\nexport function useI18n() {\r\n  const ctx = useContext(I18nCtx);\r\n  if (!ctx) throw new Error(\"useI18n must be used within I18nProvider\");\r\n  return ctx;\r\n}\r\n"],"names":[],"mappings":"AAAA,kCAAkC;;;;;;;;AAGlC;AAFA;;;AAUA,MAAM,OAAa;IACjB,6BAA6B;IAC7B,SAAS,CAAC,EAAE,IAAI,EAAO,GAAM,OAAO,CAAC,WAAW,EAAE,MAAM,GAAG;IAC3D,SAAS;IACT,SAAS;IACT,UAAU;IACV,OAAO;IACP,SAAS;IACT,MAAM;IACN,MAAM;IACN,SAAS;IAET,aAAa;IACb,YAAY;IACZ,iBAAiB;IACjB,eAAe;IACf,iBAAiB,CAAC,EAAE,IAAI,EAAE,IAAI,EAAO,GAAK,CAAC,wBAAwB,EAAE,KAAK,CAAC,EAAE,KAAK,QAAQ,CAAC;IAC3F,UAAU;IACV,iBAAiB;IACjB,kBAAkB,CAAC,EAAE,IAAI,EAAE,KAAK,EAAO,GAAK,GAAG,KAAK,CAAC,EAAE,MAAM,mBAAmB,CAAC;IACjF,uBAAuB;IACvB,iBAAiB;IACjB,gBAAgB;IAChB,SAAS;IACT,UAAU;IACV,MAAM;IACN,UAAU;IAEV,iBAAiB;IACjB,mBAAmB;IACnB,sBACE;IACF,UAAU;IACV,cAAc;IACd,YAAY;IACZ,cAAc;IACd,WAAW;IACX,wBAAwB;IACxB,uBAAuB;IACvB,UAAU;IACV,cAAc;IACd,YAAY;IACZ,SAAS;IACT,QAAQ;IACR,QAAQ;IACR,mBAAmB;IACnB,WAAW;IACX,QAAQ;IACR,aAAa;IACb,MAAM;IACN,QAAQ;IACR,MAAM;IACN,SAAS;IACT,WAAW;IAEX,UAAU;IACV,UAAU;IACV,MAAM;IACN,QAAQ;IACR,gBAAgB;IAChB,WAAW;IACX,mBAAmB,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAO,GAAK,GAAG,MAAM,mBAAmB,EAAE,KAAK,IAAI,EAAE,OAAO;AACtG;AAEA,MAAM,OAAa;IACjB,gFAAgF;IAChF,SAAS,CAAC,EAAE,IAAI,EAAO,GAAM,OAAO,CAAC,SAAS,EAAE,MAAM,GAAG;IACzD,SAAS;IACT,SAAS;IACT,UAAU;IACV,OAAO;IACP,SAAS;IACT,MAAM;IACN,MAAM;IACN,SAAS;AACX;AAIA,MAAM,eAAqC;IACzC,SAAS;IACT,SAAS;AACX;AAQA,MAAM,wBAAU,IAAA,sNAAa,EAAqB;AAE3C,SAAS,aAAa,EAAE,QAAQ,EAAiC;IACtE,+DAA+D;IAC/D,MAAM,CAAC,QAAQ,eAAe,GAAG,IAAA,iNAAQ,EAAS;IAElD,uFAAuF;IACvF,IAAA,kNAAS,EAAC;QACR,SAAS,eAAe,CAAC,YAAY,CAAC,QAAQ;IAChD,GAAG;QAAC;KAAO;IAEX,0EAA0E;IAC1E,MAAM,YAAY,CAAC;QACjB,eAAe;IACjB;IAEA,+DAA+D;IAC/D,MAAM,IAAI,IAAA,gNAAO,EAAC;QAChB,OAAO,CAAC,KAAa;YACnB,MAAM,OAAO,YAAY,CAAC,OAAO,IAAI;YACrC,MAAM,QAAQ,IAAI,CAAC,IAAI;YACvB,IAAI,OAAO,UAAU,YAAY,OAAO,AAAC,MAAc,QAAQ,CAAC;YAChE,IAAI,OAAO,UAAU,UAAU,OAAO;YAEtC,MAAM,KAAK,IAAI,CAAC,IAAI;YACpB,IAAI,OAAO,OAAO,YAAY,OAAO,AAAC,GAAW,QAAQ,CAAC;YAC1D,IAAI,OAAO,OAAO,UAAU,OAAO;YAEnC,OAAO;QACT;IACF,GAAG;QAAC;KAAO;IAEX,MAAM,QAAQ,IAAA,gNAAO,EAAC,IAAM,CAAC;YAAE;YAAQ;YAAW;QAAE,CAAC,GAAG;QAAC;QAAQ;KAAE;IAEnE,qBAAO,8OAAC,QAAQ,QAAQ;QAAC,OAAO;kBAAQ;;;;;;AAC1C;AAEO,SAAS;IACd,MAAM,MAAM,IAAA,mNAAU,EAAC;IACvB,IAAI,CAAC,KAAK,MAAM,IAAI,MAAM;IAC1B,OAAO;AACT","debugId":null}},
    {"offset": {"line": 971, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/adsli/EstudoRank-patched-2025-10-22/estudorank/src/components/shell/AppShell.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { ReactNode, useEffect, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport Sidebar from \"./Sidebar\";\r\nimport { supabaseBrowser } from \"@/lib/supabase/client\";\r\nimport { I18nProvider } from \"@/components/I18nProvider\";\r\n\r\nexport default function AppShell({ children }: { children: ReactNode }) {\r\n  const router = useRouter();\r\n  const [displayName, setDisplayName] = useState<string | null>(null);\r\n  const [isAdmin, setIsAdmin] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const sb = supabaseBrowser();\r\n    sb.auth.getUser().then(async ({ data }) => {\r\n      const u = data.user;\r\n      if (!u) {\r\n        setIsAdmin(false);\r\n        setDisplayName(null);\r\n        router.replace(\"/login\");\r\n        return;\r\n      }\r\n      const { data: prof } = await sb\r\n        .from(\"profiles\")\r\n        .select(\"is_admin, full_name, name\")\r\n        .eq(\"id\", u.id)\r\n        .single();\r\n\r\n      setIsAdmin(!!prof?.is_admin);\r\n      const name =\r\n        (prof?.full_name && String(prof.full_name).trim()) ||\r\n        (prof?.name && String(prof.name).trim()) ||\r\n        u.email ||\r\n        null;\r\n      setDisplayName(name);\r\n    });\r\n  }, [router]);\r\n\r\n  async function signOut() {\r\n    const sb = supabaseBrowser();\r\n    await sb.auth.signOut();\r\n    router.replace(\"/login\");\r\n  }\r\n\r\n  return (\r\n    <I18nProvider>\r\n      <div className=\"flex min-h-screen bg-black text-white\">\r\n        {/* Sidebar */}\r\n        <Sidebar\r\n          onLogout={signOut}\r\n          onToggleCmdk={() => console.log(\"abrir palette\")}\r\n        />\r\n\r\n        {/* Conteúdo principal */}\r\n        <main className=\"flex-1 px-4 sm:px-8 py-6 lg:py-8 overflow-y-auto\">\r\n          {children}\r\n        </main>\r\n      </div>\r\n    </I18nProvider>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAQe,SAAS,SAAS,EAAE,QAAQ,EAA2B;IACpE,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAgB;IAC9D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,MAAM,KAAK,IAAA,mJAAe;QAC1B,GAAG,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,EAAE,IAAI,EAAE;YACpC,MAAM,IAAI,KAAK,IAAI;YACnB,IAAI,CAAC,GAAG;gBACN,WAAW;gBACX,eAAe;gBACf,OAAO,OAAO,CAAC;gBACf;YACF;YACA,MAAM,EAAE,MAAM,IAAI,EAAE,GAAG,MAAM,GAC1B,IAAI,CAAC,YACL,MAAM,CAAC,6BACP,EAAE,CAAC,MAAM,EAAE,EAAE,EACb,MAAM;YAET,WAAW,CAAC,CAAC,MAAM;YACnB,MAAM,OACJ,AAAC,MAAM,aAAa,OAAO,KAAK,SAAS,EAAE,IAAI,MAC9C,MAAM,QAAQ,OAAO,KAAK,IAAI,EAAE,IAAI,MACrC,EAAE,KAAK,IACP;YACF,eAAe;QACjB;IACF,GAAG;QAAC;KAAO;IAEX,eAAe;QACb,MAAM,KAAK,IAAA,mJAAe;QAC1B,MAAM,GAAG,IAAI,CAAC,OAAO;QACrB,OAAO,OAAO,CAAC;IACjB;IAEA,qBACE,8OAAC,kJAAY;kBACX,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC,iJAAO;oBACN,UAAU;oBACV,cAAc,IAAM,QAAQ,GAAG,CAAC;;;;;;8BAIlC,8OAAC;oBAAK,WAAU;8BACb;;;;;;;;;;;;;;;;;AAKX","debugId":null}},
    {"offset": {"line": 1051, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/adsli/EstudoRank-patched-2025-10-22/estudorank/src/app/config/page.tsx"],"sourcesContent":["// src/app/settings/page.tsx\r\n\"use client\";\r\n\r\nimport { useEffect, useMemo, useState } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport AuthGuard from \"@/components/AuthGuard\";\r\nimport AppShell from \"@/components/shell/AppShell\";\r\nimport { supabaseBrowser } from \"@/lib/supabase/client\";\r\nimport { useToast } from \"@/components/Toast\";\r\nimport {\r\n  ShieldAlert,\r\n  Trash2,\r\n  Eye,\r\n  EyeOff,\r\n  LockKeyhole,\r\n} from \"lucide-react\";\r\n\r\n/* ---------- helpers ---------- */\r\nfunction scorePassword(pw: string) {\r\n  // medidor simples: tamanho + variedade\r\n  let score = 0;\r\n  if (!pw) return 0;\r\n  const letters: Record<string, number> = {};\r\n  for (let i = 0; i < pw.length; i++) {\r\n    letters[pw[i]] = (letters[pw[i]] || 0) + 1;\r\n    score += 5.0 / letters[pw[i]];\r\n  }\r\n  const variations = {\r\n    digits: /\\d/.test(pw),\r\n    lower: /[a-z]/.test(pw),\r\n    upper: /[A-Z]/.test(pw),\r\n    nonWords: /[^a-zA-Z0-9]/.test(pw),\r\n  };\r\n  const variationCount = Object.values(variations).filter(Boolean).length;\r\n  score += (variationCount - 1) * 10;\r\n  score = Math.min(100, Math.round(score));\r\n  return score;\r\n}\r\nfunction strengthLabel(score: number) {\r\n  if (score >= 80) return \"forte\";\r\n  if (score >= 60) return \"boa\";\r\n  if (score >= 40) return \"média\";\r\n  if (score > 0) return \"fraca\";\r\n  return \"—\";\r\n}\r\n\r\ntype Profile = { id: string; name?: string | null; full_name?: string | null; email?: string | null };\r\n\r\nexport default function SettingsPage() {\r\n  return (\r\n    <AuthGuard>\r\n      <AppShell>\r\n        <Content />\r\n      </AppShell>\r\n    </AuthGuard>\r\n  );\r\n}\r\n\r\nfunction Content() {\r\n  const supabase = useMemo(() => supabaseBrowser(), []);\r\n  const toast = useToast();\r\n\r\n  // perfil\r\n  const [me, setMe] = useState<{ id: string; email: string | null } | null>(null);\r\n  const [displayName, setDisplayName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [saving, setSaving] = useState(false);\r\n  const [savedTick, setSavedTick] = useState(0);\r\n\r\n  // segurança (troca de senha)\r\n  const [currentPw, setCurrentPw] = useState(\"\");\r\n  const [newPw, setNewPw] = useState(\"\");\r\n  const [confirmPw, setConfirmPw] = useState(\"\");\r\n  const [showCur, setShowCur] = useState(false);\r\n  const [showNew, setShowNew] = useState(false);\r\n  const [showConf, setShowConf] = useState(false);\r\n  const [changing, setChanging] = useState(false);\r\n\r\n  // danger zone\r\n  const [confirmText, setConfirmText] = useState(\"\");\r\n  const [deleting, setDeleting] = useState(false);\r\n\r\n  /* load */\r\n  useEffect(() => {\r\n    let cancel = false;\r\n    (async () => {\r\n      setLoading(true);\r\n      const { data: u } = await supabase.auth.getUser();\r\n      const uid = u.user?.id ?? null;\r\n      const mail = u.user?.email ?? null;\r\n      if (!uid) { setLoading(false); return; }\r\n      if (!cancel) setMe({ id: uid, email: mail });\r\n\r\n      const { data: p } = await supabase\r\n        .from(\"profiles\")\r\n        .select(\"id,name,full_name,email\")\r\n        .eq(\"id\", uid)\r\n        .single();\r\n\r\n      const name =\r\n        (p?.name && String(p.name)) ||\r\n        (p?.full_name && String(p.full_name)) ||\r\n        \"\";\r\n\r\n      if (!cancel) {\r\n        setDisplayName(name);\r\n        setEmail(mail ?? p?.email ?? \"\");\r\n        setLoading(false);\r\n      }\r\n    })();\r\n    return () => { cancel = true; };\r\n  }, [supabase]);\r\n\r\n  /* salvar perfil (nome) */\r\n  async function onSave() {\r\n    if (!me?.id) return;\r\n    setSaving(true);\r\n    try {\r\n      const { error } = await supabase.from(\"profiles\").update({ name: displayName || null }).eq(\"id\", me.id);\r\n      if (error) throw error;\r\n      toast.push(\"Alterações salvas.\");\r\n      setSavedTick((t) => t + 1);\r\n    } catch (e: any) {\r\n      toast.push(e?.message ?? \"Falha ao salvar alterações.\");\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  }\r\n\r\n  /* trocar senha */\r\n  async function changePassword() {\r\n    if (!me?.email) {\r\n      toast.push(\"Sessão inválida. Faça login novamente.\");\r\n      return;\r\n    }\r\n    if (!currentPw) { toast.push(\"Informe sua senha atual.\"); return; }\r\n    if (newPw.length < 8) { toast.push(\"A nova senha deve ter pelo menos 8 caracteres.\"); return; }\r\n    if (newPw !== confirmPw) { toast.push(\"A confirmação não confere.\"); return; }\r\n    const score = scorePassword(newPw);\r\n    if (score < 40) { toast.push(\"A nova senha está muito fraca.\"); return; }\r\n\r\n    setChanging(true);\r\n    try {\r\n      // valida a senha atual tentando autenticar\r\n      const { error: signErr } = await supabase.auth.signInWithPassword({\r\n        email: me.email,\r\n        password: currentPw,\r\n      });\r\n      if (signErr) {\r\n        toast.push(\"Senha atual incorreta.\");\r\n        setChanging(false);\r\n        return;\r\n      }\r\n\r\n      // troca\r\n      const { error: updErr } = await supabase.auth.updateUser({ password: newPw });\r\n      if (updErr) throw updErr;\r\n\r\n      toast.push(\"Senha alterada com sucesso.\");\r\n      setCurrentPw(\"\");\r\n      setNewPw(\"\");\r\n      setConfirmPw(\"\");\r\n    } catch (e: any) {\r\n      toast.push(e?.message ?? \"Falha ao alterar senha.\");\r\n    } finally {\r\n      setChanging(false);\r\n    }\r\n  }\r\n\r\n  /* excluir conta */\r\n  async function onDelete() {\r\n    if (confirmText !== \"DELETAR\") {\r\n      toast.push('Digite \"DELETAR\" para confirmar.');\r\n      return;\r\n    }\r\n    setDeleting(true);\r\n    try {\r\n      const res = await fetch(\"/api/account/delete\", { method: \"POST\" });\r\n      const json = await res.json();\r\n      if (!json?.ok) throw new Error(json?.error || \"Erro ao excluir conta.\");\r\n      toast.push(\"Conta excluída.\");\r\n      await supabase.auth.signOut();\r\n      window.location.href = \"/login\";\r\n    } catch (e: any) {\r\n      toast.push(e?.message ?? \"Falha ao excluir conta.\");\r\n    } finally {\r\n      setDeleting(false);\r\n    }\r\n  }\r\n\r\n  const newScore = scorePassword(newPw);\r\n  const strength = strengthLabel(newScore);\r\n\r\n  return (\r\n    <motion.main\r\n      initial={{ opacity: 0, y: 8 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      transition={{ duration: 0.35, ease: \"easeOut\" }}\r\n      className=\"px-5 md:px-8 py-8 text-white\"\r\n    >\r\n      <div className=\"max-w-3xl mx-auto\">\r\n        <div\r\n          className=\"\r\n            relative overflow-hidden rounded-3xl p-6 md:p-8\r\n            bg-gradient-to-b from-neutral-900/95 to-black/90\r\n            backdrop-blur-md\r\n            shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)]\r\n            border border-white/10\r\n          \"\r\n        >\r\n          {/* aurora */}\r\n          <motion.div\r\n            className=\"pointer-events-none absolute -top-28 left-1/2 -translate-x-1/2 h-72 w-72 rounded-full blur-3xl\"\r\n            style={{ background: \"radial-gradient(circle, rgba(163,230,53,0.22), transparent)\" }}\r\n            initial={{ opacity: 0.25 }}\r\n            animate={{ opacity: [0.25, 0.4, 0.25], scale: [0.95, 1.05, 0.95] }}\r\n            transition={{ duration: 6, repeat: Infinity }}\r\n          />\r\n\r\n          {/* header */}\r\n          <div className=\"relative z-10\">\r\n            <h1 className=\"text-2xl font-semibold tracking-tight text-lime-300 drop-shadow-[0_0_10px_rgba(163,230,53,0.25)]\">\r\n              Configurações\r\n            </h1>\r\n            <p className=\"mt-1 text-sm text-white/70\">Perfil, segurança e preferências.</p>\r\n          </div>\r\n\r\n          {/* Perfil */}\r\n          <div className=\"relative z-10 border-t border-white/5 mt-6 pt-6\">\r\n            <h2 className=\"text-lime-300/90 font-semibold text-base mb-4\">Perfil</h2>\r\n            <div className=\"grid gap-4\">\r\n              <div>\r\n                <label htmlFor=\"email\" className=\"block text-sm opacity-70 mb-1\">E-mail</label>\r\n                <input\r\n                  id=\"email\"\r\n                  value={email}\r\n                  readOnly\r\n                  className=\"w-full h-11 text-[14px] rounded-xl bg-white/5 border border-white/10 px-3\r\n                             opacity-70 cursor-not-allowed\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label htmlFor=\"displayName\" className=\"block text-sm opacity-70 mb-1\">Nome de exibição</label>\r\n                <div className=\"relative\">\r\n                  <input\r\n                    id=\"displayName\"\r\n                    value={displayName}\r\n                    onChange={(e) => setDisplayName(e.target.value)}\r\n                    placeholder=\"Como você quer aparecer\"\r\n                    className=\"w-full h-11 text-[14px] rounded-xl bg-white/5 border border-white/10 outline-none\r\n                               focus:border-lime-400 focus:ring-2 focus:ring-lime-400/25 px-3 transition\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* ações à direita */}\r\n            <div className=\"mt-5 flex items-center justify-end\">\r\n              <motion.button\r\n                whileTap={{ scale: 0.98 }}\r\n                onClick={onSave}\r\n                disabled={saving}\r\n                className={`inline-flex items-center justify-center h-10 px-4 rounded-xl text-sm\r\n                  ${saving\r\n                    ? \"bg-white/5 text-white/50\"\r\n                    : \"bg-lime-400/10 text-lime-300 hover:bg-lime-400/20 hover:shadow-[0_0_10px_rgba(163,230,53,0.25)] hover:scale-[1.02] transition\"\r\n                  }`}\r\n              >\r\n                {saving ? \"Salvando...\" : savedTick > 0 ? \"Salvo ✓\" : \"Salvar alterações\"}\r\n              </motion.button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Segurança */}\r\n          <div className=\"relative z-10 border-t border-white/5 mt-6 pt-6\">\r\n            <h2 className=\"text-lime-300/90 font-semibold text-base mb-4 flex items-center gap-2\">\r\n              <LockKeyhole size={18} className=\"text-lime-300\" />\r\n              Segurança\r\n            </h2>\r\n\r\n            <div className=\"grid gap-4\">\r\n              {/* senha atual */}\r\n              <div>\r\n                <label htmlFor=\"curPass\" className=\"block text-sm opacity-70 mb-1\">Senha atual</label>\r\n                <div className=\"relative\">\r\n                  <input\r\n                    id=\"curPass\"\r\n                    type={showCur ? \"text\" : \"password\"}\r\n                    value={currentPw}\r\n                    onChange={(e) => setCurrentPw(e.target.value)}\r\n                    className=\"w-full h-11 text-[14px] rounded-xl bg-white/5 border border-white/10 outline-none\r\n                               focus:border-lime-400 focus:ring-2 focus:ring-lime-400/25 px-3 pr-11 transition\"\r\n                    autoComplete=\"current-password\"\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setShowCur((s) => !s)}\r\n                    className=\"absolute right-1.5 top-1/2 -translate-y-1/2 p-2 rounded-md text-white/70 hover:text-white\r\n                               focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/30\"\r\n                    aria-label={showCur ? \"Ocultar senha\" : \"Mostrar senha\"}\r\n                  >\r\n                    {showCur ? <EyeOff size={16} /> : <Eye size={16} />}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              {/* nova senha */}\r\n              <div>\r\n                <label htmlFor=\"newPass\" className=\"block text-sm opacity-70 mb-1\">Nova senha</label>\r\n                <div className=\"relative\">\r\n                  <input\r\n                    id=\"newPass\"\r\n                    type={showNew ? \"text\" : \"password\"}\r\n                    value={newPw}\r\n                    onChange={(e) => setNewPw(e.target.value)}\r\n                    className=\"w-full h-11 text-[14px] rounded-xl bg-white/5 border border-white/10 outline-none\r\n                               focus:border-lime-400 focus:ring-2 focus:ring-lime-400/25 px-3 pr-11 transition\"\r\n                    autoComplete=\"new-password\"\r\n                    placeholder=\"Mínimo de 8 caracteres\"\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setShowNew((s) => !s)}\r\n                    className=\"absolute right-1.5 top-1/2 -translate-y-1/2 p-2 rounded-md text-white/70 hover:text-white\r\n                               focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/30\"\r\n                    aria-label={showNew ? \"Ocultar senha\" : \"Mostrar senha\"}\r\n                  >\r\n                    {showNew ? <EyeOff size={16} /> : <Eye size={16} />}\r\n                  </button>\r\n                </div>\r\n\r\n                {/* medidor de força – pílulas */}\r\n                <div className=\"mt-2\">\r\n                  <div className=\"flex gap-1.5\">\r\n                    {Array.from({ length: 4 }).map((_, i) => {\r\n                      const on = newScore >= (i + 1) * 25;\r\n                      const cls = on\r\n                        ? newScore >= 75\r\n                          ? \"bg-lime-400\"\r\n                          : newScore >= 50\r\n                          ? \"bg-yellow-300\"\r\n                          : \"bg-orange-300\"\r\n                        : \"bg-white/12\";\r\n                      return <div key={i} className={`h-2.5 w-12 rounded-full transition-colors ${cls}`} />;\r\n                    })}\r\n                  </div>\r\n                  <div className=\"text-xs opacity-70 mt-1\">\r\n                    Força: <span className=\"capitalize\">{strength}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* confirmar senha */}\r\n              <div>\r\n                <label htmlFor=\"confPass\" className=\"block text-sm opacity-70 mb-1\">Confirmar nova senha</label>\r\n                <div className=\"relative\">\r\n                  <input\r\n                    id=\"confPass\"\r\n                    type={showConf ? \"text\" : \"password\"}\r\n                    value={confirmPw}\r\n                    onChange={(e) => setConfirmPw(e.target.value)}\r\n                    className=\"w-full h-11 text-[14px] rounded-xl bg-white/5 border border-white/10 outline-none\r\n                               focus:border-lime-400 focus:ring-2 focus:ring-lime-400/25 px-3 pr-11 transition\"\r\n                    autoComplete=\"new-password\"\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setShowConf((s) => !s)}\r\n                    className=\"absolute right-1.5 top-1/2 -translate-y-1/2 p-2 rounded-md text-white/70 hover:text-white\r\n                               focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/30\"\r\n                    aria-label={showConf ? \"Ocultar senha\" : \"Mostrar senha\"}\r\n                  >\r\n                    {showConf ? <EyeOff size={16} /> : <Eye size={16} />}\r\n                  </button>\r\n                </div>\r\n                {confirmPw && confirmPw !== newPw && (\r\n                  <div className=\"text-xs text-red-400 mt-1\">As senhas não conferem.</div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* ações à direita */}\r\n            <div className=\"mt-5 flex items-center justify-end\">\r\n              <motion.button\r\n                whileTap={{ scale: 0.98 }}\r\n                onClick={changePassword}\r\n                disabled={changing}\r\n                className={`inline-flex items-center justify-center h-10 px-4 rounded-xl text-sm\r\n                  ${changing\r\n                    ? \"bg-white/5 text-white/50\"\r\n                    : \"bg-lime-400/10 text-lime-300 hover:bg-lime-400/20 hover:shadow-[0_0_10px_rgba(163,230,53,0.25)] hover:scale-[1.02] transition\"\r\n                  }`}\r\n              >\r\n                {changing ? \"Alterando...\" : \"Alterar senha\"}\r\n              </motion.button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Danger zone */}\r\n          <div className=\"relative z-10 border-t border-white/5 mt-6 pt-6\">\r\n            <h2 className=\"text-lime-300/90 font-semibold text-base mb-3\">Zona de perigo</h2>\r\n            <div className=\"rounded-2xl bg-red-950/35 border border-red-900/25 p-4 shadow-inner\">\r\n              <div className=\"flex items-start gap-3\">\r\n                <ShieldAlert className=\"text-red-400 mt-0.5\" size={18} />\r\n                <div className=\"flex-1\">\r\n                  <p className=\"text-sm text-red-200/90\">\r\n                    Excluir sua conta é <span className=\"font-semibold\">irreversível</span>. Todos os seus dados pessoais poderão ser removidos.\r\n                  </p>\r\n                  <div className=\"mt-3 flex flex-col sm:flex-row gap-2\">\r\n                    <input\r\n                      value={confirmText}\r\n                      onChange={(e) => setConfirmText(e.target.value)}\r\n                      placeholder='Digite \"DELETAR\" para confirmar'\r\n                      className=\"flex-1 h-10 rounded-xl bg-white/5 border border-white/10 px-3 text-sm outline-none focus:ring-2 focus:ring-red-500/30\"\r\n                    />\r\n                    <motion.button\r\n                      whileTap={{ scale: 0.98 }}\r\n                      onClick={onDelete}\r\n                      disabled={deleting || confirmText !== \"DELETAR\"}\r\n                      className=\"inline-flex items-center justify-center gap-2 h-10 px-4 rounded-xl bg-red-600/85 hover:bg-red-500 text-white text-sm transition disabled:opacity-60\"\r\n                    >\r\n                      <Trash2 size={16} />\r\n                      {deleting ? \"Excluindo...\" : \"Excluir conta\"}\r\n                    </motion.button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n    </motion.main>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}