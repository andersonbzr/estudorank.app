{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/adsli/EstudoRank-patched-2025-10-22/estudorank/src/lib/supabase/client.ts"],"sourcesContent":["// src/lib/supabase/client.ts\r\nimport { createClient, type SupabaseClient } from \"@supabase/supabase-js\";\r\n\r\nlet _client: SupabaseClient | null = null;\r\n\r\n/**\r\n * Cliente do Supabase para uso no browser (componentes client).\r\n * Usa storageKey custom \"sr-auth\" para evitar conflitos e manter sess√£o.\r\n */\r\nexport function supabaseBrowser(): SupabaseClient {\r\n  if (_client) return _client;\r\n\r\n  const url = process.env.NEXT_PUBLIC_SUPABASE_URL!;\r\n  const anon = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\r\n\r\n  if (!url || !anon) {\r\n    throw new Error(\r\n      \"Env vars ausentes: defina NEXT_PUBLIC_SUPABASE_URL e NEXT_PUBLIC_SUPABASE_ANON_KEY.\"\r\n    );\r\n  }\r\n\r\n  _client = createClient(url, anon, {\r\n    auth: {\r\n      persistSession: true,\r\n      autoRefreshToken: true,\r\n      storageKey: \"sr-auth\",\r\n    },\r\n  });\r\n\r\n  return _client;\r\n}\r\n"],"names":[],"mappings":"AAAA,6BAA6B;;;;;AAC7B;;AAEA,IAAI,UAAiC;AAM9B,SAAS;IACd,IAAI,SAAS,OAAO;IAEpB,MAAM;IACN,MAAM;IAEN;;IAMA,UAAU,IAAA,uMAAY,EAAC,KAAK,MAAM;QAChC,MAAM;YACJ,gBAAgB;YAChB,kBAAkB;YAClB,YAAY;QACd;IACF;IAEA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 67, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/adsli/EstudoRank-patched-2025-10-22/estudorank/src/components/ui/Spinner.tsx"],"sourcesContent":["// src/components/ui/Spinner.tsx\r\nexport default function Spinner({ label }: { label?: string }) {\r\n  return (\r\n    <div className=\"inline-flex items-center gap-2\" role=\"status\" aria-live=\"polite\">\r\n      <svg\r\n        className=\"animate-spin h-4 w-4\"\r\n        viewBox=\"0 0 24 24\"\r\n        aria-hidden=\"true\"\r\n      >\r\n        <circle\r\n          className=\"opacity-25\"\r\n          cx=\"12\"\r\n          cy=\"12\"\r\n          r=\"10\"\r\n          stroke=\"currentColor\"\r\n          strokeWidth=\"4\"\r\n          fill=\"none\"\r\n        />\r\n        <path\r\n          className=\"opacity-75\"\r\n          d=\"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z\"\r\n          fill=\"currentColor\"\r\n        />\r\n      </svg>\r\n      {label && <span>{label}</span>}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,gCAAgC;;;;;;;AACjB,SAAS,QAAQ,EAAE,KAAK,EAAsB;IAC3D,qBACE,8OAAC;QAAI,WAAU;QAAiC,MAAK;QAAS,aAAU;;0BACtE,8OAAC;gBACC,WAAU;gBACV,SAAQ;gBACR,eAAY;;kCAEZ,8OAAC;wBACC,WAAU;wBACV,IAAG;wBACH,IAAG;wBACH,GAAE;wBACF,QAAO;wBACP,aAAY;wBACZ,MAAK;;;;;;kCAEP,8OAAC;wBACC,WAAU;wBACV,GAAE;wBACF,MAAK;;;;;;;;;;;;YAGR,uBAAS,8OAAC;0BAAM;;;;;;;;;;;;AAGvB","debugId":null}},
    {"offset": {"line": 131, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/adsli/EstudoRank-patched-2025-10-22/estudorank/src/components/AuthGuard.tsx"],"sourcesContent":["\"use client\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { supabaseBrowser } from \"@/lib/supabase/client\";\r\nimport Spinner from \"@/components/ui/Spinner\";\r\n\r\nexport default function AuthGuard({ children }: { children: React.ReactNode }) {\r\n  const [ready, setReady] = useState(false);\r\n  const [authed, setAuthed] = useState<boolean | null>(null);\r\n\r\n  useEffect(() => {\r\n    let isMounted = true;\r\n    (async () => {\r\n      const supabase = supabaseBrowser();\r\n      const { data } = await supabase.auth.getSession();\r\n      if (!isMounted) return;\r\n      setAuthed(!!data.session);\r\n      setReady(true);\r\n      if (!data.session) {\r\n        // sem sess√£o => manda pro login\r\n        window.location.replace(\"/login\");\r\n      }\r\n    })();\r\n    return () => { isMounted = false; };\r\n  }, []);\r\n\r\n  if (!ready) {\r\n    return (\r\n      <div className=\"min-h-[40vh] grid place-items-center\">\r\n        <Spinner label=\"Verificando sess√£o...\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return authed ? <>{children}</> : null;\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAHA;;;;;AAKe,SAAS,UAAU,EAAE,QAAQ,EAAiC;IAC3E,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAiB;IAErD,IAAA,kNAAS,EAAC;QACR,IAAI,YAAY;QAChB,CAAC;YACC,MAAM,WAAW,IAAA,mJAAe;YAChC,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,UAAU;YAC/C,IAAI,CAAC,WAAW;YAChB,UAAU,CAAC,CAAC,KAAK,OAAO;YACxB,SAAS;YACT,IAAI,CAAC,KAAK,OAAO,EAAE;gBACjB,gCAAgC;gBAChC,OAAO,QAAQ,CAAC,OAAO,CAAC;YAC1B;QACF,CAAC;QACD,OAAO;YAAQ,YAAY;QAAO;IACpC,GAAG,EAAE;IAEL,IAAI,CAAC,OAAO;QACV,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC,8IAAO;gBAAC,OAAM;;;;;;;;;;;IAGrB;IAEA,OAAO,uBAAS;kBAAG;wBAAe;AACpC","debugId":null}},
    {"offset": {"line": 188, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/adsli/EstudoRank-patched-2025-10-22/estudorank/src/components/Sidebar.tsx"],"sourcesContent":["// src/components/Sidebar.tsx\r\n\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport { usePathname } from \"next/navigation\";\r\nimport {\r\n  Trophy,\r\n  LayoutDashboard,\r\n  Settings,\r\n  ShieldCheck,\r\n  Shield,\r\n} from \"lucide-react\";\r\nimport Image from \"next/image\";\r\nimport clsx from \"clsx\";\r\n\r\ntype Props = {\r\n  onNavigate?: () => void;\r\n  isAdmin?: boolean;\r\n  /** Quando true, mostra s√≥ √≠cones (mesma <aside>, sem rail extra) */\r\n  collapsed?: boolean;\r\n};\r\n\r\ntype Item = { href: string; label: string; icon: React.ComponentType<any> };\r\n\r\nexport default function Sidebar({\r\n  onNavigate,\r\n  isAdmin,\r\n  collapsed = false,\r\n}: Props) {\r\n  const pathname = usePathname();\r\n\r\n  const items: Item[] = [\r\n    { href: \"/me\", label: \"Meu Painel\", icon: LayoutDashboard },\r\n    { href: \"/ranking\", label: \"Ranking\", icon: Trophy },\r\n    { href: \"/config\", label: \"Configura√ß√µes\", icon: Settings },\r\n    { href: \"/me/security\", label: \"Seguran√ßa\", icon: Shield },\r\n  ];\r\n\r\n  if (isAdmin) {\r\n    items.push({ href: \"/admin\", label: \"Administra√ß√£o\", icon: ShieldCheck });\r\n  }\r\n\r\n  return (\r\n    <aside\r\n      className={clsx(\r\n        // ‚ùó UMA √öNICA <aside> cuja largura muda ‚Äî sem sticky/fixed/second rail\r\n        \"border-r border-white/10 bg-[var(--surface)]/70 backdrop-blur flex flex-col\",\r\n        collapsed ? \"w-[4rem]\" : \"w-[18rem]\"\r\n      )}\r\n    >\r\n      {/* Header */}\r\n      <div\r\n        className={clsx(\r\n          \"h-14 border-b border-white/10 px-4 flex items-center gap-2\",\r\n          collapsed && \"justify-center px-0\"\r\n        )}\r\n      >\r\n        <Link\r\n          href=\"/\"\r\n          className={clsx(\r\n            \"flex items-center gap-2 transition-transform hover:scale-[1.02]\",\r\n            collapsed && \"justify-center\"\r\n          )}\r\n          onClick={onNavigate}\r\n          aria-label=\"Ir para a p√°gina inicial\"\r\n        >\r\n          <Image\r\n            src=\"/logo.png\"\r\n            alt=\"EstudoRank\"\r\n            width={collapsed ? 20 : 26}\r\n            height={collapsed ? 20 : 26}\r\n            className=\"rounded-sm drop-shadow-[0_0_6px_rgba(163,230,53,0.30)]\"\r\n            priority\r\n          />\r\n          {!collapsed && (\r\n            <span className=\"font-semibold tracking-tight\">EstudoRank</span>\r\n          )}\r\n        </Link>\r\n      </div>\r\n\r\n      {/* Navega√ß√£o */}\r\n      <nav className={clsx(\"flex-1 p-3 space-y-2\", collapsed && \"p-2\")}>\r\n        {items.map((item) => {\r\n          const active =\r\n            pathname === item.href || pathname.startsWith(`${item.href}/`);\r\n          return (\r\n            <NavItem\r\n              key={item.href}\r\n              item={item}\r\n              active={active}\r\n              collapsed={collapsed}\r\n              onNavigate={onNavigate}\r\n            />\r\n          );\r\n        })}\r\n      </nav>\r\n\r\n      {/* Footer */}\r\n      {!collapsed ? (\r\n        <div className=\"px-3 py-3 text-xs opacity-60 border-t border-white/10\">\r\n          ¬© {new Date().getFullYear()} EstudoRank\r\n        </div>\r\n      ) : (\r\n        <div className=\"py-3 border-t border-white/10 text-center text-[10px] opacity-50 select-none\">\r\n          ¬© {new Date().getFullYear()}\r\n        </div>\r\n      )}\r\n    </aside>\r\n  );\r\n}\r\n\r\n/* --------------------------- Subcomponentes --------------------------- */\r\n\r\nfunction NavItem({\r\n  item,\r\n  active,\r\n  collapsed,\r\n  onNavigate,\r\n}: {\r\n  item: Item;\r\n  active: boolean;\r\n  collapsed: boolean;\r\n  onNavigate?: () => void;\r\n}) {\r\n  const Icon = item.icon;\r\n\r\n  return (\r\n    <Link\r\n      href={item.href}\r\n      onClick={onNavigate}\r\n      aria-current={active ? \"page\" : undefined}\r\n      className={clsx(\r\n        \"group relative flex items-center gap-3 rounded-xl border transition-all duration-200 outline-none focus-visible:ring-2 focus-visible:ring-accent/40\",\r\n        collapsed ? \"justify-center py-2\" : \"px-3 py-2\",\r\n        active\r\n          ? \"bg-white/[0.06] border-white/20 shadow-[0_0_0_1px_rgba(255,255,255,0.06)] text-lime-200\"\r\n          : \"bg-white/[0.04] hover:bg-white/[0.08] border-white/10 text-white/85 hover:text-white\"\r\n      )}\r\n    >\r\n      <span className=\"inline-flex h-8 w-8 shrink-0 items-center justify-center rounded-lg border border-white/10 bg-white/[0.04] group-hover:bg-white/[0.08]\">\r\n        <Icon size={16} className={active ? \"text-accent\" : \"opacity-80\"} />\r\n      </span>\r\n\r\n      {!collapsed && <span className=\"text-sm\">{item.label}</span>}\r\n\r\n      {/* Tooltip quando colapsado */}\r\n      {collapsed && (\r\n        <span\r\n          className={clsx(\r\n            \"pointer-events-none absolute left-full ml-3 top-1/2 -translate-y-1/2\",\r\n            \"rounded-md bg-black/80 text-white text-xs px-2 py-1\",\r\n            \"opacity-0 -translate-x-1 group-hover:opacity-100 group-hover:translate-x-0\",\r\n            \"transition-all whitespace-nowrap z-50\"\r\n          )}\r\n          role=\"tooltip\"\r\n        >\r\n          {item.label}\r\n        </span>\r\n      )}\r\n    </Link>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,6BAA6B;;;;;;AAG7B;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AAZA;;;;;;;AAuBe,SAAS,QAAQ,EAC9B,UAAU,EACV,OAAO,EACP,YAAY,KAAK,EACX;IACN,MAAM,WAAW,IAAA,iJAAW;IAE5B,MAAM,QAAgB;QACpB;YAAE,MAAM;YAAO,OAAO;YAAc,MAAM,+OAAe;QAAC;QAC1D;YAAE,MAAM;YAAY,OAAO;YAAW,MAAM,gNAAM;QAAC;QACnD;YAAE,MAAM;YAAW,OAAO;YAAiB,MAAM,sNAAQ;QAAC;QAC1D;YAAE,MAAM;YAAgB,OAAO;YAAa,MAAM,gNAAM;QAAC;KAC1D;IAED,IAAI,SAAS;QACX,MAAM,IAAI,CAAC;YAAE,MAAM;YAAU,OAAO;YAAiB,MAAM,mOAAW;QAAC;IACzE;IAEA,qBACE,8OAAC;QACC,WAAW,IAAA,gJAAI,EACb,uEAAuE;QACvE,+EACA,YAAY,aAAa;;0BAI3B,8OAAC;gBACC,WAAW,IAAA,gJAAI,EACb,8DACA,aAAa;0BAGf,cAAA,8OAAC,uKAAI;oBACH,MAAK;oBACL,WAAW,IAAA,gJAAI,EACb,mEACA,aAAa;oBAEf,SAAS;oBACT,cAAW;;sCAEX,8OAAC,wIAAK;4BACJ,KAAI;4BACJ,KAAI;4BACJ,OAAO,YAAY,KAAK;4BACxB,QAAQ,YAAY,KAAK;4BACzB,WAAU;4BACV,QAAQ;;;;;;wBAET,CAAC,2BACA,8OAAC;4BAAK,WAAU;sCAA+B;;;;;;;;;;;;;;;;;0BAMrD,8OAAC;gBAAI,WAAW,IAAA,gJAAI,EAAC,wBAAwB,aAAa;0BACvD,MAAM,GAAG,CAAC,CAAC;oBACV,MAAM,SACJ,aAAa,KAAK,IAAI,IAAI,SAAS,UAAU,CAAC,GAAG,KAAK,IAAI,CAAC,CAAC,CAAC;oBAC/D,qBACE,8OAAC;wBAEC,MAAM;wBACN,QAAQ;wBACR,WAAW;wBACX,YAAY;uBAJP,KAAK,IAAI;;;;;gBAOpB;;;;;;YAID,CAAC,0BACA,8OAAC;gBAAI,WAAU;;oBAAwD;oBAClE,IAAI,OAAO,WAAW;oBAAG;;;;;;qCAG9B,8OAAC;gBAAI,WAAU;;oBAA+E;oBACzF,IAAI,OAAO,WAAW;;;;;;;;;;;;;AAKnC;AAEA,0EAA0E,GAE1E,SAAS,QAAQ,EACf,IAAI,EACJ,MAAM,EACN,SAAS,EACT,UAAU,EAMX;IACC,MAAM,OAAO,KAAK,IAAI;IAEtB,qBACE,8OAAC,uKAAI;QACH,MAAM,KAAK,IAAI;QACf,SAAS;QACT,gBAAc,SAAS,SAAS;QAChC,WAAW,IAAA,gJAAI,EACb,uJACA,YAAY,wBAAwB,aACpC,SACI,4FACA;;0BAGN,8OAAC;gBAAK,WAAU;0BACd,cAAA,8OAAC;oBAAK,MAAM;oBAAI,WAAW,SAAS,gBAAgB;;;;;;;;;;;YAGrD,CAAC,2BAAa,8OAAC;gBAAK,WAAU;0BAAW,KAAK,KAAK;;;;;;YAGnD,2BACC,8OAAC;gBACC,WAAW,IAAA,gJAAI,EACb,wEACA,uDACA,8EACA;gBAEF,MAAK;0BAEJ,KAAK,KAAK;;;;;;;;;;;;AAKrB","debugId":null}},
    {"offset": {"line": 384, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/adsli/EstudoRank-patched-2025-10-22/estudorank/src/components/I18nProvider.tsx"],"sourcesContent":["// src/components/I18nProvider.tsx\r\n\"use client\";\r\n\r\nimport React, { createContext, useContext, useEffect, useMemo, useState } from \"react\";\r\n\r\n/**\r\n * Dicion√°rios simples. Mantive pt-BR como padr√£o.\r\n * Se quiser, pode preencher/enxugar o en-US ‚Äî o app vai cair no pt-BR quando faltar chave.\r\n */\r\ntype Dict = Record<string, string | ((vars?: Record<string, any>) => string)>;\r\n\r\nconst ptBR: Dict = {\r\n  // Globais / Header / Sidebar\r\n  welcome: ({ name }: any) => (name ? `Bem-vindo, ${name}` : \"Bem-vindo\"),\r\n  myPanel: \"Meu Painel\",\r\n  ranking: \"Ranking\",\r\n  settings: \"Configura√ß√µes\",\r\n  admin: \"Admin\",\r\n  refresh: \"Atualizar\",\r\n  prev: \"Anterior\",\r\n  next: \"Pr√≥xima\",\r\n  signOut: \"Sair\",\r\n\r\n  // P√°gina /me\r\n  yourPoints: \"Seus pontos:\",\r\n  creatingExample: \"Criando exemplo...\",\r\n  createExample: \"Criar dados de exemplo\",\r\n  weeklyGoalLabel: ({ done, goal }: any) => `Meta semanal (seg‚Äìdom): ${done}/${goal} m√≥dulos`,\r\n  saveGoal: \"Salvar meta\",\r\n  generalProgress: \"Progresso geral\",\r\n  modulesCompleted: ({ done, total }: any) => `${done}/${total} m√≥dulos conclu√≠dos`,\r\n  loadingCoursesModules: \"Carregando cursos e m√≥dulos...\",\r\n  noActiveCourses: \"Nenhum curso ativo. Use ‚ÄúCriar dados de exemplo‚Äù.\",\r\n  donePlusPoints: \"Conclu√≠do (+10 pts)\",\r\n  pending: \"Pendente\",\r\n  updating: \"Atualizando...\",\r\n  undo: \"Desfazer\",\r\n  conclude: \"Concluir\",\r\n\r\n  // Admin / Cursos\r\n  adminCoursesTitle: \"Admin ‚Ä¢ Cursos & M√≥dulos\",\r\n  adminCoursesSubtitle:\r\n    \"Crie cursos, adicione m√≥dulos, ative/desative e edite t√≠tulos. Somente administradores podem alterar.\",\r\n  demoMode: \"Modo Demo\",\r\n  demoModeDesc: \"Popula v√°rios cursos e m√≥dulos de exemplo.\",\r\n  populating: \"Populando...\",\r\n  populateDemo: \"Popular demo\",\r\n  newCourse: \"Novo curso\",\r\n  courseTitlePlaceholder: \"T√≠tulo do curso\",\r\n  courseDescPlaceholder: \"Descri√ß√£o (opcional)\",\r\n  creating: \"Criando...\",\r\n  createCourse: \"Criar curso\",\r\n  titleLabel: \"T√≠tulo\",\r\n  disable: \"Desativar\",\r\n  enable: \"Ativar\",\r\n  delete: \"Excluir\",\r\n  modulePlaceholder: \"Novo m√≥dulo...\",\r\n  addModule: \"Adicionar m√≥dulo\",\r\n  adding: \"Adicionando...\",\r\n  moduleLabel: \"M√≥dulo\",\r\n  save: \"Salvar\",\r\n  cancel: \"Cancelar\",\r\n  edit: \"Editar\",\r\n  loading: \"Carregando...\",\r\n  noCourses: \"Nenhum curso. Crie um acima.\",\r\n\r\n  // Ranking\r\n  position: \"Posi√ß√£o\",\r\n  user: \"Usu√°rio\",\r\n  points: \"Pontos\",\r\n  loadingRanking: \"Carregando ranking...\",\r\n  noDataYet: \"Sem dados ainda.\",\r\n  paginationSummary: ({ total, page, pages }: any) => `${total} usu√°rios ‚Ä¢ p√°gina ${page} de ${pages}`,\r\n};\r\n\r\nconst enUS: Dict = {\r\n  // (opcional, serve como fallback para quando voc√™ selecionar \"en-US\" no futuro)\r\n  welcome: ({ name }: any) => (name ? `Welcome, ${name}` : \"Welcome\"),\r\n  myPanel: \"My Panel\",\r\n  ranking: \"Ranking\",\r\n  settings: \"Settings\",\r\n  admin: \"Admin\",\r\n  refresh: \"Refresh\",\r\n  prev: \"Previous\",\r\n  next: \"Next\",\r\n  signOut: \"Sign out\",\r\n};\r\n\r\nexport type Locale = \"pt-BR\" | \"en-US\";\r\n\r\nconst dictionaries: Record<Locale, Dict> = {\r\n  \"pt-BR\": ptBR,\r\n  \"en-US\": enUS,\r\n};\r\n\r\ntype I18nCtxType = {\r\n  locale: Locale;\r\n  setLocale: (l: Locale) => void;\r\n  t: (key: string, vars?: Record<string, any>) => string;\r\n};\r\n\r\nconst I18nCtx = createContext<I18nCtxType | null>(null);\r\n\r\nexport function I18nProvider({ children }: { children: React.ReactNode }) {\r\n  // Se n√£o for usar troca de idioma agora, deixe fixo em 'pt-BR'\r\n  const [locale, setLocaleState] = useState<Locale>(\"pt-BR\");\r\n\r\n  // Mant√©m o atributo lang coerente (n√£o √© obrigat√≥rio, mas ajuda em SEO/acessibilidade)\r\n  useEffect(() => {\r\n    document.documentElement.setAttribute(\"lang\", locale);\r\n  }, [locale]);\r\n\r\n  // Exponho setLocale para compatibilidade futura (hoje pode ficar sem uso)\r\n  const setLocale = (l: Locale) => {\r\n    setLocaleState(l);\r\n  };\r\n\r\n  // Tradutor com fallback para pt-BR e, por fim, a pr√≥pria chave\r\n  const t = useMemo(() => {\r\n    return (key: string, vars?: Record<string, any>) => {\r\n      const dict = dictionaries[locale] || ptBR;\r\n      const entry = dict[key];\r\n      if (typeof entry === \"function\") return (entry as any)(vars || {});\r\n      if (typeof entry === \"string\") return entry;\r\n\r\n      const fb = ptBR[key];\r\n      if (typeof fb === \"function\") return (fb as any)(vars || {});\r\n      if (typeof fb === \"string\") return fb;\r\n\r\n      return key;\r\n    };\r\n  }, [locale]);\r\n\r\n  const value = useMemo(() => ({ locale, setLocale, t }), [locale, t]);\r\n\r\n  return <I18nCtx.Provider value={value}>{children}</I18nCtx.Provider>;\r\n}\r\n\r\nexport function useI18n() {\r\n  const ctx = useContext(I18nCtx);\r\n  if (!ctx) throw new Error(\"useI18n must be used within I18nProvider\");\r\n  return ctx;\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 526, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/adsli/EstudoRank-patched-2025-10-22/estudorank/src/components/shell/AppShell.tsx"],"sourcesContent":["// src/components/shell/AppShell.tsx\r\n\"use client\";\r\n\r\nimport { ReactNode, useEffect, useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport Sidebar from \"@/components/Sidebar\";\r\nimport { Menu, LogOut, Shield } from \"lucide-react\";\r\nimport { supabaseBrowser } from \"@/lib/supabase/client\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { I18nProvider } from \"@/components/I18nProvider\";\r\nimport ToastProvider from \"@/components/Toast\";\r\n\r\nexport default function AppShell({ children }: { children: ReactNode }) {\r\n  const [open, setOpen] = useState(true); // desktop: expandida (true) / rail (false)\r\n  const [mobileOpen, setMobileOpen] = useState(false); // mobile drawer\r\n  const [displayName, setDisplayName] = useState<string | null>(null);\r\n  const [isAdmin, setIsAdmin] = useState(false);\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    const supabase = supabaseBrowser();\r\n    supabase.auth.getUser().then(async ({ data }) => {\r\n      const u = data.user;\r\n      if (u) {\r\n        const { data: prof } = await supabase\r\n          .from(\"profiles\")\r\n          .select(\"is_admin, full_name, name\")\r\n          .eq(\"id\", u.id)\r\n          .single();\r\n\r\n        setIsAdmin(!!prof?.is_admin);\r\n        const name =\r\n          (prof?.full_name && String(prof.full_name).trim()) ||\r\n          (prof?.name && String(prof.name).trim()) ||\r\n          u.email ||\r\n          null;\r\n        setDisplayName(name);\r\n      } else {\r\n        setIsAdmin(false);\r\n        setDisplayName(null);\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  async function signOut() {\r\n    const supabase = supabaseBrowser();\r\n    await supabase.auth.signOut();\r\n    router.replace(\"/login\");\r\n  }\r\n\r\n  function handleNavigate() {\r\n    setMobileOpen(false);\r\n  }\r\n\r\n  // Largura da 1¬™ coluna no desktop: 18rem (aberta) / 4rem (rail colapsada)\r\n  const desktopCol = open ? \"18rem\" : \"4rem\";\r\n\r\n  return (\r\n    <I18nProvider>\r\n      <ToastProvider>\r\n        <div\r\n          className=\"min-h-screen w-full grid\"\r\n          style={{ gridTemplateColumns: `${desktopCol} 1fr` }}\r\n        >\r\n          {/* Sidebar Desktop */}\r\n          <div className=\"hidden lg:block border-r border-white/10 bg-[var(--surface)]/70 backdrop-blur-xl\">\r\n            <Sidebar isAdmin={isAdmin} collapsed={!open} />\r\n          </div>\r\n\r\n          {/* Conte√∫do */}\r\n          <div className=\"min-h-screen flex flex-col\">\r\n            {/* Topbar */}\r\n            <header className=\"sticky top-0 z-30 h-14 border-b border-white/10 bg-[var(--surface)]/70 backdrop-blur flex items-center justify-between px-3 sm:px-4 lg:px-6\">\r\n              <div className=\"flex items-center gap-2\">\r\n                {/* Toggle Mobile Drawer */}\r\n                <button\r\n                  className=\"btn-icon lg:hidden\"\r\n                  onClick={() => setMobileOpen(true)}\r\n                  aria-label=\"Abrir menu\"\r\n                >\r\n                  <Menu size={18} />\r\n                </button>\r\n\r\n                {/* Toggle largura sidebar (desktop) */}\r\n                <button\r\n                  className=\"btn-icon hidden lg:inline-flex\"\r\n                  onClick={() => setOpen((v) => !v)}\r\n                  aria-label={open ? \"Recolher menu\" : \"Expandir menu\"}\r\n                  title={open ? \"Recolher menu\" : \"Expandir menu\"}\r\n                >\r\n                  <Menu size={18} />\r\n                </button>\r\n\r\n                <span className=\"text-sm opacity-80 hidden sm:block\">\r\n                  {displayName ? `Bem-vindo, ${displayName}` : \"Bem-vindo\"}\r\n                </span>\r\n              </div>\r\n\r\n              {/* A√ß√µes √† direita */}\r\n              <div className=\"flex items-center gap-2\">\r\n                {isAdmin && (\r\n                  <span className=\"hidden sm:inline-flex items-center gap-1 px-2 py-1 rounded-lg bg-emerald-500/15 border border-emerald-400/20 text-emerald-200 text-xs\">\r\n                    Admin\r\n                  </span>\r\n                )}\r\n\r\n                <Link href=\"/me/security\" className=\"btn btn-outline\" title=\"Seguran√ßa da conta\">\r\n                  <Shield size={16} />\r\n                  <span className=\"hidden sm:inline\">Seguran√ßa</span>\r\n                </Link>\r\n\r\n                <button onClick={signOut} className=\"btn btn-outline\" title=\"Sair\">\r\n                  <LogOut size={16} />\r\n                  <span className=\"hidden sm:inline\">Sair</span>\r\n                </button>\r\n              </div>\r\n            </header>\r\n\r\n            <main className=\"flex-1 p-4 sm:p-6 lg:p-8\">{children}</main>\r\n          </div>\r\n\r\n          {/* Drawer Mobile */}\r\n          {mobileOpen && (\r\n            <div className=\"lg:hidden fixed inset-0 z-40\">\r\n              {/* overlay */}\r\n              <button\r\n                className=\"absolute inset-0 bg-black/50\"\r\n                onClick={() => setMobileOpen(false)}\r\n                aria-label=\"Fechar menu\"\r\n              />\r\n              <div className=\"absolute left-0 top-0 h-full w-72 bg-[var(--surface)]/90 border-r border-white/10 shadow-xl\">\r\n                <Sidebar isAdmin={isAdmin} onNavigate={handleNavigate} />\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </ToastProvider>\r\n    </I18nProvider>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 805, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/adsli/EstudoRank-patched-2025-10-22/estudorank/src/components/ui/Card.tsx"],"sourcesContent":["// src/components/ui/Card.tsx\r\n\"use client\";\r\n\r\nimport { motion } from \"framer-motion\";\r\nimport { ReactNode } from \"react\";\r\n\r\nexport default function Card({\r\n  children,\r\n  className = \"\",\r\n  as = \"div\",\r\n}: {\r\n  children: ReactNode;\r\n  className?: string;\r\n  as?: keyof JSX.IntrinsicElements;\r\n}) {\r\n  const Comp: any = as;\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, y: 6 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      transition={{ duration: 0.18, ease: \"easeOut\" }}\r\n      whileHover={{ y: -1 }}\r\n    >\r\n      <Comp\r\n        className={`rounded-2xl border border-white/10 bg-[var(--surface)]/90 shadow-lg ${className}`}\r\n      >\r\n        {children}\r\n      </Comp>\r\n    </motion.div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,6BAA6B;;;;;;AAG7B;AAFA;;;AAKe,SAAS,KAAK,EAC3B,QAAQ,EACR,YAAY,EAAE,EACd,KAAK,KAAK,EAKX;IACC,MAAM,OAAY;IAClB,qBACE,8OAAC,oMAAM,CAAC,GAAG;QACT,SAAS;YAAE,SAAS;YAAG,GAAG;QAAE;QAC5B,SAAS;YAAE,SAAS;YAAG,GAAG;QAAE;QAC5B,YAAY;YAAE,UAAU;YAAM,MAAM;QAAU;QAC9C,YAAY;YAAE,GAAG,CAAC;QAAE;kBAEpB,cAAA,8OAAC;YACC,WAAW,CAAC,oEAAoE,EAAE,WAAW;sBAE5F;;;;;;;;;;;AAIT","debugId":null}},
    {"offset": {"line": 851, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/adsli/EstudoRank-patched-2025-10-22/estudorank/src/components/ui/MotionButton.tsx"],"sourcesContent":["// src/components/ui/MotionButton.tsx\r\n\"use client\";\r\n\r\nimport { motion } from \"framer-motion\";\r\nimport { ButtonHTMLAttributes } from \"react\";\r\n\r\nexport default function MotionButton(\r\n  props: ButtonHTMLAttributes<HTMLButtonElement>\r\n) {\r\n  const { className = \"\", ...rest } = props;\r\n  return (\r\n    <motion.button\r\n      whileTap={{ scale: 0.98 }}\r\n      whileHover={{ scale: 1.01 }}\r\n      transition={{ duration: 0.08 }}\r\n      className={`px-3 py-2 rounded-xl bg-white/10 hover:bg-white/20 transition disabled:opacity-60 ${className}`}\r\n      {...rest}\r\n    />\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,qCAAqC;;;;;;AAGrC;AAFA;;;AAKe,SAAS,aACtB,KAA8C;IAE9C,MAAM,EAAE,YAAY,EAAE,EAAE,GAAG,MAAM,GAAG;IACpC,qBACE,8OAAC,oMAAM,CAAC,MAAM;QACZ,UAAU;YAAE,OAAO;QAAK;QACxB,YAAY;YAAE,OAAO;QAAK;QAC1B,YAAY;YAAE,UAAU;QAAK;QAC7B,WAAW,CAAC,kFAAkF,EAAE,WAAW;QAC1G,GAAG,IAAI;;;;;;AAGd","debugId":null}},
    {"offset": {"line": 885, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/adsli/EstudoRank-patched-2025-10-22/estudorank/src/components/ui/Collapse.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { ChevronDown } from \"lucide-react\";\r\n\r\ntype Props = {\r\n  title: React.ReactNode;           // conte√∫do exibido no cabe√ßalho (sem <button>)\r\n  subtitle?: React.ReactNode;       // opcional\r\n  defaultOpen?: boolean;\r\n  children: React.ReactNode;\r\n  className?: string;\r\n};\r\n\r\nexport default function Collapse({\r\n  title,\r\n  subtitle,\r\n  defaultOpen = false,\r\n  children,\r\n  className = \"\",\r\n}: Props) {\r\n  const [open, setOpen] = useState<boolean>(!!defaultOpen);\r\n\r\n  return (\r\n    <div className={className}>\r\n      {/* Bot√£o √öNICO do cabe√ßalho */}\r\n      <button\r\n        type=\"button\"\r\n        onClick={() => setOpen((v) => !v)}\r\n        aria-expanded={open}\r\n        data-open={open}\r\n        className=\"w-full flex items-center justify-between gap-3 px-4 py-3 text-left hover:bg-white/5 transition focus-visible:ring-2 focus-visible:ring-[var(--accent)]/40\"\r\n      >\r\n        <div className=\"min-w-0\">\r\n          {/* title vem pronto (div, fragment, texto, etc.) */}\r\n          <div className=\"truncate\">{title}</div>\r\n          {subtitle ? (\r\n            <div className=\"text-xs opacity-70 truncate\">{subtitle}</div>\r\n          ) : null}\r\n        </div>\r\n        <ChevronDown\r\n          className={`size-4 shrink-0 transition-transform ${\r\n            open ? \"rotate-180\" : \"\"\r\n          }`}\r\n        />\r\n      </button>\r\n\r\n      {/* Conte√∫do colaps√°vel */}\r\n      <div data-open={open} className={open ? \"block\" : \"hidden\"}>\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAae,SAAS,SAAS,EAC/B,KAAK,EACL,QAAQ,EACR,cAAc,KAAK,EACnB,QAAQ,EACR,YAAY,EAAE,EACR;IACN,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAU,CAAC,CAAC;IAE5C,qBACE,8OAAC;QAAI,WAAW;;0BAEd,8OAAC;gBACC,MAAK;gBACL,SAAS,IAAM,QAAQ,CAAC,IAAM,CAAC;gBAC/B,iBAAe;gBACf,aAAW;gBACX,WAAU;;kCAEV,8OAAC;wBAAI,WAAU;;0CAEb,8OAAC;gCAAI,WAAU;0CAAY;;;;;;4BAC1B,yBACC,8OAAC;gCAAI,WAAU;0CAA+B;;;;;uCAC5C;;;;;;;kCAEN,8OAAC,mOAAW;wBACV,WAAW,CAAC,qCAAqC,EAC/C,OAAO,eAAe,IACtB;;;;;;;;;;;;0BAKN,8OAAC;gBAAI,aAAW;gBAAM,WAAW,OAAO,UAAU;0BAC/C;;;;;;;;;;;;AAIT","debugId":null}},
    {"offset": {"line": 966, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/adsli/EstudoRank-patched-2025-10-22/estudorank/src/components/ui/CircularProgress.tsx"],"sourcesContent":["\"use client\";\r\nimport React from \"react\";\r\n\r\nexport default function CircularProgress({\r\n  value,\r\n  size = 96,\r\n  strokeWidth = 10,\r\n}: {\r\n  value: number;\r\n  size?: number;\r\n  strokeWidth?: number;\r\n}) {\r\n  const radius = (size - strokeWidth) / 2;\r\n  const circumference = 2 * Math.PI * radius;\r\n  const offset = circumference - (value / 100) * circumference;\r\n\r\n  return (\r\n    <svg\r\n      width={size}\r\n      height={size}\r\n      viewBox={`0 0 ${size} ${size}`}\r\n      className=\"transform -rotate-90\" // üü¢ Faz o c√≠rculo come√ßar no topo\r\n    >\r\n      {/* Trilha (fundo) */}\r\n      <circle\r\n        cx={size / 2}\r\n        cy={size / 2}\r\n        r={radius}\r\n        fill=\"transparent\"\r\n        strokeWidth={strokeWidth}\r\n        className=\"stroke-accent-20\"\r\n      />\r\n      {/* Progresso */}\r\n      <circle\r\n        cx={size / 2}\r\n        cy={size / 2}\r\n        r={radius}\r\n        fill=\"transparent\"\r\n        strokeWidth={strokeWidth}\r\n        strokeDasharray={circumference}\r\n        strokeDashoffset={offset}\r\n        className=\"stroke-accent\"\r\n        strokeLinecap=\"round\"\r\n        style={{ transition: \"stroke-dashoffset 300ms ease\" }}\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;;AAGe,SAAS,iBAAiB,EACvC,KAAK,EACL,OAAO,EAAE,EACT,cAAc,EAAE,EAKjB;IACC,MAAM,SAAS,CAAC,OAAO,WAAW,IAAI;IACtC,MAAM,gBAAgB,IAAI,KAAK,EAAE,GAAG;IACpC,MAAM,SAAS,gBAAgB,AAAC,QAAQ,MAAO;IAE/C,qBACE,8OAAC;QACC,OAAO;QACP,QAAQ;QACR,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,MAAM;QAC9B,WAAU;;0BAGV,8OAAC;gBACC,IAAI,OAAO;gBACX,IAAI,OAAO;gBACX,GAAG;gBACH,MAAK;gBACL,aAAa;gBACb,WAAU;;;;;;0BAGZ,8OAAC;gBACC,IAAI,OAAO;gBACX,IAAI,OAAO;gBACX,GAAG;gBACH,MAAK;gBACL,aAAa;gBACb,iBAAiB;gBACjB,kBAAkB;gBAClB,WAAU;gBACV,eAAc;gBACd,OAAO;oBAAE,YAAY;gBAA+B;;;;;;;;;;;;AAI5D","debugId":null}},
    {"offset": {"line": 1024, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/adsli/EstudoRank-patched-2025-10-22/estudorank/src/app/me/page.tsx"],"sourcesContent":["// src/app/me/page.tsx\r\n\"use client\";\r\n\r\nimport { useEffect, useMemo, useState } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { Trophy, CheckCircle2, Circle } from \"lucide-react\";\r\n\r\nimport AuthGuard from \"@/components/AuthGuard\";\r\nimport AppShell from \"@/components/shell/AppShell\";\r\nimport { supabaseBrowser } from \"@/lib/supabase/client\";\r\nimport { useToast } from \"@/components/Toast\";\r\n\r\nimport Card from \"@/components/ui/Card\";\r\nimport MotionButton from \"@/components/ui/MotionButton\";\r\nimport Collapse from \"@/components/ui/Collapse\";\r\nimport CircularProgress from \"@/components/ui/CircularProgress\";\r\n\r\n/* -------------------- Tipos -------------------- */\r\ntype Course = {\r\n  id: string;\r\n  title: string;\r\n  description: string | null;\r\n  is_active?: boolean;\r\n};\r\n\r\ntype Module = {\r\n  id: string;\r\n  course_id: string;\r\n  title: string;\r\n  sort_order: number;\r\n  is_active?: boolean;\r\n};\r\n\r\ntype Prog = {\r\n  id: string;\r\n  module_id: string;\r\n  completed: boolean;\r\n  points: number;\r\n  completed_at: string | null;\r\n};\r\n\r\n/* Logger seguro para depurar sem quebrar a UI */\r\nfunction logDeep(label: string, err: any) {\r\n  // eslint-disable-next-line no-console\r\n  console.error(label, err?.message || err?.error || err);\r\n  // eslint-disable-next-line no-console\r\n  console.error(label + \" (raw)\", err);\r\n}\r\n\r\n/* ===================== P√ÅGINA ===================== */\r\nexport default function MePage() {\r\n  return (\r\n    <AuthGuard>\r\n      <AppShell>\r\n        <Content />\r\n      </AppShell>\r\n    </AuthGuard>\r\n  );\r\n}\r\n\r\n/* ===================== CONTE√öDO (Client) ===================== */\r\nfunction Content() {\r\n  const supabase = useMemo(() => supabaseBrowser(), []);\r\n  const toast = useToast();\r\n\r\n  const [courses, setCourses] = useState<Course[]>([]);\r\n  const [modules, setModules] = useState<Module[]>([]);\r\n  const [progress, setProgress] = useState<Prog[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [busy, setBusy] = useState<string | null>(null);\r\n  const [msg, setMsg] = useState<string | null>(null);\r\n\r\n  /* -------------------- Carga inicial -------------------- */\r\n  useEffect(() => {\r\n    async function load() {\r\n      setLoading(true);\r\n      setMsg(null);\r\n\r\n      try {\r\n        const { data: auth } = await supabase.auth.getUser();\r\n        const uid = auth.user?.id;\r\n\r\n        const [c1, m1, p1] = await Promise.all([\r\n          supabase\r\n            .from(\"courses\")\r\n            .select(\"id, title, description, is_active\")\r\n            .eq(\"is_active\", true),\r\n\r\n          supabase\r\n            .from(\"modules\")\r\n            .select(\"id, course_id, title, sort_order, is_active\")\r\n            .eq(\"is_active\", true)\r\n            .order(\"sort_order\", { ascending: true }),\r\n\r\n          uid\r\n            ? supabase\r\n                .from(\"progress\")\r\n                .select(\"id, module_id, completed, points, completed_at\")\r\n                .eq(\"user_id\", uid)\r\n            : Promise.resolve({ data: [], error: null } as any),\r\n        ]);\r\n\r\n        if (c1.error) throw c1.error;\r\n        if (m1.error) throw m1.error;\r\n        if (p1.error) throw p1.error;\r\n\r\n        setCourses((c1.data as Course[]) ?? []);\r\n        setModules((m1.data as Module[]) ?? []);\r\n        setProgress((p1.data as Prog[]) ?? []);\r\n      } catch (e: any) {\r\n        logDeep(\"[load] error\", e);\r\n        setMsg(e?.message ?? \"Falha ao carregar dados.\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n\r\n    load();\r\n  }, [supabase]);\r\n\r\n  /* -------------------- Memos -------------------- */\r\n  const progByModule = useMemo(() => {\r\n    const map = new Map<string, Prog>();\r\n    for (const p of progress) map.set(p.module_id, p);\r\n    return map;\r\n  }, [progress]);\r\n\r\n  const totalPoints = useMemo(\r\n    () => progress.reduce((acc, p) => acc + (p.points ?? 0), 0),\r\n    [progress]\r\n  );\r\n\r\n  const activeModules = useMemo(\r\n    () => modules.filter((m) => m.is_active !== false),\r\n    [modules]\r\n  );\r\n\r\n  const completedCount = useMemo(\r\n    () => activeModules.filter((m) => progByModule.get(m.id)?.completed).length,\r\n    [activeModules, progByModule]\r\n  );\r\n\r\n  const totalCount = activeModules.length || 1;\r\n  const percent = Math.min(100, Math.round((completedCount / totalCount) * 100));\r\n  const level = Math.floor(totalPoints / 100) + 1; // 100 pts por n√≠vel\r\n\r\n  /* -------------------- A√ß√£o: alternar conclus√£o de m√≥dulo -------------------- */\r\n  async function toggleModule(moduleId: string) {\r\n    setBusy(moduleId);\r\n    setMsg(null);\r\n\r\n    try {\r\n      const { data: auth } = await supabase.auth.getUser();\r\n      const uid = auth.user?.id;\r\n      if (!uid) throw new Error(\"Sess√£o inv√°lida.\");\r\n\r\n      // 1) verificar se j√° existe progresso do usu√°rio para o m√≥dulo\r\n      const { data: existing, error: selErr } = await supabase\r\n        .from(\"progress\")\r\n        .select(\"id, module_id, completed, points, completed_at\")\r\n        .eq(\"user_id\", uid)\r\n        .eq(\"module_id\", moduleId)\r\n        .maybeSingle();\r\n\r\n      if (selErr) throw selErr;\r\n\r\n      if (!existing) {\r\n        // 2) concluir (upsert) ‚Äì gatilho no banco preenche points/completed_at\r\n        const { data, error } = await supabase\r\n          .from(\"progress\")\r\n          .upsert(\r\n            { user_id: uid, module_id: moduleId, completed: true },\r\n            { onConflict: \"user_id,module_id\" }\r\n          )\r\n          .select(\"id, module_id, completed, points, completed_at\")\r\n          .single();\r\n\r\n        if (error) throw error;\r\n\r\n        setProgress((s) => {\r\n          const i = s.findIndex((p) => p.module_id === moduleId);\r\n          if (i === -1) return [...s, data as Prog];\r\n          const next = [...s];\r\n          next[i] = data as Prog;\r\n          return next;\r\n        });\r\n      } else {\r\n        // 3) alternar completed - o gatilho no banco ajusta points/completed_at\r\n        const { data, error, status } = await supabase\r\n          .from(\"progress\")\r\n          .update({ completed: !existing.completed })\r\n          .eq(\"id\", existing.id)\r\n          .select(\"id, module_id, completed, points, completed_at\")\r\n          .maybeSingle();\r\n\r\n        if (error) throw error;\r\n\r\n        // Em alguns casos (RLS) volta 200/204 sem row ‚Äî refetch pontual\r\n        const effective =\r\n          data ??\r\n          (status === 204 || status === 200\r\n            ? (\r\n                await supabase\r\n                  .from(\"progress\")\r\n                  .select(\"id, module_id, completed, points, completed_at\")\r\n                  .eq(\"id\", existing.id)\r\n                  .maybeSingle()\r\n              ).data\r\n            : null);\r\n\r\n        if (!effective) {\r\n          // Fallback m√≠nimo para refletir na UI\r\n          setProgress((s) =>\r\n            s.map((p) =>\r\n              p.id === existing.id\r\n                ? {\r\n                    ...p,\r\n                    completed: !existing.completed,\r\n                    points: existing.completed ? 0 : 10,\r\n                    completed_at: existing.completed\r\n                      ? null\r\n                      : new Date().toISOString(),\r\n                  }\r\n                : p\r\n            )\r\n          );\r\n        } else {\r\n          setProgress((s) =>\r\n            s.map((p) => (p.id === existing.id ? (effective as Prog) : p))\r\n          );\r\n        }\r\n      }\r\n\r\n      toast.push(\"Progresso atualizado.\");\r\n    } catch (e: any) {\r\n      logDeep(\"[toggleModule] error\", e);\r\n      setMsg(e?.message ?? \"Falha ao atualizar progresso.\");\r\n      toast.push(\"Erro ao atualizar progresso\");\r\n    } finally {\r\n      setBusy(null);\r\n    }\r\n  }\r\n\r\n  /* -------------------- UI -------------------- */\r\n  return (\r\n    <div className=\"mx-auto max-w-6xl px-4 py-8\">\r\n      {/* HERO ‚Äî pontos, progresso e n√≠vel */}\r\n      <div className=\"relative overflow-hidden rounded-2xl border border-white/10 bg-gradient-to-br from-[#1E3A8A]/50 via-[#0b0f1a]/40 to-[#A3E635]/20 p-6\">\r\n        {/* auroras */}\r\n        <motion.div\r\n          className=\"pointer-events-none absolute -top-24 -left-16 h-64 w-64 rounded-full\"\r\n          style={{\r\n            background:\r\n              \"radial-gradient(closest-side, rgba(163,230,53,0.18), transparent)\",\r\n          }}\r\n          initial={{ opacity: 0, scale: 0.9 }}\r\n          animate={{ opacity: 1, scale: 1 }}\r\n          transition={{ duration: 0.8 }}\r\n        />\r\n        <motion.div\r\n          className=\"pointer-events-none absolute -bottom-24 -right-16 h-72 w-72 rounded-full\"\r\n          style={{\r\n            background:\r\n              \"radial-gradient(closest-side, rgba(30,58,138,0.25), transparent)\",\r\n          }}\r\n          initial={{ opacity: 0, scale: 0.9 }}\r\n          animate={{ opacity: 1, scale: 1 }}\r\n          transition={{ duration: 0.8, delay: 0.1 }}\r\n        />\r\n\r\n        <div className=\"relative z-10 grid grid-cols-1 items-center gap-6 md:grid-cols-3\">\r\n          {/* Pontos totais */}\r\n          <div className=\"flex items-center gap-5\">\r\n            <div className=\"rounded-2xl bg-white/10 p-4 shadow-inner\">\r\n              <Trophy size={42} />\r\n            </div>\r\n            <div>\r\n              <div className=\"text-sm opacity-80\">Seus pontos:</div>\r\n              <div className=\"text-4xl font-bold tracking-tight text-accent md:text-5xl\">\r\n                {totalPoints}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Progresso geral ‚Äî donut */}\r\n          <div className=\"flex md:justify-center\">\r\n            <div className=\"flex items-center gap-4\">\r\n              <CircularProgress value={percent} size={96} strokeWidth={10} />\r\n              <div>\r\n                <div className=\"text-2xl font-semibold leading-none text-accent\">\r\n                  {percent}%\r\n                </div>\r\n                <div className=\"mt-1 text-sm opacity-80\">\r\n                  {completedCount}/{totalCount} m√≥dulos conclu√≠dos\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* N√≠vel */}\r\n          <div className=\"flex md:justify-end\">\r\n            <div className=\"text-right\">\r\n              <div className=\"text-lg font-semibold text-accent\">\r\n                N√≠vel {level}\r\n              </div>\r\n              <div className=\"text-xs opacity-75\">Pr√≥ximo: {level * 100} pts</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Erro geral */}\r\n      {msg && (\r\n        <div className=\"mt-4 rounded-xl border border-white/10 bg-white/10 p-3 text-sm\">\r\n          {msg}\r\n        </div>\r\n      )}\r\n\r\n      {/* Lista de cursos */}\r\n      <h2 className=\"mt-10 mb-3 text-lg font-semibold opacity-80\">\r\n        Cursos ativos\r\n      </h2>\r\n\r\n      <div className=\"grid grid-cols-1 gap-5\">\r\n        {loading ? (\r\n          <>\r\n            <Card className=\"h-32 border-white/5 bg-white/[0.03]\" />\r\n            <Card className=\"h-32 border-white/5 bg-white/[0.03]\" />\r\n          </>\r\n        ) : courses.length === 0 ? (\r\n          <Card className=\"p-4\">\r\n            Nenhum curso ativo. Use ‚ÄúPopular demo‚Äù em Admin.\r\n          </Card>\r\n        ) : (\r\n          courses.map((c) => {\r\n            const courseModules = modules.filter((m) => m.course_id === c.id);\r\n            const doneCount = courseModules.filter(\r\n              (m) => progByModule.get(m.id)?.completed\r\n            ).length;\r\n\r\n            return (\r\n              <Card\r\n                key={c.id}\r\n                className=\"overflow-hidden border-white/5 bg-white/[0.03] p-0 shadow-[0_0_6px_rgba(255,255,255,0.04)]\"\r\n              >\r\n                <Collapse\r\n                  defaultOpen\r\n                  title={\r\n                    <div className=\"flex w-full items-center justify-between p-4 text-left\">\r\n                      <div>\r\n                        <div className=\"font-semibold tracking-tight\">\r\n                          {c.title}\r\n                        </div>\r\n                        {c.description && (\r\n                          <div className=\"mt-0.5 text-xs opacity-70\">\r\n                            {c.description}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                      <span className=\"rounded-md border border-white/10 bg-white/10 px-2 py-0.5 text-xs\">\r\n                        {doneCount}/{courseModules.length}\r\n                      </span>\r\n                    </div>\r\n                  }\r\n                >\r\n                  <div className=\"p-2\">\r\n                    {courseModules.length === 0 ? (\r\n                      <div className=\"px-2 py-3 text-sm opacity-70\">\r\n                        Carregando m√≥dulos...\r\n                      </div>\r\n                    ) : (\r\n                      courseModules.map((m) => {\r\n                        const st = progByModule.get(m.id);\r\n                        const done = !!st?.completed;\r\n\r\n                        return (\r\n                          <div\r\n                            key={m.id}\r\n                            className=\"flex items-center justify-between rounded-lg px-3 py-2 transition hover:bg-white/5\"\r\n                          >\r\n                            <div className=\"flex items-center gap-2\">\r\n                              {done ? (\r\n                                <CheckCircle2 size={16} className=\"text-accent\" />\r\n                              ) : (\r\n                                <Circle size={16} className=\"opacity-60\" />\r\n                              )}\r\n                              <div>\r\n                                <div className=\"text-sm font-medium\">\r\n                                  {m.title}\r\n                                </div>\r\n                                <div className=\"text-xs opacity-70\">\r\n                                  {done ? \"Conclu√≠do (+10 pts)\" : \"Pendente\"}\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n\r\n                            <MotionButton\r\n                              onClick={() => toggleModule(m.id)}\r\n                              disabled={busy === m.id}\r\n                              aria-busy={busy === m.id}\r\n                              className=\"rounded-lg bg-white/10 px-3 py-1 text-xs hover:bg-white/20\"\r\n                            >\r\n                              {busy === m.id\r\n                                ? \"Atualizando...\"\r\n                                : done\r\n                                ? \"Desfazer\"\r\n                                : \"Concluir\"}\r\n                            </MotionButton>\r\n                          </div>\r\n                        );\r\n                      })\r\n                    )}\r\n                  </div>\r\n                </Collapse>\r\n              </Card>\r\n            );\r\n          })\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,sBAAsB;;;;;;AAGtB;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAdA;;;;;;;;;;;;;AAwCA,+CAA+C,GAC/C,SAAS,QAAQ,KAAa,EAAE,GAAQ;IACtC,sCAAsC;IACtC,QAAQ,KAAK,CAAC,OAAO,KAAK,WAAW,KAAK,SAAS;IACnD,sCAAsC;IACtC,QAAQ,KAAK,CAAC,QAAQ,UAAU;AAClC;AAGe,SAAS;IACtB,qBACE,8OAAC,0IAAS;kBACR,cAAA,8OAAC,kJAAQ;sBACP,cAAA,8OAAC;;;;;;;;;;;;;;;AAIT;AAEA,iEAAiE,GACjE,SAAS;IACP,MAAM,WAAW,IAAA,gNAAO,EAAC,IAAM,IAAA,mJAAe,KAAI,EAAE;IACpD,MAAM,QAAQ,IAAA,uIAAQ;IAEtB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAW,EAAE;IACnD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAW,EAAE;IACnD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAS,EAAE;IACnD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAgB;IAChD,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,iNAAQ,EAAgB;IAE9C,2DAA2D,GAC3D,IAAA,kNAAS,EAAC;QACR,eAAe;YACb,WAAW;YACX,OAAO;YAEP,IAAI;gBACF,MAAM,EAAE,MAAM,IAAI,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;gBAClD,MAAM,MAAM,KAAK,IAAI,EAAE;gBAEvB,MAAM,CAAC,IAAI,IAAI,GAAG,GAAG,MAAM,QAAQ,GAAG,CAAC;oBACrC,SACG,IAAI,CAAC,WACL,MAAM,CAAC,qCACP,EAAE,CAAC,aAAa;oBAEnB,SACG,IAAI,CAAC,WACL,MAAM,CAAC,+CACP,EAAE,CAAC,aAAa,MAChB,KAAK,CAAC,cAAc;wBAAE,WAAW;oBAAK;oBAEzC,MACI,SACG,IAAI,CAAC,YACL,MAAM,CAAC,kDACP,EAAE,CAAC,WAAW,OACjB,QAAQ,OAAO,CAAC;wBAAE,MAAM,EAAE;wBAAE,OAAO;oBAAK;iBAC7C;gBAED,IAAI,GAAG,KAAK,EAAE,MAAM,GAAG,KAAK;gBAC5B,IAAI,GAAG,KAAK,EAAE,MAAM,GAAG,KAAK;gBAC5B,IAAI,GAAG,KAAK,EAAE,MAAM,GAAG,KAAK;gBAE5B,WAAW,AAAC,GAAG,IAAI,IAAiB,EAAE;gBACtC,WAAW,AAAC,GAAG,IAAI,IAAiB,EAAE;gBACtC,YAAY,AAAC,GAAG,IAAI,IAAe,EAAE;YACvC,EAAE,OAAO,GAAQ;gBACf,QAAQ,gBAAgB;gBACxB,OAAO,GAAG,WAAW;YACvB,SAAU;gBACR,WAAW;YACb;QACF;QAEA;IACF,GAAG;QAAC;KAAS;IAEb,mDAAmD,GACnD,MAAM,eAAe,IAAA,gNAAO,EAAC;QAC3B,MAAM,MAAM,IAAI;QAChB,KAAK,MAAM,KAAK,SAAU,IAAI,GAAG,CAAC,EAAE,SAAS,EAAE;QAC/C,OAAO;IACT,GAAG;QAAC;KAAS;IAEb,MAAM,cAAc,IAAA,gNAAO,EACzB,IAAM,SAAS,MAAM,CAAC,CAAC,KAAK,IAAM,MAAM,CAAC,EAAE,MAAM,IAAI,CAAC,GAAG,IACzD;QAAC;KAAS;IAGZ,MAAM,gBAAgB,IAAA,gNAAO,EAC3B,IAAM,QAAQ,MAAM,CAAC,CAAC,IAAM,EAAE,SAAS,KAAK,QAC5C;QAAC;KAAQ;IAGX,MAAM,iBAAiB,IAAA,gNAAO,EAC5B,IAAM,cAAc,MAAM,CAAC,CAAC,IAAM,aAAa,GAAG,CAAC,EAAE,EAAE,GAAG,WAAW,MAAM,EAC3E;QAAC;QAAe;KAAa;IAG/B,MAAM,aAAa,cAAc,MAAM,IAAI;IAC3C,MAAM,UAAU,KAAK,GAAG,CAAC,KAAK,KAAK,KAAK,CAAC,AAAC,iBAAiB,aAAc;IACzE,MAAM,QAAQ,KAAK,KAAK,CAAC,cAAc,OAAO,GAAG,oBAAoB;IAErE,gFAAgF,GAChF,eAAe,aAAa,QAAgB;QAC1C,QAAQ;QACR,OAAO;QAEP,IAAI;YACF,MAAM,EAAE,MAAM,IAAI,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;YAClD,MAAM,MAAM,KAAK,IAAI,EAAE;YACvB,IAAI,CAAC,KAAK,MAAM,IAAI,MAAM;YAE1B,+DAA+D;YAC/D,MAAM,EAAE,MAAM,QAAQ,EAAE,OAAO,MAAM,EAAE,GAAG,MAAM,SAC7C,IAAI,CAAC,YACL,MAAM,CAAC,kDACP,EAAE,CAAC,WAAW,KACd,EAAE,CAAC,aAAa,UAChB,WAAW;YAEd,IAAI,QAAQ,MAAM;YAElB,IAAI,CAAC,UAAU;gBACb,uEAAuE;gBACvE,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAC3B,IAAI,CAAC,YACL,MAAM,CACL;oBAAE,SAAS;oBAAK,WAAW;oBAAU,WAAW;gBAAK,GACrD;oBAAE,YAAY;gBAAoB,GAEnC,MAAM,CAAC,kDACP,MAAM;gBAET,IAAI,OAAO,MAAM;gBAEjB,YAAY,CAAC;oBACX,MAAM,IAAI,EAAE,SAAS,CAAC,CAAC,IAAM,EAAE,SAAS,KAAK;oBAC7C,IAAI,MAAM,CAAC,GAAG,OAAO;2BAAI;wBAAG;qBAAa;oBACzC,MAAM,OAAO;2BAAI;qBAAE;oBACnB,IAAI,CAAC,EAAE,GAAG;oBACV,OAAO;gBACT;YACF,OAAO;gBACL,wEAAwE;gBACxE,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,MAAM,SACnC,IAAI,CAAC,YACL,MAAM,CAAC;oBAAE,WAAW,CAAC,SAAS,SAAS;gBAAC,GACxC,EAAE,CAAC,MAAM,SAAS,EAAE,EACpB,MAAM,CAAC,kDACP,WAAW;gBAEd,IAAI,OAAO,MAAM;gBAEjB,gEAAgE;gBAChE,MAAM,YACJ,QACA,CAAC,WAAW,OAAO,WAAW,MAC1B,CACE,MAAM,SACH,IAAI,CAAC,YACL,MAAM,CAAC,kDACP,EAAE,CAAC,MAAM,SAAS,EAAE,EACpB,WAAW,EAChB,EAAE,IAAI,GACN,IAAI;gBAEV,IAAI,CAAC,WAAW;oBACd,sCAAsC;oBACtC,YAAY,CAAC,IACX,EAAE,GAAG,CAAC,CAAC,IACL,EAAE,EAAE,KAAK,SAAS,EAAE,GAChB;gCACE,GAAG,CAAC;gCACJ,WAAW,CAAC,SAAS,SAAS;gCAC9B,QAAQ,SAAS,SAAS,GAAG,IAAI;gCACjC,cAAc,SAAS,SAAS,GAC5B,OACA,IAAI,OAAO,WAAW;4BAC5B,IACA;gBAGV,OAAO;oBACL,YAAY,CAAC,IACX,EAAE,GAAG,CAAC,CAAC,IAAO,EAAE,EAAE,KAAK,SAAS,EAAE,GAAI,YAAqB;gBAE/D;YACF;YAEA,MAAM,IAAI,CAAC;QACb,EAAE,OAAO,GAAQ;YACf,QAAQ,wBAAwB;YAChC,OAAO,GAAG,WAAW;YACrB,MAAM,IAAI,CAAC;QACb,SAAU;YACR,QAAQ;QACV;IACF;IAEA,gDAAgD,GAChD,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC,oMAAM,CAAC,GAAG;wBACT,WAAU;wBACV,OAAO;4BACL,YACE;wBACJ;wBACA,SAAS;4BAAE,SAAS;4BAAG,OAAO;wBAAI;wBAClC,SAAS;4BAAE,SAAS;4BAAG,OAAO;wBAAE;wBAChC,YAAY;4BAAE,UAAU;wBAAI;;;;;;kCAE9B,8OAAC,oMAAM,CAAC,GAAG;wBACT,WAAU;wBACV,OAAO;4BACL,YACE;wBACJ;wBACA,SAAS;4BAAE,SAAS;4BAAG,OAAO;wBAAI;wBAClC,SAAS;4BAAE,SAAS;4BAAG,OAAO;wBAAE;wBAChC,YAAY;4BAAE,UAAU;4BAAK,OAAO;wBAAI;;;;;;kCAG1C,8OAAC;wBAAI,WAAU;;0CAEb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC,gNAAM;4CAAC,MAAM;;;;;;;;;;;kDAEhB,8OAAC;;0DACC,8OAAC;gDAAI,WAAU;0DAAqB;;;;;;0DACpC,8OAAC;gDAAI,WAAU;0DACZ;;;;;;;;;;;;;;;;;;0CAMP,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,uJAAgB;4CAAC,OAAO;4CAAS,MAAM;4CAAI,aAAa;;;;;;sDACzD,8OAAC;;8DACC,8OAAC;oDAAI,WAAU;;wDACZ;wDAAQ;;;;;;;8DAEX,8OAAC;oDAAI,WAAU;;wDACZ;wDAAe;wDAAE;wDAAW;;;;;;;;;;;;;;;;;;;;;;;;0CAOrC,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAI,WAAU;;gDAAoC;gDAC1C;;;;;;;sDAET,8OAAC;4CAAI,WAAU;;gDAAqB;gDAAU,QAAQ;gDAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAOjE,qBACC,8OAAC;gBAAI,WAAU;0BACZ;;;;;;0BAKL,8OAAC;gBAAG,WAAU;0BAA8C;;;;;;0BAI5D,8OAAC;gBAAI,WAAU;0BACZ,wBACC;;sCACE,8OAAC,2IAAI;4BAAC,WAAU;;;;;;sCAChB,8OAAC,2IAAI;4BAAC,WAAU;;;;;;;mCAEhB,QAAQ,MAAM,KAAK,kBACrB,8OAAC,2IAAI;oBAAC,WAAU;8BAAM;;;;;2BAItB,QAAQ,GAAG,CAAC,CAAC;oBACX,MAAM,gBAAgB,QAAQ,MAAM,CAAC,CAAC,IAAM,EAAE,SAAS,KAAK,EAAE,EAAE;oBAChE,MAAM,YAAY,cAAc,MAAM,CACpC,CAAC,IAAM,aAAa,GAAG,CAAC,EAAE,EAAE,GAAG,WAC/B,MAAM;oBAER,qBACE,8OAAC,2IAAI;wBAEH,WAAU;kCAEV,cAAA,8OAAC,+IAAQ;4BACP,WAAW;4BACX,qBACE,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;;0DACC,8OAAC;gDAAI,WAAU;0DACZ,EAAE,KAAK;;;;;;4CAET,EAAE,WAAW,kBACZ,8OAAC;gDAAI,WAAU;0DACZ,EAAE,WAAW;;;;;;;;;;;;kDAIpB,8OAAC;wCAAK,WAAU;;4CACb;4CAAU;4CAAE,cAAc,MAAM;;;;;;;;;;;;;sCAKvC,cAAA,8OAAC;gCAAI,WAAU;0CACZ,cAAc,MAAM,KAAK,kBACxB,8OAAC;oCAAI,WAAU;8CAA+B;;;;;2CAI9C,cAAc,GAAG,CAAC,CAAC;oCACjB,MAAM,KAAK,aAAa,GAAG,CAAC,EAAE,EAAE;oCAChC,MAAM,OAAO,CAAC,CAAC,IAAI;oCAEnB,qBACE,8OAAC;wCAEC,WAAU;;0DAEV,8OAAC;gDAAI,WAAU;;oDACZ,qBACC,8OAAC,qOAAY;wDAAC,MAAM;wDAAI,WAAU;;;;;6EAElC,8OAAC,gNAAM;wDAAC,MAAM;wDAAI,WAAU;;;;;;kEAE9B,8OAAC;;0EACC,8OAAC;gEAAI,WAAU;0EACZ,EAAE,KAAK;;;;;;0EAEV,8OAAC;gEAAI,WAAU;0EACZ,OAAO,wBAAwB;;;;;;;;;;;;;;;;;;0DAKtC,8OAAC,mJAAY;gDACX,SAAS,IAAM,aAAa,EAAE,EAAE;gDAChC,UAAU,SAAS,EAAE,EAAE;gDACvB,aAAW,SAAS,EAAE,EAAE;gDACxB,WAAU;0DAET,SAAS,EAAE,EAAE,GACV,mBACA,OACA,aACA;;;;;;;uCA7BD,EAAE,EAAE;;;;;gCAiCf;;;;;;;;;;;uBApED,EAAE,EAAE;;;;;gBA0Ef;;;;;;;;;;;;AAKV","debugId":null}}]
}